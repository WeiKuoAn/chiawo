/* @license
morris.js06 v0.6.8
https://pierresh.github.io/morris.js/
Copyright 2021 Olly Smith All rights reserved.
Licensed under the BSD-2-Clause License.
*/(function(){var g,W,D,E,I=[].slice,T=function(d,n){return function(){return d.apply(n,arguments)}},X={}.hasOwnProperty,R=function(d,n){for(var t in n)X.call(n,t)&&(d[t]=n[t]);function e(){this.constructor=d}return e.prototype=n.prototype,d.prototype=new e,d.__super__=n.prototype,d},j=[].indexOf||function(d){for(var n=0,t=this.length;n<t;n++)if(n in this&&this[n]===d)return n;return-1};g=window.Morris={},W=function(d){return getComputedStyle?getComputedStyle(d,null):d.currentStyle?d.currentStyle:d.style},g.EventEmitter=function(){function d(){}return d.prototype.on=function(n,t){return this.handlers==null&&(this.handlers={}),this.handlers[n]==null&&(this.handlers[n]=[]),this.handlers[n].push(t),this},d.prototype.fire=function(){var n,t,e,i,s,o,r;if(e=arguments[0],n=2<=arguments.length?I.call(arguments,1):[],this.handlers!=null&&this.handlers[e]!=null){for(o=this.handlers[e],r=[],i=0,s=o.length;i<s;i++)t=o[i],r.push(t.apply(null,n));return r}},d}(),g.commas=function(d){var n,t,e,i;return d!=null?(e=d<0?"-":"",n=Math.abs(d),t=Math.floor(n).toFixed(0),e+=t.replace(/(?=(?:\d{3})+$)(?!^)/g,","),i=n.toString(),i.length>t.length&&(e+=i.slice(t.length)),e):"-"},g.pad2=function(d){return(d<10?"0":"")+d},g.extend=function(){var d,n,t,e,i,s,o;for(n=arguments[0],t=2<=arguments.length?I.call(arguments,1):[],n==null&&(n={}),s=0,o=t.length;s<o;s++)if(e=t[s],e!=null)for(d in e)i=e[d],e.hasOwnProperty(d)&&(n[d]=i);return n},g.offset=function(d){var n;return n=d.getBoundingClientRect(),{top:n.top+document.body.scrollTop,left:n.left+document.body.scrollLeft}},g.css=function(d,n){return W(d)[n]},g.on=function(d,n,t){return d.addEventListener?d.addEventListener(n,t):d.attachEvent("on"+n,t)},g.off=function(d,n,t){return d.removeEventListener?d.removeEventListener(n,t):d.detachEvent("on"+n,t)},g.dimensions=function(d){var n;return n=W(d),{width:parseInt(n.width),height:parseInt(n.height)}},g.innerDimensions=function(d){var n;return n=W(d),{width:parseInt(n.width)+parseInt(n.paddingLeft)+parseInt(n.paddingRight),height:parseInt(n.height)+parseInt(n.paddingTop)+parseInt(n.paddingBottom)}},g.Grid=function(d){R(n,d);function n(t){if(this.setLabels=T(this.setLabels,this),this.hasToShow=T(this.hasToShow,this),this.debouncedResizeHandler=T(this.debouncedResizeHandler,this),this.resizeHandler=T(this.resizeHandler,this),this.mouseupHandler=T(this.mouseupHandler,this),this.mousedownHandler=T(this.mousedownHandler,this),this.clickHandler=T(this.clickHandler,this),this.touchHandler=T(this.touchHandler,this),this.mouseleaveHandler=T(this.mouseleaveHandler,this),this.mousemoveHandler=T(this.mousemoveHandler,this),typeof t.element=="string"?this.el=document.getElementById(t.element):this.el=t.element[0]||t.element,this.el==null)throw new Error("Graph container element not found");g.css(this.el,"position")==="static"&&(this.el.style.position="relative"),this.options=g.extend({},this.gridDefaults,this.defaults||{},t),typeof this.options.units=="string"&&(this.options.postUnits=t.units),this.raphael=new Raphael(this.el),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.selectFrom=null,this.init&&this.init(),this.setData(this.options.data),g.on(this.el,"mousemove",this.mousemoveHandler),g.on(this.el,"mouseleave",this.mouseleaveHandler),g.on(this.el,"touchstart touchmove touchend",this.touchHandler),g.on(this.el,"click",this.clickHandler),this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,g.innerDimensions(this.el).height).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),g.on(this.el,"mousedown",this.mousedownHandler),g.on(this.el,"mouseup",this.mouseupHandler)),this.options.resize&&g.on(window,"resize",this.resizeHandler),this.el.style.webkitTapHighlightColor="rgba(0,0,0,0)",this.postInit&&this.postInit()}return n.prototype.gridDefaults={dateFormat:null,axes:!0,freePosition:!1,grid:!0,gridIntegers:!1,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:"auto",yLabelFormat:null,yLabelAlign:"right",yLabelAlign2:"left",xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",postUnits2:"",preUnits:"",preUnits2:"",ymax:"auto",ymin:"auto 0",ymax2:"auto",ymin2:"auto 0",regions:[],regionsColors:["#fde4e4"],goals:[],goals2:[],goalStrokeWidth:1,goalStrokeWidth2:1,goalLineColors:["red"],goalLineColors2:["red"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04"],rangeSelect:null,rangeSelectColor:"#eef",resize:!0,dataLabels:!0,dataLabelsPosition:"outside",dataLabelsFamily:"sans-serif",dataLabelsSize:12,dataLabelsWeight:"normal",dataLabelsColor:"auto",animate:!0,nbYkeys2:0,smooth:!0},n.prototype.destroy=function(){if(g.off(this.el,"mousemove",this.mousemoveHandler),g.off(this.el,"mouseleave",this.mouseleaveHandler),g.off(this.el,"touchstart touchmove touchend",this.touchHandler),g.off(this.el,"click",this.clickHandler),this.options.rangeSelect&&(g.off(this.el,"mousedown",this.mousedownHandler),g.off(this.el,"mouseup",this.mouseupHandler)),this.options.resize)return window.clearTimeout(this.timeoutId),g.off(window,"resize",this.resizeHandler)},n.prototype.setData=function(t,e){var i,s,o,r,a,l,h,p,f,u,c,y,m,v,x,_,b,L,S,w,z,k,M,C;if(e==null&&(e=!0),this.options.data=t,t==null||t.length===0){this.data=[],this.raphael.clear(),this.hover!=null&&this.hover.hide();return}if(_=this.cumulative?0:null,L=this.cumulative?0:null,b=this.cumulative?0:null,S=this.cumulative?0:null,this.options.goals.length>0&&(h=Math.min.apply(Math,this.options.goals),l=Math.max.apply(Math,this.options.goals),L=L!=null?Math.min(L,h):h,_=_!=null?Math.max(_,l):l),this.options.goals2.length>0&&(h=Math.min.apply(Math,this.options.goals2),l=Math.max.apply(Math,this.options.goals2),S=S!=null?Math.min(S,h):h,b=b!=null?Math.max(b,l):l),this.options.nbYkeys2>this.options.ykeys.length&&(this.options.nbYkeys2=this.options.ykeys.length),this.data=function(){var F,H,Y;for(Y=[],a=F=0,H=t.length;F<H;a=++F)f=t[a],p={src:f},p.label=f[this.options.xkey],this.options.parseTime?(p.x=g.parseDate(p.label),this.options.dateFormat?p.label=this.options.dateFormat(p.x):typeof p.label=="number"&&(p.label=new Date(p.label).toString())):this.options.freePosition?(p.x=parseFloat(f[this.options.xkey]),this.options.xLabelFormat&&(p.label=this.options.xLabelFormat(p))):(p.x=a,this.options.xLabelFormat&&(p.label=this.options.xLabelFormat(p))),m=0,p.y=function(){var A,G,B,P;for(B=this.options.ykeys,P=[],r=A=0,G=B.length;A<G;r=++A)x=B[r],w=f[x],typeof w=="string"&&(w=parseFloat(w)),w!=null&&typeof w!="number"&&(w=null),r<this.options.ykeys.length-this.options.nbYkeys2?(w!=null&&this.hasToShow(r)&&(this.cumulative?m<0&&w>0?m=w:m+=w:_!=null?(_=Math.max(w,_),L=Math.min(w,L)):_=L=w),this.cumulative&&m!=null&&(_=Math.max(m,_),L=Math.min(m,L))):(w!=null&&this.hasToShow(r)&&(this.cumulative?m=w:b!=null?(b=Math.max(w,b),S=Math.min(w,S)):b=S=w),this.cumulative&&m!=null&&(b=Math.max(m,b),S=Math.min(m,S))),P.push(w);return P}.call(this),Y.push(p);return Y}.call(this),(this.options.parseTime||this.options.freePosition)&&(this.data=this.data.sort(function(F,H){return(F.x>H.x)-(H.x>F.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.events.length>0){if(this.options.parseTime)for(M=this.options.events,z=0,k=M.length;z<k;z++)i=M[z],i instanceof Array?(o=i[0],y=i[1],this.events.push([g.parseDate(o),g.parseDate(y)])):this.events.push(g.parseDate(i));else this.events=this.options.events;s=this.events.map(function(F){return F}),this.xmax=Math.max(this.xmax,Math.max.apply(Math,s)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,s))}if(this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",L),this.ymax=this.yboundary("max",_),this.ymin2=this.yboundary("min2",S),this.ymax2=this.yboundary("max2",b),this.ymin===this.ymax&&(L&&(this.ymin-=1),this.ymax+=1),this.ymin2===this.ymax2&&(S&&(this.ymin2-=1),this.ymax2+=1),((C=this.options.axes)===!0||C==="both"||C==="y"||this.options.grid===!0)&&(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(u=(this.ymax-this.ymin)/(this.options.numLines-1),this.options.gridIntegers&&(u=Math.max(1,Math.round(u))),this.grid=function(){var F,H,Y;for(Y=[],v=F=this.ymin,H=this.ymax;u>0?F<=H:F>=H;v=F+=u)Y.push(parseFloat(v.toFixed(2)));return Y}.call(this)),this.options.ymax2===this.gridDefaults.ymax2&&this.options.ymin2===this.gridDefaults.ymin2&&this.options.nbYkeys2>0?(this.grid2=this.autoGridLines(this.ymin2,this.ymax2,this.options.numLines),this.ymin2=Math.min(this.ymin2,this.grid2[0]),this.ymax2=Math.max(this.ymax2,this.grid2[this.grid2.length-1])):(c=(this.ymax2-this.ymin2)/(this.options.numLines-1),this.grid2=function(){var F,H,Y;for(Y=[],v=F=this.ymin2,H=this.ymax2;c>0?F<=H:F>=H;v=F+=c)Y.push(parseFloat(v.toFixed(2)));return Y}.call(this))),this.dirty=!0,e)return this.redraw()},n.prototype.yboundary=function(t,e){var i,s;return i=this.options["y"+t],typeof i=="string"?i.slice(0,4)==="auto"?i.length>5?(s=parseInt(i.slice(5),10),e==null?s:Math[t.substring(0,3)](e,s)):e??0:parseInt(i,10):i},n.prototype.autoGridLines=function(t,e,i){var s,o,r,a,l,h,p,f,u;return l=e-t,u=Math.floor(Math.log(l)/Math.log(10)),p=Math.pow(10,u),o=Math.floor(t/p)*p,s=Math.ceil(e/p)*p,h=(s-o)/(i-1),p===1&&h>1&&Math.ceil(h)!==h&&(h=Math.ceil(h),s=o+h*(i-1)),o<0&&s>0&&(o=Math.floor(t/h)*h,s=Math.ceil(e/h)*h),h<1?(a=Math.floor(Math.log(h)/Math.log(10)),r=function(){var c,y;for(y=[],f=c=o;h>0?c<=s:c>=s;f=c+=h)y.push(parseFloat(f.toFixed(1-a)));return y}()):r=function(){var c,y;for(y=[],f=c=o;h>0?c<=s:c>=s;f=c+=h)y.push(f);return y}(),r},n.prototype._calc=function(){var t,e,i,s,o,r,a,l,h,p,f;if(h=g.dimensions(this.el),r=h.width,s=h.height,(this.elementWidth!==r||this.elementHeight!==s||this.dirty)&&(this.elementWidth=r,this.elementHeight=s,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,((p=this.options.axes)===!0||p==="both"||p==="y")&&(this.grid!=null&&(a=function(){var u,c,y,m;for(y=this.grid,m=[],u=0,c=y.length;u<c;u++)i=y[u],m.push(this.measureText(this.yAxisFormat(i)).width);return m}.call(this)),this.options.nbYkeys2>0&&(l=function(){var u,c,y,m;for(y=this.grid2,m=[],u=0,c=y.length;u<c;u++)i=y[u],m.push(this.measureText(this.yAxisFormat2(i)).width);return m}.call(this)),this.options.horizontal?this.bottom-=this.options.padding/2:(this.left+=Math.max.apply(Math,a),this.options.nbYkeys2>0&&(this.right-=Math.max.apply(Math,l)))),((f=this.options.axes)===!0||f==="both"||f==="x")&&(this.options.horizontal?t=-90:t=-this.options.xLabelAngle,e=function(){var u,c,y;for(y=[],o=u=0,c=this.data.length;0<=c?u<c:u>c;o=0<=c?++u:--u)y.push(this.measureText(this.data[o].label,t).height);return y}.call(this),this.options.horizontal?this.left+=Math.max.apply(Math,e):this.bottom-=Math.max.apply(Math,e)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.options.horizontal?(this.dx=this.height/(this.xmax-this.xmin),this.dy=this.width/(this.ymax-this.ymin),this.dy2=this.width/(this.ymax2-this.ymin2),this.yStart=this.left,this.yEnd=this.right,this.xStart=this.top,this.xEnd=this.bottom,this.xSize=this.height,this.ySize=this.width):(this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.dy2=this.height/(this.ymax2-this.ymin2),this.yStart=this.bottom,this.yEnd=this.top,this.xStart=this.left,this.xEnd=this.right,this.xSize=this.width,this.ySize=this.height),this.calc))return this.calc()},n.prototype.transY=function(t){return this.options.horizontal?this.left+(t-this.ymin)*this.dy:this.bottom-(t-this.ymin)*this.dy},n.prototype.transY2=function(t){return this.options.horizontal?this.left+(t-this.ymin2)*this.dy2:this.bottom-(t-this.ymin2)*this.dy2},n.prototype.transX=function(t){return this.data.length===1?(this.xStart+this.xEnd)/2:this.xStart+(t-this.xmin)*this.dx},n.prototype.redraw=function(){return this.raphael.clear(),this._calc(),this.drawGrid(),this.drawRegions(),this.drawEvents(),this.draw&&this.draw(),this.drawGoals(),this.setLabels()},n.prototype.measureText=function(t,e){var i,s;return e==null&&(e=0),s=this.raphael.text(100,100,t).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(e),i=s.getBBox(),s.remove(),i},n.prototype.yAxisFormat=function(t){return this.yLabelFormat(t,0)},n.prototype.yAxisFormat2=function(t){return this.yLabelFormat(t,1e3)},n.prototype.yLabelFormat=function(t,e){return typeof this.options.yLabelFormat=="function"?this.options.yLabelFormat(t,e):this.options.nbYkeys2===0||e<=this.options.ykeys.length-this.options.nbYkeys2-1?""+this.options.preUnits+g.commas(t)+this.options.postUnits:""+this.options.preUnits2+g.commas(t)+this.options.postUnits2},n.prototype.yLabelFormat_noUnit=function(t,e){return typeof this.options.yLabelFormat=="function"?this.options.yLabelFormat(t,e):""+g.commas(t)},n.prototype.getYAxisLabelX=function(){return this.options.yLabelAlign==="right"?this.left-this.options.padding/2:this.options.padding/2},n.prototype.drawGrid=function(){var t,e,i,s,o,r,a,l,h,p,f,u,c,y;if(!(this.options.grid===!1&&(h=this.options.axes)!==!0&&h!=="both"&&h!=="y")){if(this.options.horizontal?(t=this.getXAxisLabelY(),e=this.top-(this.options.xAxisLabelTopPadding||this.options.padding/2)):(t=this.getYAxisLabelX(),e=this.right+this.options.padding/2),this.grid!=null)for(p=this.grid,o=0,a=p.length;o<a;o++)i=p[o],s=this.transY(i),((f=this.options.axes)===!0||f==="both"||f==="y")&&(this.options.horizontal?this.drawXAxisLabel(s,t,this.yAxisFormat(i)):this.drawYAxisLabel(t,s,this.yAxisFormat(i),1)),this.options.grid&&(s=Math.floor(s)+.5,this.options.horizontal?this.drawGridLine("M"+s+","+this.xStart+"V"+this.xEnd):(isNaN(this.xEnd)&&(this.xEnd=20),this.drawGridLine("M"+this.xStart+","+s+"H"+this.xEnd)));if(this.options.nbYkeys2>0){for(u=this.grid2,y=[],r=0,l=u.length;r<l;r++)i=u[r],s=this.transY2(i),(c=this.options.axes)===!0||c==="both"||c==="y"?this.options.horizontal?y.push(this.drawXAxisLabel(s,e,this.yAxisFormat2(i))):y.push(this.drawYAxisLabel(e,s,this.yAxisFormat2(i),2)):y.push(void 0);return y}}},n.prototype.drawRegions=function(){var t,e,i,s,o,r,a;for(r=this.options.regions,a=[],e=s=0,o=r.length;s<o;e=++s)i=r[e],t=this.options.regionsColors[e%this.options.regionsColors.length],a.push(this.drawRegion(i,t));return a},n.prototype.drawGoals=function(){var t,e,i,s,o,r,a,l,h,p;for(l=this.options.goals,i=s=0,r=l.length;s<r;i=++s)e=l[i],t=this.options.goalLineColors[i%this.options.goalLineColors.length],this.drawGoal(e,t);for(h=this.options.goals2,p=[],i=o=0,a=h.length;o<a;i=++o)e=h[i],t=this.options.goalLineColors2[i%this.options.goalLineColors2.length],p.push(this.drawGoal2(e,t));return p},n.prototype.drawEvents=function(){var t,e,i,s,o,r,a;if(this.events!=null){for(r=this.events,a=[],i=s=0,o=r.length;s<o;i=++s)e=r[i],t=this.options.eventLineColors[i%this.options.eventLineColors.length],a.push(this.drawEvent(e,t));return a}},n.prototype.drawGoal=function(t,e){var i,s;return s=Math.floor(this.transY(t))+.5,this.options.horizontal?i="M"+s+","+this.xStart+"V"+this.xEnd:i="M"+this.xStart+","+s+"H"+this.xEnd,this.raphael.path(i).attr("stroke",e).attr("stroke-width",this.options.goalStrokeWidth)},n.prototype.drawGoal2=function(t,e){var i,s;return s=Math.floor(this.transY2(t))+.5,this.options.horizontal?i="M"+s+","+this.xStart+"V"+this.xEnd:i="M"+this.xStart+","+s+"H"+this.xEnd,this.raphael.path(i).attr("stroke",e).attr("stroke-width",this.options.goalStrokeWidth2)},n.prototype.drawRegion=function(t,e){var i,s,o,r;return t instanceof Array?(i=Math.min(Math.max.apply(Math,t),this.ymax),o=Math.max(Math.min.apply(Math,t),this.ymin),this.options.horizontal?(o=Math.floor(this.transY(o)),i=Math.floor(this.transY(i))-o,this.raphael.rect(o,this.xStart,i,this.xEnd-this.xStart).attr({fill:e,stroke:!1}).toBack()):(i=Math.floor(this.transY(i)),o=Math.floor(this.transY(o))-i,this.raphael.rect(this.xStart,i,this.xEnd-this.xStart,o).attr({fill:e,stroke:!1}).toBack())):this.options.horizontal?(r=Math.floor(this.transY(area))+1,s="M"+r+","+this.xStart+"V"+this.xEnd,this.raphael.path(s).attr("stroke",e).attr("stroke-width",2)):(r=Math.floor(this.transY(area))+1,s="M"+this.xStart+","+r+"H"+this.xEnd,this.raphael.path(s).attr("stroke",e).attr("stroke-width",2))},n.prototype.drawEvent=function(t,e){var i,s,o,r;return t instanceof Array?(i=t[0],o=t[1],i=Math.floor(this.transX(i))+.5,o=Math.floor(this.transX(o))+.5,this.options.horizontal?this.raphael.rect(this.yStart,i,this.yEnd-this.yStart,o-i).attr({fill:e,stroke:!1}).toBack():this.raphael.rect(i,this.yEnd,o-i,this.yStart-this.yEnd).attr({fill:e,stroke:!1}).toBack()):(r=Math.floor(this.transX(t))+.5,this.options.horizontal?s="M"+this.yStart+","+r+"H"+this.yEnd:s="M"+r+","+this.yStart+"V"+this.yEnd,this.raphael.path(s).attr("stroke",e).attr("stroke-width",this.options.eventStrokeWidth))},n.prototype.drawYAxisLabel=function(t,e,i,s){var o;return o=this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor),s===1?this.options.yLabelAlign==="right"?o.attr("text-anchor","end"):o.attr("text-anchor","start"):this.options.yLabelAlign2==="left"?o.attr("text-anchor","start"):o.attr("text-anchor","end")},n.prototype.drawXAxisLabel=function(t,e,i){return this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},n.prototype.drawGridLine=function(t){return this.raphael.path(t).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},n.prototype.startRange=function(t){return this.hover.hide(),this.selectFrom=t,this.selectionRect.attr({x:t,width:0}).show()},n.prototype.endRange=function(t){var e,i;if(this.selectFrom)return i=Math.min(this.selectFrom,t),e=Math.max(this.selectFrom,t),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(i)].x,end:this.data[this.hitTest(e)].x}),this.selectFrom=null},n.prototype.mousemoveHandler=function(t){var e,i,s,o,r;return i=g.offset(this.el),r=t.pageX-i.left,this.selectFrom?(e=this.data[this.hitTest(Math.min(r,this.selectFrom))]._x,s=this.data[this.hitTest(Math.max(r,this.selectFrom))]._x,o=s-e,this.selectionRect.attr({x:e,width:o})):this.fire("hovermove",r,t.pageY-i.top)},n.prototype.mouseleaveHandler=function(t){return this.selectFrom&&(this.selectionRect.hide(),this.selectFrom=null),this.fire("hoverout")},n.prototype.touchHandler=function(t){var e,i;return i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],e=g.offset(this.el),this.fire("hovermove",i.pageX-e.left,i.pageY-e.top)},n.prototype.clickHandler=function(t){var e;return e=g.offset(this.el),this.fire("gridclick",t.pageX-e.left,t.pageY-e.top)},n.prototype.mousedownHandler=function(t){var e;return e=g.offset(this.el),this.startRange(t.pageX-e.left)},n.prototype.mouseupHandler=function(t){var e;return e=g.offset(this.el),this.endRange(t.pageX-e.left),this.fire("hovermove",t.pageX-e.left,t.pageY-e.top)},n.prototype.resizeHandler=function(){return this.timeoutId!=null&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.debouncedResizeHandler,100)},n.prototype.debouncedResizeHandler=function(){var t,e,i;return this.timeoutId=null,i=g.dimensions(this.el),e=i.width,t=i.height,this.raphael.setSize(e,t),this.options.animate=!1,this.redraw()},n.prototype.hasToShow=function(t){return this.options.shown===!0||this.options.shown[t]===!0},n.prototype.isColorDark=function(t){var e,i,s,o,r;return t!=null?(t=t.substring(1),r=parseInt(t,16),o=r>>16&255,i=r>>8&255,e=r>>0&255,s=.2126*o+.7152*i+.0722*e,!(s>=128)):!1},n.prototype.drawDataLabel=function(t,e,i,s){return this.raphael.text(t,e,i).attr("text-anchor","middle").attr("font-size",this.options.dataLabelsSize).attr("font-family",this.options.dataLabelsFamily).attr("font-weight",this.options.dataLabelsWeight).attr("fill",s)},n.prototype.drawDataLabelExt=function(t,e,i,s,o){return this.raphael.text(t,e,i).attr("text-anchor",s).attr("font-size",this.options.dataLabelsSize).attr("font-family",this.options.dataLabelsFamily).attr("font-weight",this.options.dataLabelsWeight).attr("fill",o)},n.prototype.setLabels=function(){var t,e,i,s,o,r,a;if(this.options.dataLabels){for(r=this.data,a=[],s=0,o=r.length;s<o;s++)i=r[s],a.push(function(){var l,h,p,f;for(p=this.options.ykeys,f=[],e=l=0,h=p.length;l<h;e=++l)p[e],this.options.dataLabelsColor!=="auto"?t=this.options.dataLabelsColor:this.options.stacked===!0&&this.isColorDark(this.options.barColors[e%this.options.barColors.length])===!0?t="#fff":t="#000",this.options.lineColors!=null&&this.options.lineType!=null?(i.label_y[e]!=null&&this.drawDataLabel(i._x,i.label_y[e],this.yLabelFormat_noUnit(i.y[e],0),t),i._y2!=null&&i._y2[e]!=null?f.push(this.drawDataLabel(i._x,i._y2[e]-10,this.yLabelFormat_noUnit(i.y[e],1e3),t)):f.push(void 0)):i.label_y[e]!=null?this.options.horizontal===!1?f.push(this.drawDataLabel(i.label_x[e],i.label_y[e],this.yLabelFormat_noUnit(i.y[e],e),t)):f.push(this.drawDataLabelExt(i.label_x[e],i.label_y[e],this.yLabelFormat_noUnit(i.y[e]),"start",t)):i._y2[e]!=null?this.options.horizontal===!1?f.push(this.drawDataLabel(i._x,i._y2[e]-10,this.yLabelFormat_noUnit(i.y[e],e),t)):f.push(this.drawDataLabelExt(i._y2[e],i._x-10,this.yLabelFormat_noUnit(i.y[e]),"middle",t)):f.push(void 0);return f}.call(this));return a}},n}(g.EventEmitter),g.parseDate=function(d){var n,t,e,i,s,o,r,a,l,h,p;return typeof d=="number"?d:(t=d.match(/^(\d+) Q(\d)$/),i=d.match(/^(\d+)-(\d+)$/),s=d.match(/^(\d+)-(\d+)-(\d+)$/),r=d.match(/^(\d+) W(\d+)$/),a=d.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),l=d.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),t?new Date(parseInt(t[1],10),parseInt(t[2],10)*3-1,1).getTime():i?new Date(parseInt(i[1],10),parseInt(i[2],10)-1,1).getTime():s?new Date(parseInt(s[1],10),parseInt(s[2],10)-1,parseInt(s[3],10)).getTime():r?(h=new Date(parseInt(r[1],10),0,1),h.getDay()!==4&&h.setMonth(0,1+(4-h.getDay()+7)%7),h.getTime()+parseInt(r[2],10)*6048e5):a?a[6]?(o=0,a[6]!=="Z"&&(o=parseInt(a[8],10)*60+parseInt(a[9],10),a[7]==="+"&&(o=0-o)),Date.UTC(parseInt(a[1],10),parseInt(a[2],10)-1,parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10)+o)):new Date(parseInt(a[1],10),parseInt(a[2],10)-1,parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10)).getTime():l?(p=parseFloat(l[6]),n=Math.floor(p),e=Math.round((p-n)*1e3),l[8]?(o=0,l[8]!=="Z"&&(o=parseInt(l[10],10)*60+parseInt(l[11],10),l[9]==="+"&&(o=0-o)),Date.UTC(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)+o,n,e)):new Date(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10),n,e).getTime()):new Date(parseInt(d,10),0,1).getTime())},g.Hover=function(){d.defaults={class:"morris-hover morris-default-style"};function d(n){n==null&&(n={}),this.options=g.extend({},g.Hover.defaults,n),this.el=document.createElement("div"),this.el.className=this.options.class,this.el.style.display="none",(this.options.parent=this.options.parent[0]||this.options.parent).appendChild(this.el)}return d.prototype.update=function(n,t,e,i){return n?(this.html(n),this.show(),this.moveTo(t,e,i)):this.hide()},d.prototype.html=function(n){return this.el.innerHTML=n},d.prototype.moveTo=function(n,t,e){var i,s,o,r,a,l,h;return h=g.innerDimensions(this.options.parent),a=h.width,r=h.height,s=this.el.offsetWidth,i=this.el.offsetHeight,o=Math.min(Math.max(0,n-s/2),a-s),t!=null?e===!0?(l=t-i/2,l<0&&(l=0)):(l=t-i-10,l<0&&(l=t+10,l+i>r&&(l=r/2-i/2))):l=r/2-i/2,this.el.style.left=parseInt(o)+"px",this.el.style.top=parseInt(l)+"px"},d.prototype.show=function(){return this.el.style.display=""},d.prototype.hide=function(){return this.el.style.display="none"},d}(),g.Line=function(d){R(n,d);function n(t){if(this.hilight=T(this.hilight,this),this.escapeHTML=T(this.escapeHTML,this),this.onHoverOut=T(this.onHoverOut,this),this.onHoverMove=T(this.onHoverMove,this),this.onGridClick=T(this.onGridClick,this),!(this instanceof g.Line))return new g.Line(t);n.__super__.constructor.call(this,t)}return n.prototype.init=function(){if(this.options.hideHover!=="always")return this.hover=new g.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},n.prototype.defaults={lineWidth:3,pointSize:4,pointSizeGrow:3,lineColors:["#2f7df6","#53a351","#f6c244","#cb444a","#4aa0b5","#222529"],extraClassLine:"",extraClassCircle:"",pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],pointSuperimposed:!0,hoverOrdered:!1,hoverReversed:!1,smooth:!0,lineType:{},shown:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:0,verticalGrid:!1,verticalGridHeight:"full",verticalGridStartOffset:0,verticalGridType:"",trendLine:!1,trendLineType:"linear",trendLineWidth:2,trendLineWeight:!1,trendLineColors:["#689bc3","#a2b3bf","#64b764"]},n.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},n.prototype.calcPoints=function(){var t,e,i,s,o,r,a,l,h,p,f,u,c,y,m,v,x,_,b,L,S;for(x=this.data,p=0,y=x.length;p<y;p++)a=x[p],a._x=this.transX(a.x),a._y=function(){var w,z,k,M;for(k=a.y,M=[],s=w=0,z=k.length;w<z;s=++w)h=k[s],s<this.options.ykeys.length-this.options.nbYkeys2?h!=null?M.push(this.transY(h)):M.push(h):M.push(void 0);return M}.call(this),a._y2=function(){var w,z,k,M;for(k=a.y,M=[],s=w=0,z=k.length;w<z;s=++w)h=k[s],s>=this.options.ykeys.length-this.options.nbYkeys2?h!=null?M.push(this.transY2(h)):M.push(h):M.push(void 0);return M}.call(this),a._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var w,z,k,M;for(k=a._y,M=[],e=w=0,z=k.length;w<z;e=++w)h=k[e],h!=null&&this.hasToShow(e)&&M.push(h);return M}.call(this))),a._ymax2=Math.min.apply(Math,[this.bottom].concat(function(){var w,z,k,M;for(k=a._y2,M=[],e=w=0,z=k.length;w<z;e=++w)h=k[e],h!=null&&this.hasToShow(e)&&M.push(h);return M}.call(this)));for(_=this.data,i=f=0,m=_.length;f<m;i=++f)for(a=_[i],this.data[i].label_x=[],this.data[i].label_y=[],o=u=b=this.options.ykeys.length-1;b<=0?u<=0:u>=0;o=b<=0?++u:--u)a._y[o]!=null&&(this.data[i].label_x[o]=a._x,this.data[i].label_y[o]=a._y[o]-10),a._y2!=null&&a._y2[o]!=null&&(this.data[i].label_x[o]=a._x,this.data[i].label_y[o]=a._y2[o]-10);if(this.options.pointSuperimposed===!1){for(L=this.data,S=[],c=0,v=L.length;c<v;c++)a=L[c],S.push(function(){var w,z,k,M,C,F,H;for(C=a._y,H=[],i=k=0,w=C.length;k<w;i=++k){for(r=C[i],t=0,F=a._y,e=M=0,z=F.length;M<z;e=++M)l=F[e],r===l&&typeof r=="number"&&t++;t>1?(a._y[i]=a._y[i]+t*this.lineWidthForSeries(i),this.lineWidthForSeries(i)>1?H.push(a._y[i]=a._y[i]-1):H.push(void 0)):H.push(void 0)}return H}.call(this));return S}},n.prototype.hitTest=function(t){var e,i,s,o,r;if(this.data.length===0)return null;for(r=this.data.slice(1),e=s=0,o=r.length;s<o&&(i=r[e],!(t<(i._x+this.data[e]._x)/2));e=++s);return e},n.prototype.onGridClick=function(t,e){var i;return i=this.hitTest(t),this.fire("click",i,this.data[i].src,t,e)},n.prototype.onHoverMove=function(t,e){var i;return i=this.hitTest(t),this.displayHoverForRow(i)},n.prototype.onHoverOut=function(){if(this.options.hideHover!==!1)return this.displayHoverForRow(null)},n.prototype.displayHoverForRow=function(t){var e;return t!=null?((e=this.hover).update.apply(e,this.hoverContentForRow(t)),this.hilight(t)):(this.hover.hide(),this.hilight())},n.prototype.escapeHTML=function(t){var e,i;return e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},i=/[&<>"'/]/ig,t.replace(i,function(s){return e[s]})},n.prototype.hoverContentForRow=function(t){var e,i,s,o,r,a,l,h,p,f,u,c,y,m,v,x,_,b;if(h=this.data[t],i="",l=[],this.options.hoverOrdered===!0)for(x=h.y,o=f=0,m=x.length;f<m;o=++f){for(x[o],r=null,a=-1,_=h.y,s=u=0,v=_.length;u<v;s=++u)p=_[s],j.call(l,s)<0&&(r<=p||r===null)&&(r=p,a=s);l.push(a)}else for(b=h.y,o=c=b.length-1;c>=0;o=c+=-1)b[o],l.push(o);for(this.options.hoverReversed===!0&&(l=l.reverse()),e=-1,y=l.length-1;y>=0;y+=-1)s=l[y],this.options.labels[s]!==!1&&(h.y[s]!==void 0&&e===-1&&(e=s),i="<div class='morris-hover-point' style='color: "+this.colorFor(h,s,"label")+`'>
  `+this.options.labels[s]+`:
  `+this.yLabelFormat(h.y[s],s)+`
</div>`+i);return i="<div class='morris-hover-row-label'>"+this.escapeHTML(h.label)+"</div>"+i,typeof this.options.hoverCallback=="function"&&(i=this.options.hoverCallback(t,this.options,i,h.src)),e>this.options.nbYkeys2?[i,h._x,h._ymax2]:[i,h._x,h._ymax]},n.prototype.generatePaths=function(){var t,e,i,s,o,r;return this.paths=function(){var a,l,h,p;for(p=[],e=a=0,l=this.options.ykeys.length;0<=l?a<l:a>l;e=0<=l?++a:--a)r=typeof this.options.smooth=="boolean"?this.options.smooth:(h=this.options.ykeys[e],j.call(this.options.smooth,h)>=0),i=r?"smooth":"jagged",typeof this.options.lineType=="string"&&(i=this.options.lineType),this.options.lineType[this.options.ykeys[e]]!==void 0&&(i=this.options.lineType[this.options.ykeys[e]]),s=this.options.ykeys.length-this.options.nbYkeys2,e<s?t=function(){var f,u,c,y;for(c=this.data,y=[],f=0,u=c.length;f<u;f++)o=c[f],o._y[e]!==void 0&&y.push({x:o._x,y:o._y[e]});return y}.call(this):t=function(){var f,u,c,y;for(c=this.data,y=[],f=0,u=c.length;f<u;f++)o=c[f],o._y2[e]!==void 0&&y.push({x:o._x,y:o._y2[e]});return y}.call(this),t.length>1?p.push(g.Line.createPath(t,i,this.bottom,e,this.options.ykeys.length,this.options.lineWidth)):p.push(null);return p}.call(this)},n.prototype.draw=function(){var t;if(((t=this.options.axes)===!0||t==="both"||t==="x")&&this.drawXAxis(),this.drawSeries(),this.options.hideHover===!1)return this.displayHoverForRow(this.data.length-1)},n.prototype.drawXAxis=function(){var t,e,i,s,o,r,a,l,h,p,f,u,c,y=this;for(l=this.bottom+this.options.padding/2,r=null,o=null,t=function(m,v){var x,_,b,L,S;if(x=y.drawXAxisLabel(y.transX(v),l,m),S=x.getBBox(),x.transform("r"+-y.options.xLabelAngle),_=x.getBBox(),x.transform("t0,"+_.height/2+"..."),y.options.xLabelAngle!==0&&(L=-.5*S.width*Math.cos(y.options.xLabelAngle*Math.PI/180),x.transform("t"+L+",0...")),_=x.getBBox(),(r==null||r>=_.x+_.width||o!=null&&o>=_.x)&&_.x>=0&&_.x+_.width<g.dimensions(y.el).width){if(y.options.xLabelAngle!==0&&(b=1.25*y.options.gridTextSize/Math.sin(y.options.xLabelAngle*Math.PI/180),o=_.x-b),r=_.x-y.options.xLabelMargin,y.options.verticalGrid===!0)return y.drawVerticalGridLine(v)}else return x.remove()},this.options.parseTime?this.data.length===1&&this.options.xLabels==="auto"?i=[[this.data[0].label,this.data[0].x]]:i=g.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):this.options.customLabels?i=function(){var m,v,x,_;for(x=this.options.customLabels,_=[],m=0,v=x.length;m<v;m++)a=x[m],_.push([a.label,a.x]);return _}.call(this):i=function(){var m,v,x,_;for(x=this.data,_=[],m=0,v=x.length;m<v;m++)a=x[m],_.push([a.label,a.x]);return _}.call(this),i.reverse(),h=0,f=i.length;h<f;h++)e=i[h],t(e[0],e[1]);if(typeof this.options.verticalGrid=="string"){for(s=g.labelSeries(this.xmin,this.xmax,this.width,this.options.verticalGrid),c=[],p=0,u=s.length;p<u;p++)e=s[p],c.push(this.drawVerticalGridLine(e[1]));return c}},n.prototype.drawVerticalGridLine=function(t){var e,i;return t=Math.floor(this.transX(t))+.5,i=this.yStart+this.options.verticalGridStartOffset,this.options.verticalGridHeight==="full"?e=this.yEnd:e=this.yStart-this.options.verticalGridHeight,this.drawGridLineVert("M"+t+","+i+"V"+e)},n.prototype.drawGridLineVert=function(t){return this.raphael.path(t).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth).attr("stroke-dasharray",this.options.verticalGridType)},n.prototype.drawSeries=function(){var t,e,i,s,o,r;for(this.seriesPoints=[],t=e=s=this.options.ykeys.length-1;s<=0?e<=0:e>=0;t=s<=0?++e:--e)this.hasToShow(t)&&((this.options.trendLine!==!1&&this.options.trendLine===!0||this.options.trendLine[t]===!0)&&this.data.length>0&&this._drawTrendLine(t),this._drawLineFor(t));for(r=[],t=i=o=this.options.ykeys.length-1;o<=0?i<=0:i>=0;t=o<=0?++i:--i)this.hasToShow(t)?r.push(this._drawPointFor(t)):r.push(void 0);return r},n.prototype._drawPointFor=function(t){var e,i,s,o,r,a,l;for(this.seriesPoints[t]=[],a=this.data,l=[],i=o=0,r=a.length;o<r;i=++o)s=a[i],e=null,s._y[t]!=null&&(e=this.drawLinePoint(s._x,s._y[t],this.colorFor(s,t,"point"),t)),s._y2!=null&&s._y2[t]!=null&&(e=this.drawLinePoint(s._x,s._y2[t],this.colorFor(s,t,"point"),t)),l.push(this.seriesPoints[t].push(e));return l},n.prototype._drawLineFor=function(t){var e;if(e=this.paths[t],e!==null)return this.drawLinePath(e,this.colorFor(null,t,"line"),t)},n.prototype._drawTrendLine=function(t){var e,i,s,o,r,a,l,h,p,f,u,c,y,m,v,x,_,b,L,S,w,z,k,M,C;for(p=0,c=0,f=0,u=0,o=0,l=[],C=this.data,r=S=0,M=C.length;S<M;r=++S)x=C[r],b=x.x,L=x.y[t],L!=null&&(l.push([b,L]),this.options.trendLineWeight===!1?_=1:_=this.options.data[r][this.options.trendLineWeight],o+=_,p+=b*_,c+=L*_,f+=b*b*_,u+=b*L*_);if(e=(o*u-p*c)/(o*f-p*p),i=c/o-e*p/o,s=[{},{}],s[0].x=this.transX(this.data[0].x),s[0].y=this.transY(this.data[0].x*e+i),s[1].x=this.transX(this.data[this.data.length-1].x),s[1].y=this.transY(this.data[this.data.length-1].x*e+i),this.options.trendLineType!=="linear")if(typeof regression=="function"){if(y=(this.xmax-this.xmin)/30,s=[],this.options.trendLineType==="polynomial")for(h=regression("polynomial",l,2),r=w=0;w<=30;r=++w)m=this.xmin+r*y,v=h.equation[2]*m*m+h.equation[1]*m+h.equation[0],s.push({x:this.transX(m),y:this.transY(v)});else if(this.options.trendLineType==="logarithmic")for(h=regression("logarithmic",l),r=z=0;z<=30;r=++z)m=this.xmin+r*y,v=h.equation[0]+h.equation[1]*Math.log(m),s.push({x:this.transX(m),y:this.transY(v)});else if(this.options.trendLineType==="exponential")for(h=regression("exponential",l),r=k=0;k<=30;r=++k)m=this.xmin+r*y,v=h.equation[0]+Math.exp(h.equation[1]*m),s.push({x:this.transX(m),y:this.transY(v)});console.log("Regression formula is: "+h.string+", r2:"+h.r2)}else console.log("Warning: regression() is undefined, please ensure that regression.js is loaded");if(!isNaN(e))return a=g.Line.createPath(s,"jagged",this.bottom),a=this.raphael.path(a).attr("stroke",this.colorFor(null,t,"trendLine")).attr("stroke-width",this.options.trendLineWidth)},n.createPath=function(t,e,i,s,o,r){var a,l,h,p,f,u,c,y,m,v,x,_,b,L;for(c="",e==="smooth"&&(h=g.Line.gradients(t)),y={y:null},p=b=0,L=t.length;b<L;p=++b)a=t[p],a.y!=null&&(y.y!=null?e==="smooth"?(l=h[p],u=h[p-1],f=(a.x-y.x)/4,m=y.x+f,x=Math.min(i,y.y+f*u),v=a.x-f,_=Math.min(i,a.y-f*l),c+="C"+m+","+x+","+v+","+_+","+a.x+","+a.y):e==="jagged"?c+="L"+a.x+","+a.y:e==="step"?(c+="L"+a.x+","+y.y,c+="L"+a.x+","+a.y):e==="stepNoRiser"?(c+="L"+a.x+","+y.y,c+="M"+a.x+","+a.y):e==="vertical"&&(c+="L"+(y.x-(o-1)*(r/o)+s*r)+","+y.y,c+="L"+(y.x-(o-1)*(r/o)+s*r)+","+i,c+="M"+(a.x-(o-1)*(r/o)+s*r)+","+i,t.length===p+1&&(c+="L"+(a.x-(o-1)*(r/o)+s*r)+","+a.y,c+="L"+(a.x-(o-1)*(r/o)+s*r)+","+i)):(e!=="smooth"||h[p]!=null)&&(c+="M"+a.x+","+a.y)),y=a;return c},n.gradients=function(t){var e,i,s,o,r,a,l,h;for(i=function(p,f){return(p.y-f.y)/(p.x-f.x)},h=[],s=a=0,l=t.length;a<l;s=++a)e=t[s],e.y!=null?(o=t[s+1]||{y:null},r=t[s-1]||{y:null},r.y!=null&&o.y!=null?h.push(i(r,o)):r.y!=null?h.push(i(r,e)):o.y!=null?h.push(i(e,o)):h.push(null)):h.push(null);return h},n.prototype.hilight=function(t){var e,i,s,o,r;if(this.prevHilight!==null&&this.prevHilight!==t)for(e=i=0,o=this.seriesPoints.length-1;0<=o?i<=o:i>=o;e=0<=o?++i:--i)this.hasToShow(e)&&this.seriesPoints[e][this.prevHilight]&&this.seriesPoints[e][this.prevHilight].animate(this.pointShrinkSeries(e));if(t!==null&&this.prevHilight!==t)for(e=s=0,r=this.seriesPoints.length-1;0<=r?s<=r:s>=r;e=0<=r?++s:--s)this.hasToShow(e)&&this.seriesPoints[e][t]&&this.seriesPoints[e][t].animate(this.pointGrowSeries(e));return this.prevHilight=t},n.prototype.colorFor=function(t,e,i){return typeof this.options.lineColors=="function"?this.options.lineColors.call(this,t,e,i):i==="point"?this.options.pointFillColors[e%this.options.pointFillColors.length]||this.options.lineColors[e%this.options.lineColors.length]:i==="trendLine"?this.options.trendLineColors[e%this.options.trendLineColors.length]:this.options.lineColors[e%this.options.lineColors.length]},n.prototype.drawLinePath=function(t,e,i){var s,o,r,a,l,h,p,f;if(this.options.animate){for(l="",f=this.data,s=h=0,p=f.length;h<p;s=++h)r=f[s],l===""?i>=this.options.ykeys.length-this.options.nbYkeys2?r._y2[i]!=null&&(l="M"+r._x+","+this.transY2(this.ymin2)):r._y[i]!=null&&(this.options.lineType!=="vertical"?l="M"+r._x+","+this.transY(this.ymin):l="M"+r._x+","+this.transY(0)+"L"+r._x+","+this.transY(0)+"L"+r._x+","+this.transY(0)):i>=this.options.ykeys.length-this.options.nbYkeys2?r._y2[i]!=null&&(l+=","+r._x+","+this.transY2(this.ymin2),this.options.lineType==="step"&&(l+=","+r._x+","+this.transY2(this.ymin2))):r._y[i]!=null&&(this.options.lineType!=="vertical"?l+=","+r._x+","+this.transY(this.ymin):(a=r._x-(this.options.ykeys.length-1)*(this.options.lineWidth/this.options.ykeys.length)+i*this.options.lineWidth,l+="M"+a+","+this.transY(0)+"L"+a+","+this.transY(0)+"L"+a+","+this.transY(0)),this.options.lineType==="step"&&(l+=","+r._x+","+this.transY(this.ymin)));return o=this.raphael.path(l).attr("stroke",e).attr("stroke-width",this.lineWidthForSeries(i)).attr("class",this.options.extraClassLine).attr("class","line_"+i),this.options.cumulative?function(u,c){return u.animate({path:c},600,"<>")}(o,t):function(u,c){return u.animate({path:c},500,"<>")}(o,t)}else return this.raphael.path(t).attr("stroke",e).attr("stroke-width",this.lineWidthForSeries(i)).attr("class",this.options.extraClassLine).attr("class","line_"+i)},n.prototype.drawLinePoint=function(t,e,i,s){return this.raphael.circle(t,e,this.pointSizeForSeries(s)).attr("fill",i).attr("stroke-width",this.pointStrokeWidthForSeries(s)).attr("stroke",this.pointStrokeColorForSeries(s)).attr("class",this.options.extraClassCircle).attr("class","circle_line_"+s)},n.prototype.pointStrokeWidthForSeries=function(t){return this.options.pointStrokeWidths[t%this.options.pointStrokeWidths.length]},n.prototype.pointStrokeColorForSeries=function(t){return this.options.pointStrokeColors[t%this.options.pointStrokeColors.length]},n.prototype.lineWidthForSeries=function(t){return this.options.lineWidth instanceof Array?this.options.lineWidth[t%this.options.lineWidth.length]:this.options.lineWidth},n.prototype.pointSizeForSeries=function(t){return this.options.pointSize instanceof Array?this.options.pointSize[t%this.options.pointSize.length]:this.options.pointSize},n.prototype.pointGrowSeries=function(t){if(this.pointSizeForSeries(t)!==0)return Raphael.animation({r:this.pointSizeForSeries(t)+this.options.pointSizeGrow},25,"linear")},n.prototype.pointShrinkSeries=function(t){return Raphael.animation({r:this.pointSizeForSeries(t)},25,"linear")},n}(g.Grid),g.labelSeries=function(d,n,t,e,i){var s,o,r,a,l,h,p,f,u,c,y;if(r=200*(n-d)/t,o=new Date(d),p=g.LABEL_SPECS[e],p===void 0){for(y=g.AUTO_LABEL_ORDER,u=0,c=y.length;u<c;u++)if(a=y[u],h=g.LABEL_SPECS[a],r>=h.span){p=h;break}}for(p===void 0&&(p=g.LABEL_SPECS.second),i&&(p=g.extend({},p,{fmt:i})),s=p.start(o),l=[];(f=s.getTime())<=n;)f>=d&&l.push([p.fmt(s),f]),p.incr(s);return l},D=function(d){return{span:d*60*1e3,start:function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours())},fmt:function(n){return""+g.pad2(n.getHours())+":"+g.pad2(n.getMinutes())},incr:function(n){return n.setUTCMinutes(n.getUTCMinutes()+d)}}},E=function(d){return{span:d*1e3,start:function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes())},fmt:function(n){return""+g.pad2(n.getHours())+":"+g.pad2(n.getMinutes())+":"+g.pad2(n.getSeconds())},incr:function(n){return n.setUTCSeconds(n.getUTCSeconds()+d)}}},g.LABEL_SPECS={decade:{span:1728e8,start:function(d){return new Date(d.getFullYear()-d.getFullYear()%10,0,1)},fmt:function(d){return""+d.getFullYear()},incr:function(d){return d.setFullYear(d.getFullYear()+10)}},year:{span:1728e7,start:function(d){return new Date(d.getFullYear(),0,1)},fmt:function(d){return""+d.getFullYear()},incr:function(d){return d.setFullYear(d.getFullYear()+1)}},month:{span:24192e5,start:function(d){return new Date(d.getFullYear(),d.getMonth(),1)},fmt:function(d){return""+d.getFullYear()+"-"+g.pad2(d.getMonth()+1)},incr:function(d){return d.setMonth(d.getMonth()+1)}},week:{span:6048e5,start:function(d){return new Date(d.getFullYear(),d.getMonth(),d.getDate())},fmt:function(d){return""+d.getFullYear()+"-"+g.pad2(d.getMonth()+1)+"-"+g.pad2(d.getDate())},incr:function(d){return d.setDate(d.getDate()+7)}},day:{span:864e5,start:function(d){return new Date(d.getFullYear(),d.getMonth(),d.getDate())},fmt:function(d){return""+d.getFullYear()+"-"+g.pad2(d.getMonth()+1)+"-"+g.pad2(d.getDate())},incr:function(d){return d.setDate(d.getDate()+1)}},hour:D(60),"30min":D(30),"15min":D(15),"10min":D(10),"5min":D(5),minute:D(1),"30sec":E(30),"15sec":E(15),"10sec":E(10),"5sec":E(5),second:E(1)},g.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],g.Area=function(d){var n;R(t,d),n={fillOpacity:"auto",behaveLikeLine:!1,belowArea:!0,areaColors:[]};function t(e){var i;if(!(this instanceof g.Area))return new g.Area(e);i=g.extend({},n,e),this.cumulative=!i.behaveLikeLine,i.fillOpacity==="auto"&&(i.fillOpacity=i.behaveLikeLine?.8:1),t.__super__.constructor.call(this,i)}return t.prototype.calcPoints=function(){var e,i,s,o,r,a,l,h,p,f,u,c,y;for(u=this.data,l=0,p=u.length;l<p;l++)o=u[l],o._x=this.transX(o.x),r=0,o._y=function(){var m,v,x,_;for(x=o.y,_=[],m=0,v=x.length;m<v;m++)a=x[m],this.options.behaveLikeLine?a!=null?_.push(this.transY(a)):_.push(a):a!=null?(r+=a||0,_.push(this.transY(r))):_.push(void 0);return _}.call(this),o._ymax=Math.max.apply(Math,[].concat(function(){var m,v,x,_;for(x=o._y,_=[],e=m=0,v=x.length;m<v;e=++m)a=x[e],a!=null&&_.push(a);return _}()));for(c=this.data,y=[],i=h=0,f=c.length;h<f;i=++h)o=c[i],this.data[i].label_x=[],this.data[i].label_y=[],y.push(function(){var m,v,x;for(x=[],s=m=v=this.options.ykeys.length-1;v<=0?m<=0:m>=0;s=v<=0?++m:--m)o._y[s]!=null&&(this.data[i].label_x[s]=o._x,this.data[i].label_y[s]=o._y[s]-10),o._y2!=null&&o._y2[s]!=null?(this.data[i].label_x[s]=o._x,x.push(this.data[i].label_y[s]=o._y2[s]-10)):x.push(void 0);return x}.call(this));return y},t.prototype.drawSeries=function(){var e,i,s,o,r,a,l,h,p,f;for(this.seriesPoints=[],this.options.behaveLikeLine?i=function(){h=[];for(var u=0,c=this.options.ykeys.length-1;0<=c?u<=c:u>=c;0<=c?u++:u--)h.push(u);return h}.apply(this):i=function(){p=[];for(var u=l=this.options.ykeys.length-1;l<=0?u<=0:u>=0;l<=0?u++:u--)p.push(u);return p}.apply(this),s=0,r=i.length;s<r;s++)e=i[s],this._drawFillFor(e);for(f=[],o=0,a=i.length;o<a;o++)e=i[o],this._drawLineFor(e),f.push(this._drawPointFor(e));return f},t.prototype._drawFillFor=function(e){var i,s,o,r;if(s=this.paths[e],s!==null)return this.options.belowArea===!0?(s=s+("L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z"),this.drawFilledPath(s,this.fillForSeries(e),e)):(i=function(){var a,l,h;for(l=this.data,h=[],a=l.length-1;a>=0;a+=-1)r=l[a],r._y[0]!==void 0&&h.push({x:r._x,y:r._y[0]});return h}.call(this),o=g.Line.createPath(i,"smooth",this.bottom),s=s+"L"+o.slice(1),this.drawFilledPath(s,this.fillForSeries(e),e))},t.prototype.fillForSeries=function(e){var i;return this.options.areaColors.length===0&&(this.options.areaColors=this.options.lineColors),i=Raphael.rgb2hsl(this.options.areaColors[e%this.options.areaColors.length]),Raphael.hsl(i.h,this.options.behaveLikeLine?i.s*.9:i.s*.75,Math.min(.98,this.options.behaveLikeLine?i.l*1.2:i.l*1.25))},t.prototype.drawFilledPath=function(e,i,s){var o,r,a,l,h;return this.options.animate?(o=function(){var p,f,u,c;for(u=this.data,c=[],p=0,f=u.length;p<f;p++)a=u[p],a._y[s]!==void 0&&c.push({x:a._x,y:this.transY(0)});return c}.call(this),h=g.Line.createPath(o,"smooth",this.bottom),this.options.belowArea===!0?h=h+("L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z"):(o=function(){var p,f,u;for(f=this.data,u=[],p=f.length-1;p>=0;p+=-1)a=f[p],a._y[s]!==void 0&&u.push({x:a._x,y:this.transY(0)});return u}.call(this),r=g.Line.createPath(o,"smooth",this.bottom),h=h+"L"+r.slice(1)),h+="Z",l=this.raphael.path(h).attr("fill",i).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none"),function(p,f){return p.animate({path:f},500,"<>")}(l,e)):this.raphael.path(e).attr("fill",i).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},t}(g.Line),g.Bar=function(d){R(n,d);function n(t){if(this.escapeHTML=T(this.escapeHTML,this),this.onHoverOut=T(this.onHoverOut,this),this.onHoverMove=T(this.onHoverMove,this),this.onGridClick=T(this.onGridClick,this),!(this instanceof g.Bar))return new g.Bar(t);n.__super__.constructor.call(this,g.extend({},t,{parseTime:!1}))}return n.prototype.init=function(){if(this.cumulative=this.options.stacked,this.options.hideHover!=="always")return this.hover=new g.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},n.prototype.defaults={barSizeRatio:.75,pointSize:4,lineWidth:3,barGap:3,barColors:["#2f7df6","#53a351","#f6c244","#cb444a","#4aa0b5","#222529"],barOpacity:1,barHighlightOpacity:1,highlightSpeed:150,barRadius:[0,0,0,0],xLabelMargin:0,horizontal:!1,stacked:!1,shown:!0,showZero:!0,inBarValue:!1,inBarValueTextColor:"white",inBarValueMinTopMargin:1,inBarValueRightMargin:4,rightAxisBar:!1},n.prototype.calc=function(){var t;if(this.calcBars(),this.options.hideHover===!1)return(t=this.hover).update.apply(t,this.hoverContentForRow(this.data.length-1))},n.prototype.calcBars=function(){var t,e,i,s,o,r,a,l;for(a=this.data,l=[],t=o=0,r=a.length;o<r;t=++o)i=a[t],i._x=this.xStart+this.xSize*(t+.5)/this.data.length,i._y=function(){var h,p,f,u;for(f=i.y,u=[],e=h=0,p=f.length;h<p;e=++h)s=f[e],e<this.options.ykeys.length-this.options.nbYkeys2?s!=null?u.push(this.transY(s)):u.push(null):u.push(void 0);return u}.call(this),l.push(i._y2=function(){var h,p,f,u;for(f=i.y,u=[],e=h=0,p=f.length;h<p;e=++h)s=f[e],e>=this.options.ykeys.length-this.options.nbYkeys2?s!=null?u.push(this.transY2(s)):u.push(null):u.push(void 0);return u}.call(this));return l},n.prototype.draw=function(){var t;if(((t=this.options.axes)===!0||t==="both"||t==="x")&&this.drawXAxis(),this.drawSeries(),this.options.rightAxisBar===!1)return this.drawBarLine(),this.drawBarPoints()},n.prototype.drawBarLine=function(){var t,e,i,s,o,r,a,l,h,p,f,u,c,y,m,v,x,_,b,L,S,w,z,k;for(h=this.options.ykeys.length-this.options.nbYkeys2,z=this.options.ykeys.slice(h,this.options.ykeys.length),k=[],r=b=0,S=z.length;b<S;r=b+=1){for(z[r],p="",y="",this.options.horizontal===!1?e=function(){var M,C,F,H;for(F=this.data,H=[],M=0,C=F.length;M<C;M++)u=F[M],u._y2[h+r]!==void 0&&H.push({x:u._x,y:u._y2[h+r]});return H}.call(this):e=function(){var M,C,F,H;for(F=this.data,H=[],M=0,C=F.length;M<C;M++)u=F[M],u._y2[h+r]!==void 0&&H.push({x:u._y2[h+r],y:u._x});return H}.call(this),this.options.smooth&&(s=g.Line.gradients(e)),f={y:null},o=L=0,w=e.length;L<w;o=++L)t=e[o],t.y!=null&&(f.y!=null?(this.options.smooth&&this.options.horizontal===!1?(i=s[o],l=s[o-1],a=(t.x-f.x)/4,m=f.x+a,x=Math.min(this.bottom,f.y+a*l),v=t.x-a,_=Math.min(this.bottom,t.y-a*i),p+="C"+m+","+x+","+v+","+_+","+t.x+","+t.y):p+="L"+t.x+","+t.y,this.options.horizontal===!0?y+="L"+this.transY(0)+","+t.y:y+="L"+t.x+","+this.transY(0)):(!this.options.smooth||s[o]!=null)&&(p+="M"+t.x+","+t.y,this.options.horizontal===!0?y+="M"+this.transY(0)+","+t.y:y+="M"+t.x+","+this.transY(0))),f=t;p!==""?this.options.animate?(c=this.raphael.path(y).attr("stroke",this.colorFor(t,h+r,"bar")).attr("stroke-width",this.lineWidthForSeries(r)),k.push(function(M,C){return M.animate({path:C},500,"<>")}(c,p))):k.push(c=this.raphael.path(p).attr("stroke",this.colorFor(t,h+r,"bar")).attr("stroke-width",this.lineWidthForSeries(r))):k.push(void 0)}return k},n.prototype.drawBarPoints=function(){var t,e,i,s,o,r,a,l,h;for(s=this.options.ykeys.length-this.options.nbYkeys2,this.seriesPoints=[],l=this.options.ykeys.slice(s,this.options.ykeys.length),h=[],i=r=0,a=l.length;r<a;i=r+=1)l[i],this.seriesPoints[i]=[],h.push(function(){var p,f,u,c;for(u=this.data,c=[],e=p=0,f=u.length;p<f;e=++p)o=u[e],t=null,o._y2[s+i]!=null?this.options.horizontal===!1?(t=this.raphael.circle(o._x,o._y2[s+i],this.pointSizeForSeries(i)).attr("fill",this.colorFor(o,s+i,"bar")).attr("stroke-width",1).attr("stroke","#ffffff"),c.push(this.seriesPoints[i].push(t))):(t=this.raphael.circle(o._y2[s+i],o._x,this.pointSizeForSeries(i)).attr("fill",this.colorFor(o,s+i,"bar")).attr("stroke-width",1).attr("stroke","#ffffff"),c.push(this.seriesPoints[i].push(t))):c.push(void 0);return c}.call(this));return h},n.prototype.lineWidthForSeries=function(t){return this.options.lineWidth instanceof Array?this.options.lineWidth[t%this.options.lineWidth.length]:this.options.lineWidth},n.prototype.pointSizeForSeries=function(t){return this.options.pointSize instanceof Array?this.options.pointSize[t%this.options.pointSize.length]:this.options.pointSize},n.prototype.drawXAxis=function(){var t,e,i,s,o,r,a,l,h,p,f,u,c,y,m,v,x,_,b,L;for(this.options.horizontal?e=this.getYAxisLabelX():e=this.getXAxisLabelY(),f=null,p=null,L=[],s=x=0,_=this.data.length;0<=_?x<_:x>_;s=0<=_?++x:--x)u=this.data[this.data.length-1-s],this.options.horizontal?o=this.drawYAxisLabel(e,u._x-.5*this.options.gridTextSize,u.label,1):o=this.drawXAxisLabel(u._x,e,u.label),this.options.horizontal?t=0:t=this.options.xLabelAngle,m=o.getBBox(),o.transform("r"+-t),r=o.getBBox(),o.transform("t0,"+r.height/2+"..."),t!==0&&(h=-.5*m.width*Math.cos(t*Math.PI/180),o.transform("t"+h+",0...")),b=g.dimensions(this.el),v=b.width,i=b.height,this.options.horizontal?(y=r.y,c=r.height,l=i):(y=r.x,c=r.width,l=v),(f==null||f>=y+c||p!=null&&p>=y)&&y>=0&&y+c<l?(t!==0&&(a=1.25*this.options.gridTextSize/Math.sin(t*Math.PI/180),p=y-a),this.options.horizontal?L.push(f=y):L.push(f=y-this.options.xLabelMargin)):L.push(o.remove());return L},n.prototype.getXAxisLabelY=function(){return this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2)},n.prototype.drawSeries=function(){var t,e,i,s,o,r,a,l,h,p,f,u,c,y,m,v,x,_,b,L,S;if(this.seriesBars=[],o=this.xSize/this.options.data.length,this.options.stacked)u=1;else for(u=0,r=L=0,S=this.options.ykeys.length-1;0<=S?L<=S:L>=S;r=0<=S?++L:--L)this.hasToShow(r)&&(u+=1);return this.options.stacked===!1&&this.options.rightAxisBar===!1&&(u=u-this.options.nbYkeys2),e=(o*this.options.barSizeRatio-this.options.barGap*(u-1))/u,this.options.barSize&&(e=Math.min(e,this.options.barSize)),v=o-e*u-this.options.barGap*(u-1),p=v/2,b=this.ymin<=0&&this.ymax>=0?this.transY(0):null,this.bars=function(){var w,z,k,M;for(k=this.data,M=[],a=w=0,z=k.length;w<z;a=++w)c=k[a],this.data[a].label_x=[],this.data[a].label_y=[],this.seriesBars[a]=[],l=null,this.options.rightAxisBar===!0?f=c._y.length:f=c._y.length-this.options.nbYkeys2,M.push(function(){var C,F,H,Y;for(H=c._y.slice(0,f),Y=[],y=C=0,F=H.length;C<F;y=++C)_=H[y],c._y[y]!=null?_=c._y[y]:c._y2[y]!=null&&(_=c._y2[y]),this.hasToShow(y)&&(_!==null?(b?(x=Math.min(_,b),i=Math.max(_,b)):(x=_,i=this.bottom),h=this.xStart+a*o+p,this.options.stacked||(h+=y*(e+this.options.barGap)),m=i-x,this.options.verticalGridCondition&&this.options.verticalGridCondition(c.x)&&(this.options.horizontal?this.drawBar(this.yStart,this.xStart+a*o,this.ySize,o,this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius):this.drawBar(this.xStart+a*o,this.yEnd,o,this.ySize,this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius)),this.options.horizontal?(this.options.stacked&&l!=null&&(x=l),l=x+m,m===0&&(m=1),this.seriesBars[a][y]=this.drawBar(x,h,m,e,this.colorFor(c,y,"bar"),this.options.barOpacity,this.options.barRadius),this.options.dataLabels&&(this.options.stacked||this.options.dataLabelsPosition==="inside"?(this.data[a].label_x[y]=x+m/2,this.data[a].label_y[y]=h+e/2):(this.data[a].label_x[y]=x+m+5,this.data[a].label_y[y]=h+e/2)),this.options.inBarValue&&e>this.options.gridTextSize+2*this.options.inBarValueMinTopMargin?(t=h+.5*e,Y.push(this.raphael.text(i-this.options.inBarValueRightMargin,t,this.yLabelFormat(c.y[y],y)).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.inBarValueTextColor).attr("text-anchor","end"))):Y.push(void 0)):(this.options.stacked&&l!=null&&(x+=l-i),l=x,m===0&&this.options.showZero&&(m=1),this.seriesBars[a][y]=this.drawBar(h,x,e,m,this.colorFor(c,y,"bar"),this.options.barOpacity,this.options.barRadius),this.options.dataLabels?(this.options.dataLabelsPosition==="inside"||this.options.stacked&&this.options.dataLabelsPosition!=="force_outside"?s=m/2:s=-7,m>this.options.dataLabelsSize||!this.options.stacked||this.options.dataLabelsPosition==="force_outside"?(this.data[a].label_x[y]=h+e/2,Y.push(this.data[a].label_y[y]=x+s)):Y.push(void 0)):Y.push(void 0))):Y.push(null));return Y}.call(this));return M}.call(this)},n.prototype.hilight=function(t){var e,i,s,o,r,a,l,h;if(this.seriesBars&&this.seriesBars[this.prevHilight]&&this.prevHilight!==null&&this.prevHilight!==t)for(l=this.seriesBars[this.prevHilight],e=s=0,r=l.length;s<r;e=++s)i=l[e],i&&i.animate({"fill-opacity":this.options.barOpacity},this.options.highlightSpeed);if(this.seriesBars&&this.seriesBars[t]&&t!==null&&this.prevHilight!==t)for(h=this.seriesBars[t],e=o=0,a=h.length;o<a;e=++o)i=h[e],i&&i.animate({"fill-opacity":this.options.barHighlightOpacity},this.options.highlightSpeed);return this.prevHilight=t},n.prototype.colorFor=function(t,e,i){var s,o;return typeof this.options.barColors=="function"?(s={x:t.x,y:t.y[e],label:t.label,src:t.src},o={index:e,key:this.options.ykeys[e],label:this.options.labels[e]},this.options.barColors.call(this,s,o,i)):this.options.barColors[e%this.options.barColors.length]},n.prototype.hitTest=function(t,e){var i,s;return this.data.length===0?null:(this.options.horizontal?(i=document.body.getBoundingClientRect(),s=e+i.top):s=t,s=Math.max(Math.min(s,this.xEnd),this.xStart),Math.min(this.data.length-1,Math.floor((s-this.xStart)/(this.xSize/this.data.length))))},n.prototype.onGridClick=function(t,e){var i;return i=this.hitTest(t,e),this.fire("click",i,this.data[i].src,t,e)},n.prototype.onHoverMove=function(t,e){var i,s;return i=this.hitTest(t,e),this.hilight(i),i!=null?(s=this.hover).update.apply(s,this.hoverContentForRow(i)):this.hover.hide()},n.prototype.onHoverOut=function(){if(this.hilight(-1),this.options.hideHover!==!1)return this.hover.hide()},n.prototype.escapeHTML=function(t){var e,i;return e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},i=/[&<>"'/]/ig,t.replace(i,function(s){return e[s]})},n.prototype.hoverContentForRow=function(t){var e,i,s,o,r,a,l,h,p,f,u,c;for(r=this.data[t],e="<div class='morris-hover-row-label'>"+this.escapeHTML(r.label)+"</div>",i=[],c=r.y,o=h=0,f=c.length;h<f;o=++h)l=c[o],i.unshift(l);for(o=p=0,u=i.length;p<u;o=++p)l=i[o],s=r.y.length-1-o,this.options.labels[s]!==!1&&(e+="<div class='morris-hover-point' style='color: "+this.colorFor(r,s,"label")+`'>
  `+this.options.labels[s]+`:
  `+this.yLabelFormat(l,s)+`
</div>`);return typeof this.options.hoverCallback=="function"&&(e=this.options.hoverCallback(t,this.options,e,r.src)),this.options.horizontal?(a=this.left+.5*this.width,l=this.top+(t+.5)*this.height/this.data.length,[e,a,l,!0]):(a=this.left+(t+.5)*this.width/this.data.length,[e,a])},n.prototype.drawBar=function(t,e,i,s,o,r,a){var l,h;return l=Math.max.apply(Math,a),this.options.animate?this.options.horizontal?l===0||l>s?h=this.raphael.rect(this.transY(0),e,0,s).animate({x:t,width:i},500):h=this.raphael.path(this.roundedRect(this.transY(0),e+s,i,0,a).animate({y:e,height:s},500)):l===0||l>s?h=this.raphael.rect(t,this.transY(0),i,0).animate({y:e,height:s},500):h=this.raphael.path(this.roundedRect(t,this.transY(0),i,0,a).animate({y:e,height:s},500)):l===0||l>s?h=this.raphael.rect(t,e,i,s):h=this.raphael.path(this.roundedRect(t,e,i,s,a)),h.attr("fill",o).attr("fill-opacity",r).attr("stroke","none")},n.prototype.roundedRect=function(t,e,i,s,o){return o==null&&(o=[0,0,0,0]),["M",t,o[0]+e,"Q",t,e,t+o[0],e,"L",t+i-o[1],e,"Q",t+i,e,t+i,e+o[1],"L",t+i,e+s-o[2],"Q",t+i,e+s,t+i-o[2],e+s,"L",t+o[3],e+s,"Q",t,e+s,t,e+s-o[3],"Z"]},n}(g.Grid),g.Donut=function(d){R(n,d),n.prototype.defaults={colors:["#2f7df6","#53a351","#f6c244","#cb444a","#4aa0b5","#222529","#44a1f8","#81d453","#f0bb40","#eb3f25","#b45184","#5f5f5f"],backgroundColor:"#FFFFFF",labelColor:"#000000",padding:0,formatter:g.commas,resize:!0,dataLabels:!1,dataLabelsPosition:"inside",dataLabelsFamily:"sans-serif",dataLabelsSize:12,dataLabelsWeight:"normal",dataLabelsColor:"auto",noDataLabel:"No data for this chart",noDataLabelSize:21,noDataLabelWeight:"bold",donutType:"donut",animate:!0,showPercentage:!1,postUnits:"",preUnits:""};function n(t){this.debouncedResizeHandler=T(this.debouncedResizeHandler,this),this.resizeHandler=T(this.resizeHandler,this),this.deselect=T(this.deselect,this),this.select=T(this.select,this),this.click=T(this.click,this);var e,i,s,o,r;if(!(this instanceof g.Donut))return new g.Donut(t);if(this.options=g.extend({},this.defaults,t),typeof t.element=="string"?this.el=document.getElementById(t.element):this.el=t.element[0]||t.element,this.el===null)throw new Error("Graph placeholder not found.");if(this.raphael=new Raphael(this.el),t.data===void 0||t.data.length===0){r=g.dimensions(this.el),o=r.width,s=r.height,e=o/2,i=s/2,this.raphael.text(e,i,this.options.noDataLabel).attr("text-anchor","middle").attr("font-size",this.options.noDataLabelSize).attr("font-family",this.options.dataLabelsFamily).attr("font-weight",this.options.noDataLabelWeight).attr("fill",this.options.dataLabelsColor);return}this.options.resize&&g.on(window,"resize",this.resizeHandler),this.setData(t.data)}return n.prototype.destroy=function(){if(this.options.resize)return window.clearTimeout(this.timeoutId),g.off(window,"resize",this.resizeHandler)},n.prototype.redraw=function(){var t,e,i,s,o,r,a,l,h,p,f,u,c,y,m,v,x,_,b,L,S,w,z,k,M,C,F,H,Y,A,G,B,P;for(this.raphael.clear(),Y=g.dimensions(this.el),w=Y.width,a=Y.height,i=w/2,s=a/2,S=(Math.min(i,s)-10)/3-this.options.padding,b=0,A=this.values,z=0,C=A.length;z<C;z++)L=A[z],b+=L;for(this.options.total=b,y=5/(2*S),t=1.9999*Math.PI-y*this.data.length,u=0,h=0,this.segments=[],b===0&&(b=1),G=this.values,l=k=0,F=G.length;k<F;l=++k)L=G[l],m=u+y+t*(L/b),_=new g.DonutSegment(i,s,S*2,S,u,m,this.data[l].color||this.options.colors[h%this.options.colors.length],this.options.backgroundColor,h,this.raphael,this.options),_.render(),this.segments.push(_),_.on("hover",this.select),_.on("click",this.click),_.on("mouseout",this.deselect),parseFloat(_.raphael.height)>parseFloat(a)?o=a*2-this.options.padding*7:o=_.raphael.height-this.options.padding*7,this.options.dataLabels&&this.values.length>=1&&(x=Math.sin((u+m)/2),v=Math.cos((u+m)/2),this.options.dataLabelsPosition==="inside"?this.options.donutType==="pie"?(p=parseFloat(i)+parseFloat(o*.3*x),f=parseFloat(s)+parseFloat(o*.3*v)):(p=parseFloat(i)+parseFloat(o*.39*x),f=parseFloat(s)+parseFloat(o*.39*v)):(p=parseFloat(i)+parseFloat((o-9)*.5*x),f=parseFloat(s)+parseFloat((o-9)*.5*v)),this.options.dataLabelsColor!=="auto"?e=this.options.dataLabelsColor:this.options.dataLabelsPosition==="inside"&&this.isColorDark(this.options.colors[l])===!0?e="#fff":e="#000",this.options.showPercentage?(r=Math.round(parseFloat(L)/parseFloat(b)*100)+"%",this.drawDataLabelExt(p,f,r,e)):this.drawDataLabelExt(p,f,this.options.preUnits+L+this.options.postUnits,e)),u=m,h+=1;if(this.text1=this.drawEmptyDonutLabel(i,s-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(i,s+10,this.options.labelColor,14),c=Math.max.apply(Math,this.values),h=0,this.options.donutType==="donut"){for(B=this.values,P=[],M=0,H=B.length;M<H;M++){if(L=B[M],L===c){this.select(h);break}P.push(h+=1)}return P}},n.prototype.setData=function(t){var e;return this.data=t,this.values=function(){var i,s,o,r;for(o=this.data,r=[],i=0,s=o.length;i<s;i++)e=o[i],r.push(parseFloat(e.value));return r}.call(this),this.redraw()},n.prototype.drawDataLabel=function(t,e,i,s){return this.raphael.text(t,e,i).attr("text-anchor","middle").attr("font-size",this.options.dataLabelsSize).attr("font-family",this.options.dataLabelsFamily).attr("font-weight",this.options.dataLabelsWeight).attr("fill",this.options.dataLabelsColor)},n.prototype.drawDataLabelExt=function(t,e,i,s){var o;return this.values.length>=1||this.options.dataLabelsPosition==="inside"?o="middle":t>this.raphael.width/2?o="start":t>this.raphael.width*.55&&t<this.raphael.width*.45?o="middle":o="end",this.raphael.text(t,e,i,s).attr("text-anchor",o).attr("font-size",this.options.dataLabelsSize).attr("font-family",this.options.dataLabelsFamily).attr("font-weight",this.options.dataLabelsWeight).attr("fill",s)},n.prototype.click=function(t){return this.fire("click",t,this.data[t])},n.prototype.select=function(t){var e,i,s,o,r,a,l;for(l=this.segments,r=0,a=l.length;r<a;r++)s=l[r],s.deselect();if(o=this.segments[t],o.select(),i=this.data[t],this.options.donutType==="donut")return this.options.showPercentage&&!this.options.dataLabels?(e=Math.round(parseFloat(i.value)/parseFloat(this.options.total)*100)+"%",this.setLabels(i.label,e)):this.setLabels(i.label,this.options.formatter(i.value,i))},n.prototype.deselect=function(t){var e,i,s,o,r;for(o=this.segments,r=[],i=0,s=o.length;i<s;i++)e=o[i],r.push(e.deselect());return r},n.prototype.isColorDark=function(t){var e,i,s,o,r;return t!=null?(t=t.substring(1),r=parseInt(t,16),o=r>>16&255,i=r>>8&255,e=r>>0&255,s=.2126*o+.7152*i+.0722*e,!(s>=128)):!1},n.prototype.setLabels=function(t,e){var i,s,o,r,a,l,h,p,f,u,c;return c=g.dimensions(this.el),u=c.width,i=c.height,s=(Math.min(u/2,i/2)-10)*2/3,a=1.8*s,r=s/2,o=s/3,this.text1.attr({text:t,transform:""}),l=this.text1.getBBox(),h=Math.min(a/l.width,r/l.height),this.text1.attr({transform:"S"+h+","+h+","+(l.x+l.width/2)+","+(l.y+l.height)}),this.text2.attr({text:e,transform:""}),p=this.text2.getBBox(),f=Math.min(a/p.width,o/p.height),this.text2.attr({transform:"S"+f+","+f+","+(p.x+p.width/2)+","+p.y})},n.prototype.drawEmptyDonutLabel=function(t,e,i,s,o){var r;return r=this.raphael.text(t,e,"").attr("font-size",s).attr("fill",i),o!=null&&r.attr("font-weight",o),r},n.prototype.resizeHandler=function(){return this.timeoutId!=null&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.debouncedResizeHandler,100)},n.prototype.debouncedResizeHandler=function(){var t,e,i;return this.timeoutId=null,i=g.dimensions(this.el),e=i.width,t=i.height,this.raphael.setSize(e,t),this.options.animate=!1,this.redraw()},n}(g.EventEmitter),g.DonutSegment=function(d){R(n,d);function n(t,e,i,s,o,r,a,l,h,p,f){this.cx=t,this.cy=e,this.inner=i,this.outer=s,this.color=a,this.backgroundColor=l,this.index=h,this.raphael=p,this.options=f,this.deselect=T(this.deselect,this),this.select=T(this.select,this),this.sin_p0=Math.sin(o),this.cos_p0=Math.cos(o),this.sin_p1=Math.sin(r),this.cos_p1=Math.cos(r),this.is_long=r-o>Math.PI?1:0,this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5),this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer),this.hilight=this.calcArc(this.inner)}return n.prototype.calcArcPoints=function(t){return[this.cx+t*this.sin_p0,this.cy+t*this.cos_p0,this.cx+t*this.sin_p1,this.cy+t*this.cos_p1]},n.prototype.calcSegment=function(t,e){var i,s,o,r,a,l,h,p,f,u;return f=this.calcArcPoints(t),i=f[0],o=f[1],s=f[2],r=f[3],u=this.calcArcPoints(e),a=u[0],h=u[1],l=u[2],p=u[3],this.options.donutType==="pie"?"M"+a+","+h+("A"+e+","+e+",0,"+this.is_long+",0,"+l+","+p)+("L"+this.cx+","+this.cy)+"Z":"M"+i+","+o+("A"+t+","+t+",0,"+this.is_long+",0,"+s+","+r)+("L"+l+","+p)+("A"+e+","+e+",0,"+this.is_long+",1,"+a+","+h)+"Z"},n.prototype.calcArc=function(t){var e,i,s,o,r;return r=this.calcArcPoints(t),e=r[0],s=r[1],i=r[2],o=r[3],"M"+e+","+s+("A"+t+","+t+",0,"+this.is_long+",0,"+i+","+o)},n.prototype.render=function(){var t=this;if(/NaN/.test(this.hilight)||(this.arc=this.drawDonutArc(this.hilight,this.color)),!/NaN/.test(this.path))return this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return t.fire("hover",t.index)},function(){return t.fire("click",t.index)},function(){return t.fire("mouseout",t.index)})},n.prototype.drawDonutArc=function(t,e){var i;return this.options.animate?(i=this.raphael.path("M"+this.cx+","+this.cy+"Z").attr({stroke:e,"stroke-width":2,opacity:0}),function(s,o){return s.animate({path:o},500,"<>")}(i,t)):this.raphael.path(t).attr({stroke:e,"stroke-width":2,opacity:0})},n.prototype.drawDonutSegment=function(t,e,i,s,o,r){var a,l,h;return this.options.animate&&this.options.donutType==="pie"?(h=t,h=t.replace("A",","),h=h.replace("M",""),h=h.replace("C",","),h=h.replace("Z",""),l=h.split(","),this.options.donutType==="pie"?h="M"+l[0]+","+l[1]+","+l[l.length-2]+","+l[l.length-1]+","+l[l.length-2]+","+l[l.length-1]+"Z":h="M"+l[0]+","+l[1]+","+l[l.length-2]+","+l[l.length-1]+"Z",a=this.raphael.path(h).attr({fill:e,stroke:i,"stroke-width":3}).hover(s).click(o).mouseout(r),function(p,f){return p.animate({path:f},500,"<>")}(a,t)):this.options.donutType==="pie"?this.raphael.path(t).attr({fill:e,stroke:i,"stroke-width":3}).hover(s).click(o).mouseout(r):this.raphael.path(t).attr({fill:e,stroke:i,"stroke-width":3}).hover(s).click(o)},n.prototype.select=function(){if(!this.selected&&this.seg!=null)return this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0},n.prototype.deselect=function(){if(this.selected)return this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1},n}(g.EventEmitter)}).call(globalThis);
