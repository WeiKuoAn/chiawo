import"./cropper.min-4213d9eb.js";import"./_commonjsHelpers-042e6b4d.js";import"./jquery-4e911315.js";$(function(){var o=window.console||{log:function(){}},l=window.URL||window.webkitURL,t=$("#image"),s=$("#download"),h=$("#dataX"),m=$("#dataY"),b=$("#dataHeight"),y=$("#dataWidth"),w=$("#dataRotate"),k=$("#dataScaleX"),C=$("#dataScaleY"),r={aspectRatio:16/9,preview:".img-preview",crop:function(a){h.val(Math.round(a.detail.x)),m.val(Math.round(a.detail.y)),b.val(Math.round(a.detail.height)),y.val(Math.round(a.detail.width)),w.val(a.detail.rotate),k.val(a.detail.scaleX),C.val(a.detail.scaleY)}},R=t.attr("src"),g="cropped.jpg",v="image/jpeg",i;t.on({ready:function(a){o.log(a.type)},cropstart:function(a){o.log(a.type,a.detail.action)},cropmove:function(a){o.log(a.type,a.detail.action)},cropend:function(a){o.log(a.type,a.detail.action)},crop:function(a){o.log(a.type)},zoom:function(a){o.log(a.type,a.detail.ratio)}}).cropper(r),$.isFunction(document.createElement("canvas").getContext)||$('button[data-method="getCroppedCanvas"]').prop("disabled",!0),typeof document.createElement("cropper").style.transition>"u"&&($('button[data-method="rotate"]').prop("disabled",!0),$('button[data-method="scale"]').prop("disabled",!0)),typeof s[0].download>"u"&&s.addClass("disabled"),$(".docs-toggles").on("change","input",function(){var a=$(this),e=a.attr("name"),c=a.prop("type"),p,d;t.data("cropper")&&(c=="checkbox"?(r[e]=a.prop("checked"),p=t.cropper("getCropBoxData"),d=t.cropper("getCanvasData"),r.ready=function(){t.cropper("setCropBoxData",p),t.cropper("setCanvasData",d)}):c=="radio"&&(r[e]=a.val()),t.cropper("destroy").cropper(r))}),$(".docs-buttons").on("click","[data-method]",function(){var a=$(this),e=a.data(),c=t.data("cropper"),p,d,n;if(!(a.prop("disabled")||a.hasClass("disabled"))&&c&&e.method){if(e=$.extend({},e),typeof e.target<"u"&&(d=$(e.target),typeof e.option>"u"))try{e.option=JSON.parse(d.val())}catch(u){o.log(u.message)}switch(p=c.cropped,e.method){case"rotate":p&&r.viewMode>0&&t.cropper("clear");break;case"getCroppedCanvas":v==="image/jpeg"&&(e.option||(e.option={}),e.option.fillColor="#fff");break}switch(n=t.cropper(e.method,e.option,e.secondOption),e.method){case"rotate":p&&r.viewMode>0&&t.cropper("crop");break;case"scaleX":case"scaleY":$(this).data("option",-e.option);break;case"getCroppedCanvas":n&&($("#getCroppedCanvasModal").modal().find(".modal-body").html(n),s.hasClass("disabled")||(download.download=g,s.attr("href",n.toDataURL(v))));break;case"destroy":i&&(l.revokeObjectURL(i),i="",t.attr("src",R));break}if($.isPlainObject(n)&&d)try{d.val(JSON.stringify(n))}catch(u){o.log(u.message)}}}),$(document.body).on("keydown",function(a){if(!(a.target!==this||!t.data("cropper")||this.scrollTop>300))switch(a.which){case 37:a.preventDefault(),t.cropper("move",-1,0);break;case 38:a.preventDefault(),t.cropper("move",0,-1);break;case 39:a.preventDefault(),t.cropper("move",1,0);break;case 40:a.preventDefault(),t.cropper("move",0,1);break}});var f=$("#inputImage");l?f.change(function(){var a=this.files,e;t.data("cropper")&&a&&a.length&&(e=a[0],/^image\/\w+$/.test(e.type)?(g=e.name,v=e.type,i&&l.revokeObjectURL(i),i=l.createObjectURL(e),t.cropper("destroy").attr("src",i).cropper(r),f.val("")):window.alert("Please choose an image file."))}):f.prop("disabled",!0).parent().addClass("disabled"),document.querySelectorAll(".docs-options input").forEach(function(a){a.click()})});
