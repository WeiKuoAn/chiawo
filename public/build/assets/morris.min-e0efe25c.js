/* @license
morris.js06 v0.6.8
https://pierresh.github.io/morris.js/
Copyright 2021 Olly Smith All rights reserved.
Licensed under the BSD-2-Clause License.
*/(function(){var g,R,D,I,G=[].slice,C=function(c,h){return function(){return c.apply(h,arguments)}},O={}.hasOwnProperty,B=function(c,h){function t(){this.constructor=c}for(var s in h)O.call(h,s)&&(c[s]=h[s]);return t.prototype=h.prototype,c.prototype=new t,c.__super__=h.prototype,c},X=[].indexOf||function(c){for(var h=0,t=this.length;t>h;h++)if(h in this&&this[h]===c)return h;return-1};g=window.Morris={},R=function(c){return getComputedStyle?getComputedStyle(c,null):c.currentStyle?c.currentStyle:c.style},g.EventEmitter=function(){function c(){}return c.prototype.on=function(h,t){return this.handlers==null&&(this.handlers={}),this.handlers[h]==null&&(this.handlers[h]=[]),this.handlers[h].push(t),this},c.prototype.fire=function(){var h,t,s,i,e,o,n;if(s=arguments[0],h=2<=arguments.length?G.call(arguments,1):[],this.handlers!=null&&this.handlers[s]!=null){for(o=this.handlers[s],n=[],i=0,e=o.length;e>i;i++)t=o[i],n.push(t.apply(null,h));return n}},c}(),g.commas=function(c){var h,t,s,i;return c!=null?(s=0>c?"-":"",h=Math.abs(c),t=Math.floor(h).toFixed(0),s+=t.replace(/(?=(?:\d{3})+$)(?!^)/g,","),i=h.toString(),i.length>t.length&&(s+=i.slice(t.length)),s):"-"},g.pad2=function(c){return(10>c?"0":"")+c},g.extend=function(){var c,h,t,s,i,e,o;for(h=arguments[0],t=2<=arguments.length?G.call(arguments,1):[],h==null&&(h={}),e=0,o=t.length;o>e;e++)if(s=t[e],s!=null)for(c in s)i=s[c],s.hasOwnProperty(c)&&(h[c]=i);return h},g.offset=function(c){var h;return h=c.getBoundingClientRect(),{top:h.top+document.body.scrollTop,left:h.left+document.body.scrollLeft}},g.css=function(c,h){return R(c)[h]},g.on=function(c,h,t){return c.addEventListener?c.addEventListener(h,t):c.attachEvent("on"+h,t)},g.off=function(c,h,t){return c.removeEventListener?c.removeEventListener(h,t):c.detachEvent("on"+h,t)},g.dimensions=function(c){var h;return h=R(c),{width:parseInt(h.width),height:parseInt(h.height)}},g.innerDimensions=function(c){var h;return h=R(c),{width:parseInt(h.width)+parseInt(h.paddingLeft)+parseInt(h.paddingRight),height:parseInt(h.height)+parseInt(h.paddingTop)+parseInt(h.paddingBottom)}},g.Grid=function(c){function h(t){if(this.setLabels=C(this.setLabels,this),this.hasToShow=C(this.hasToShow,this),this.debouncedResizeHandler=C(this.debouncedResizeHandler,this),this.resizeHandler=C(this.resizeHandler,this),this.mouseupHandler=C(this.mouseupHandler,this),this.mousedownHandler=C(this.mousedownHandler,this),this.clickHandler=C(this.clickHandler,this),this.touchHandler=C(this.touchHandler,this),this.mouseleaveHandler=C(this.mouseleaveHandler,this),this.mousemoveHandler=C(this.mousemoveHandler,this),typeof t.element=="string"?this.el=document.getElementById(t.element):this.el=t.element[0]||t.element,this.el==null)throw new Error("Graph container element not found");g.css(this.el,"position")==="static"&&(this.el.style.position="relative"),this.options=g.extend({},this.gridDefaults,this.defaults||{},t),typeof this.options.units=="string"&&(this.options.postUnits=t.units),this.raphael=new Raphael(this.el),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.selectFrom=null,this.init&&this.init(),this.setData(this.options.data),g.on(this.el,"mousemove",this.mousemoveHandler),g.on(this.el,"mouseleave",this.mouseleaveHandler),g.on(this.el,"touchstart touchmove touchend",this.touchHandler),g.on(this.el,"click",this.clickHandler),this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,g.innerDimensions(this.el).height).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),g.on(this.el,"mousedown",this.mousedownHandler),g.on(this.el,"mouseup",this.mouseupHandler)),this.options.resize&&g.on(window,"resize",this.resizeHandler),this.el.style.webkitTapHighlightColor="rgba(0,0,0,0)",this.postInit&&this.postInit()}return B(h,c),h.prototype.gridDefaults={dateFormat:null,axes:!0,freePosition:!1,grid:!0,gridIntegers:!1,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:"auto",yLabelFormat:null,yLabelAlign:"right",yLabelAlign2:"left",xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",postUnits2:"",preUnits:"",preUnits2:"",ymax:"auto",ymin:"auto 0",ymax2:"auto",ymin2:"auto 0",regions:[],regionsColors:["#fde4e4"],goals:[],goals2:[],goalStrokeWidth:1,goalStrokeWidth2:1,goalLineColors:["red"],goalLineColors2:["red"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04"],rangeSelect:null,rangeSelectColor:"#eef",resize:!0,dataLabels:!0,dataLabelsPosition:"outside",dataLabelsFamily:"sans-serif",dataLabelsSize:12,dataLabelsWeight:"normal",dataLabelsColor:"auto",animate:!0,nbYkeys2:0,smooth:!0},h.prototype.destroy=function(){return g.off(this.el,"mousemove",this.mousemoveHandler),g.off(this.el,"mouseleave",this.mouseleaveHandler),g.off(this.el,"touchstart touchmove touchend",this.touchHandler),g.off(this.el,"click",this.clickHandler),this.options.rangeSelect&&(g.off(this.el,"mousedown",this.mousedownHandler),g.off(this.el,"mouseup",this.mouseupHandler)),this.options.resize?(window.clearTimeout(this.timeoutId),g.off(window,"resize",this.resizeHandler)):void 0},h.prototype.setData=function(t,s){var i,e,o,n,r,l,a,p,d,u,f,y,m,b,v,x,w,k,S,L,z,_,M,H;if(s==null&&(s=!0),this.options.data=t,t==null||t.length===0)return this.data=[],this.raphael.clear(),void(this.hover!=null&&this.hover.hide());if(x=this.cumulative?0:null,k=this.cumulative?0:null,w=this.cumulative?0:null,S=this.cumulative?0:null,this.options.goals.length>0&&(a=Math.min.apply(Math,this.options.goals),l=Math.max.apply(Math,this.options.goals),k=k!=null?Math.min(k,a):a,x=x!=null?Math.max(x,l):l),this.options.goals2.length>0&&(a=Math.min.apply(Math,this.options.goals2),l=Math.max.apply(Math,this.options.goals2),S=S!=null?Math.min(S,a):a,w=w!=null?Math.max(w,l):l),this.options.nbYkeys2>this.options.ykeys.length&&(this.options.nbYkeys2=this.options.ykeys.length),this.data=function(){var F,T,Y;for(Y=[],r=F=0,T=t.length;T>F;r=++F)d=t[r],p={src:d},p.label=d[this.options.xkey],this.options.parseTime?(p.x=g.parseDate(p.label),this.options.dateFormat?p.label=this.options.dateFormat(p.x):typeof p.label=="number"&&(p.label=new Date(p.label).toString())):this.options.freePosition?(p.x=parseFloat(d[this.options.xkey]),this.options.xLabelFormat&&(p.label=this.options.xLabelFormat(p))):(p.x=r,this.options.xLabelFormat&&(p.label=this.options.xLabelFormat(p))),m=0,p.y=function(){var A,W,P,E;for(P=this.options.ykeys,E=[],n=A=0,W=P.length;W>A;n=++A)v=P[n],L=d[v],typeof L=="string"&&(L=parseFloat(L)),L!=null&&typeof L!="number"&&(L=null),n<this.options.ykeys.length-this.options.nbYkeys2?(L!=null&&this.hasToShow(n)&&(this.cumulative?0>m&&L>0?m=L:m+=L:x!=null?(x=Math.max(L,x),k=Math.min(L,k)):x=k=L),this.cumulative&&m!=null&&(x=Math.max(m,x),k=Math.min(m,k))):(L!=null&&this.hasToShow(n)&&(this.cumulative?m=L:w!=null?(w=Math.max(L,w),S=Math.min(L,S)):w=S=L),this.cumulative&&m!=null&&(w=Math.max(m,w),S=Math.min(m,S))),E.push(L);return E}.call(this),Y.push(p);return Y}.call(this),(this.options.parseTime||this.options.freePosition)&&(this.data=this.data.sort(function(F,T){return(F.x>T.x)-(T.x>F.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.events.length>0){if(this.options.parseTime)for(M=this.options.events,z=0,_=M.length;_>z;z++)i=M[z],i instanceof Array?(o=i[0],y=i[1],this.events.push([g.parseDate(o),g.parseDate(y)])):this.events.push(g.parseDate(i));else this.events=this.options.events;e=this.events.map(function(F){return F}),this.xmax=Math.max(this.xmax,Math.max.apply(Math,e)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,e))}return this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",k),this.ymax=this.yboundary("max",x),this.ymin2=this.yboundary("min2",S),this.ymax2=this.yboundary("max2",w),this.ymin===this.ymax&&(k&&(this.ymin-=1),this.ymax+=1),this.ymin2===this.ymax2&&(S&&(this.ymin2-=1),this.ymax2+=1),((H=this.options.axes)===!0||H==="both"||H==="y"||this.options.grid===!0)&&(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(u=(this.ymax-this.ymin)/(this.options.numLines-1),this.options.gridIntegers&&(u=Math.max(1,Math.round(u))),this.grid=function(){var F,T,Y;for(Y=[],b=F=this.ymin,T=this.ymax;u>0?T>=F:F>=T;b=F+=u)Y.push(parseFloat(b.toFixed(2)));return Y}.call(this)),this.options.ymax2===this.gridDefaults.ymax2&&this.options.ymin2===this.gridDefaults.ymin2&&this.options.nbYkeys2>0?(this.grid2=this.autoGridLines(this.ymin2,this.ymax2,this.options.numLines),this.ymin2=Math.min(this.ymin2,this.grid2[0]),this.ymax2=Math.max(this.ymax2,this.grid2[this.grid2.length-1])):(f=(this.ymax2-this.ymin2)/(this.options.numLines-1),this.grid2=function(){var F,T,Y;for(Y=[],b=F=this.ymin2,T=this.ymax2;f>0?T>=F:F>=T;b=F+=f)Y.push(parseFloat(b.toFixed(2)));return Y}.call(this))),this.dirty=!0,s?this.redraw():void 0},h.prototype.yboundary=function(t,s){var i,e;return i=this.options["y"+t],typeof i=="string"?i.slice(0,4)==="auto"?i.length>5?(e=parseInt(i.slice(5),10),s==null?e:Math[t.substring(0,3)](s,e)):s??0:parseInt(i,10):i},h.prototype.autoGridLines=function(t,s,i){var e,o,n,r,l,a,p,d,u;return l=s-t,u=Math.floor(Math.log(l)/Math.log(10)),p=Math.pow(10,u),o=Math.floor(t/p)*p,e=Math.ceil(s/p)*p,a=(e-o)/(i-1),p===1&&a>1&&Math.ceil(a)!==a&&(a=Math.ceil(a),e=o+a*(i-1)),0>o&&e>0&&(o=Math.floor(t/a)*a,e=Math.ceil(s/a)*a),1>a?(r=Math.floor(Math.log(a)/Math.log(10)),n=function(){var f,y;for(y=[],d=f=o;a>0?e>=f:f>=e;d=f+=a)y.push(parseFloat(d.toFixed(1-r)));return y}()):n=function(){var f,y;for(y=[],d=f=o;a>0?e>=f:f>=e;d=f+=a)y.push(d);return y}(),n},h.prototype._calc=function(){var t,s,i,e,o,n,r,l,a,p,d;return a=g.dimensions(this.el),n=a.width,e=a.height,(this.elementWidth!==n||this.elementHeight!==e||this.dirty)&&(this.elementWidth=n,this.elementHeight=e,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,((p=this.options.axes)===!0||p==="both"||p==="y")&&(this.grid!=null&&(r=function(){var u,f,y,m;for(y=this.grid,m=[],u=0,f=y.length;f>u;u++)i=y[u],m.push(this.measureText(this.yAxisFormat(i)).width);return m}.call(this)),this.options.nbYkeys2>0&&(l=function(){var u,f,y,m;for(y=this.grid2,m=[],u=0,f=y.length;f>u;u++)i=y[u],m.push(this.measureText(this.yAxisFormat2(i)).width);return m}.call(this)),this.options.horizontal?this.bottom-=this.options.padding/2:(this.left+=Math.max.apply(Math,r),this.options.nbYkeys2>0&&(this.right-=Math.max.apply(Math,l)))),((d=this.options.axes)===!0||d==="both"||d==="x")&&(t=this.options.horizontal?-90:-this.options.xLabelAngle,s=function(){var u,f,y;for(y=[],o=u=0,f=this.data.length;f>=0?f>u:u>f;o=f>=0?++u:--u)y.push(this.measureText(this.data[o].label,t).height);return y}.call(this),this.options.horizontal?this.left+=Math.max.apply(Math,s):this.bottom-=Math.max.apply(Math,s)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.options.horizontal?(this.dx=this.height/(this.xmax-this.xmin),this.dy=this.width/(this.ymax-this.ymin),this.dy2=this.width/(this.ymax2-this.ymin2),this.yStart=this.left,this.yEnd=this.right,this.xStart=this.top,this.xEnd=this.bottom,this.xSize=this.height,this.ySize=this.width):(this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.dy2=this.height/(this.ymax2-this.ymin2),this.yStart=this.bottom,this.yEnd=this.top,this.xStart=this.left,this.xEnd=this.right,this.xSize=this.width,this.ySize=this.height),this.calc)?this.calc():void 0},h.prototype.transY=function(t){return this.options.horizontal?this.left+(t-this.ymin)*this.dy:this.bottom-(t-this.ymin)*this.dy},h.prototype.transY2=function(t){return this.options.horizontal?this.left+(t-this.ymin2)*this.dy2:this.bottom-(t-this.ymin2)*this.dy2},h.prototype.transX=function(t){return this.data.length===1?(this.xStart+this.xEnd)/2:this.xStart+(t-this.xmin)*this.dx},h.prototype.redraw=function(){return this.raphael.clear(),this._calc(),this.drawGrid(),this.drawRegions(),this.drawEvents(),this.draw&&this.draw(),this.drawGoals(),this.setLabels()},h.prototype.measureText=function(t,s){var i,e;return s==null&&(s=0),e=this.raphael.text(100,100,t).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(s),i=e.getBBox(),e.remove(),i},h.prototype.yAxisFormat=function(t){return this.yLabelFormat(t,0)},h.prototype.yAxisFormat2=function(t){return this.yLabelFormat(t,1e3)},h.prototype.yLabelFormat=function(t,s){return typeof this.options.yLabelFormat=="function"?this.options.yLabelFormat(t,s):this.options.nbYkeys2===0||s<=this.options.ykeys.length-this.options.nbYkeys2-1?""+this.options.preUnits+g.commas(t)+this.options.postUnits:""+this.options.preUnits2+g.commas(t)+this.options.postUnits2},h.prototype.yLabelFormat_noUnit=function(t,s){return typeof this.options.yLabelFormat=="function"?this.options.yLabelFormat(t,s):""+g.commas(t)},h.prototype.getYAxisLabelX=function(){return this.options.yLabelAlign==="right"?this.left-this.options.padding/2:this.options.padding/2},h.prototype.drawGrid=function(){var t,s,i,e,o,n,r,l,a,p,d,u,f,y;if(this.options.grid!==!1||(a=this.options.axes)===!0||a==="both"||a==="y"){if(this.options.horizontal?(t=this.getXAxisLabelY(),s=this.top-(this.options.xAxisLabelTopPadding||this.options.padding/2)):(t=this.getYAxisLabelX(),s=this.right+this.options.padding/2),this.grid!=null)for(p=this.grid,o=0,r=p.length;r>o;o++)i=p[o],e=this.transY(i),((d=this.options.axes)===!0||d==="both"||d==="y")&&(this.options.horizontal?this.drawXAxisLabel(e,t,this.yAxisFormat(i)):this.drawYAxisLabel(t,e,this.yAxisFormat(i),1)),this.options.grid&&(e=Math.floor(e)+.5,this.options.horizontal?this.drawGridLine("M"+e+","+this.xStart+"V"+this.xEnd):(isNaN(this.xEnd)&&(this.xEnd=20),this.drawGridLine("M"+this.xStart+","+e+"H"+this.xEnd)));if(this.options.nbYkeys2>0){for(u=this.grid2,y=[],n=0,l=u.length;l>n;n++)i=u[n],e=this.transY2(i),(f=this.options.axes)===!0||f==="both"||f==="y"?this.options.horizontal?y.push(this.drawXAxisLabel(e,s,this.yAxisFormat2(i))):y.push(this.drawYAxisLabel(s,e,this.yAxisFormat2(i),2)):y.push(void 0);return y}}},h.prototype.drawRegions=function(){var t,s,i,e,o,n,r;for(n=this.options.regions,r=[],s=e=0,o=n.length;o>e;s=++e)i=n[s],t=this.options.regionsColors[s%this.options.regionsColors.length],r.push(this.drawRegion(i,t));return r},h.prototype.drawGoals=function(){var t,s,i,e,o,n,r,l,a,p;for(l=this.options.goals,i=e=0,n=l.length;n>e;i=++e)s=l[i],t=this.options.goalLineColors[i%this.options.goalLineColors.length],this.drawGoal(s,t);for(a=this.options.goals2,p=[],i=o=0,r=a.length;r>o;i=++o)s=a[i],t=this.options.goalLineColors2[i%this.options.goalLineColors2.length],p.push(this.drawGoal2(s,t));return p},h.prototype.drawEvents=function(){var t,s,i,e,o,n,r;if(this.events!=null){for(n=this.events,r=[],i=e=0,o=n.length;o>e;i=++e)s=n[i],t=this.options.eventLineColors[i%this.options.eventLineColors.length],r.push(this.drawEvent(s,t));return r}},h.prototype.drawGoal=function(t,s){var i,e;return e=Math.floor(this.transY(t))+.5,i=this.options.horizontal?"M"+e+","+this.xStart+"V"+this.xEnd:"M"+this.xStart+","+e+"H"+this.xEnd,this.raphael.path(i).attr("stroke",s).attr("stroke-width",this.options.goalStrokeWidth)},h.prototype.drawGoal2=function(t,s){var i,e;return e=Math.floor(this.transY2(t))+.5,i=this.options.horizontal?"M"+e+","+this.xStart+"V"+this.xEnd:"M"+this.xStart+","+e+"H"+this.xEnd,this.raphael.path(i).attr("stroke",s).attr("stroke-width",this.options.goalStrokeWidth2)},h.prototype.drawRegion=function(t,s){var i,e,o,n;return t instanceof Array?(i=Math.min(Math.max.apply(Math,t),this.ymax),o=Math.max(Math.min.apply(Math,t),this.ymin),this.options.horizontal?(o=Math.floor(this.transY(o)),i=Math.floor(this.transY(i))-o,this.raphael.rect(o,this.xStart,i,this.xEnd-this.xStart).attr({fill:s,stroke:!1}).toBack()):(i=Math.floor(this.transY(i)),o=Math.floor(this.transY(o))-i,this.raphael.rect(this.xStart,i,this.xEnd-this.xStart,o).attr({fill:s,stroke:!1}).toBack())):this.options.horizontal?(n=Math.floor(this.transY(area))+1,e="M"+n+","+this.xStart+"V"+this.xEnd,this.raphael.path(e).attr("stroke",s).attr("stroke-width",2)):(n=Math.floor(this.transY(area))+1,e="M"+this.xStart+","+n+"H"+this.xEnd,this.raphael.path(e).attr("stroke",s).attr("stroke-width",2))},h.prototype.drawEvent=function(t,s){var i,e,o,n;return t instanceof Array?(i=t[0],o=t[1],i=Math.floor(this.transX(i))+.5,o=Math.floor(this.transX(o))+.5,this.options.horizontal?this.raphael.rect(this.yStart,i,this.yEnd-this.yStart,o-i).attr({fill:s,stroke:!1}).toBack():this.raphael.rect(i,this.yEnd,o-i,this.yStart-this.yEnd).attr({fill:s,stroke:!1}).toBack()):(n=Math.floor(this.transX(t))+.5,e=this.options.horizontal?"M"+this.yStart+","+n+"H"+this.yEnd:"M"+n+","+this.yStart+"V"+this.yEnd,this.raphael.path(e).attr("stroke",s).attr("stroke-width",this.options.eventStrokeWidth))},h.prototype.drawYAxisLabel=function(t,s,i,e){var o;return o=this.raphael.text(t,s,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor),e===1?this.options.yLabelAlign==="right"?o.attr("text-anchor","end"):o.attr("text-anchor","start"):this.options.yLabelAlign2==="left"?o.attr("text-anchor","start"):o.attr("text-anchor","end")},h.prototype.drawXAxisLabel=function(t,s,i){return this.raphael.text(t,s,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},h.prototype.drawGridLine=function(t){return this.raphael.path(t).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},h.prototype.startRange=function(t){return this.hover.hide(),this.selectFrom=t,this.selectionRect.attr({x:t,width:0}).show()},h.prototype.endRange=function(t){var s,i;return this.selectFrom?(i=Math.min(this.selectFrom,t),s=Math.max(this.selectFrom,t),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(i)].x,end:this.data[this.hitTest(s)].x}),this.selectFrom=null):void 0},h.prototype.mousemoveHandler=function(t){var s,i,e,o,n;return i=g.offset(this.el),n=t.pageX-i.left,this.selectFrom?(s=this.data[this.hitTest(Math.min(n,this.selectFrom))]._x,e=this.data[this.hitTest(Math.max(n,this.selectFrom))]._x,o=e-s,this.selectionRect.attr({x:s,width:o})):this.fire("hovermove",n,t.pageY-i.top)},h.prototype.mouseleaveHandler=function(t){return this.selectFrom&&(this.selectionRect.hide(),this.selectFrom=null),this.fire("hoverout")},h.prototype.touchHandler=function(t){var s,i;return i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],s=g.offset(this.el),this.fire("hovermove",i.pageX-s.left,i.pageY-s.top)},h.prototype.clickHandler=function(t){var s;return s=g.offset(this.el),this.fire("gridclick",t.pageX-s.left,t.pageY-s.top)},h.prototype.mousedownHandler=function(t){var s;return s=g.offset(this.el),this.startRange(t.pageX-s.left)},h.prototype.mouseupHandler=function(t){var s;return s=g.offset(this.el),this.endRange(t.pageX-s.left),this.fire("hovermove",t.pageX-s.left,t.pageY-s.top)},h.prototype.resizeHandler=function(){return this.timeoutId!=null&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.debouncedResizeHandler,100)},h.prototype.debouncedResizeHandler=function(){var t,s,i;return this.timeoutId=null,i=g.dimensions(this.el),s=i.width,t=i.height,this.raphael.setSize(s,t),this.options.animate=!1,this.redraw()},h.prototype.hasToShow=function(t){return this.options.shown===!0||this.options.shown[t]===!0},h.prototype.isColorDark=function(t){var s,i,e,o,n;return t!=null?(t=t.substring(1),n=parseInt(t,16),o=n>>16&255,i=n>>8&255,s=n>>0&255,e=.2126*o+.7152*i+.0722*s,!(e>=128)):!1},h.prototype.drawDataLabel=function(t,s,i,e){return this.raphael.text(t,s,i).attr("text-anchor","middle").attr("font-size",this.options.dataLabelsSize).attr("font-family",this.options.dataLabelsFamily).attr("font-weight",this.options.dataLabelsWeight).attr("fill",e)},h.prototype.drawDataLabelExt=function(t,s,i,e,o){return this.raphael.text(t,s,i).attr("text-anchor",e).attr("font-size",this.options.dataLabelsSize).attr("font-family",this.options.dataLabelsFamily).attr("font-weight",this.options.dataLabelsWeight).attr("fill",o)},h.prototype.setLabels=function(){var t,s,i,e,o,n,r;if(this.options.dataLabels){for(n=this.data,r=[],e=0,o=n.length;o>e;e++)i=n[e],r.push(function(){var l,a,p,d;for(p=this.options.ykeys,d=[],s=l=0,a=p.length;a>l;s=++l)p[s],t=this.options.dataLabelsColor!=="auto"?this.options.dataLabelsColor:this.options.stacked===!0&&this.isColorDark(this.options.barColors[s%this.options.barColors.length])===!0?"#fff":"#000",this.options.lineColors!=null&&this.options.lineType!=null?(i.label_y[s]!=null&&this.drawDataLabel(i._x,i.label_y[s],this.yLabelFormat_noUnit(i.y[s],0),t),i._y2!=null&&i._y2[s]!=null?d.push(this.drawDataLabel(i._x,i._y2[s]-10,this.yLabelFormat_noUnit(i.y[s],1e3),t)):d.push(void 0)):i.label_y[s]!=null?this.options.horizontal===!1?d.push(this.drawDataLabel(i.label_x[s],i.label_y[s],this.yLabelFormat_noUnit(i.y[s],s),t)):d.push(this.drawDataLabelExt(i.label_x[s],i.label_y[s],this.yLabelFormat_noUnit(i.y[s]),"start",t)):i._y2[s]!=null?this.options.horizontal===!1?d.push(this.drawDataLabel(i._x,i._y2[s]-10,this.yLabelFormat_noUnit(i.y[s],s),t)):d.push(this.drawDataLabelExt(i._y2[s],i._x-10,this.yLabelFormat_noUnit(i.y[s]),"middle",t)):d.push(void 0);return d}.call(this));return r}},h}(g.EventEmitter),g.parseDate=function(c){var h,t,s,i,e,o,n,r,l,a,p;return typeof c=="number"?c:(t=c.match(/^(\d+) Q(\d)$/),i=c.match(/^(\d+)-(\d+)$/),e=c.match(/^(\d+)-(\d+)-(\d+)$/),n=c.match(/^(\d+) W(\d+)$/),r=c.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),l=c.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),t?new Date(parseInt(t[1],10),3*parseInt(t[2],10)-1,1).getTime():i?new Date(parseInt(i[1],10),parseInt(i[2],10)-1,1).getTime():e?new Date(parseInt(e[1],10),parseInt(e[2],10)-1,parseInt(e[3],10)).getTime():n?(a=new Date(parseInt(n[1],10),0,1),a.getDay()!==4&&a.setMonth(0,1+(4-a.getDay()+7)%7),a.getTime()+6048e5*parseInt(n[2],10)):r?r[6]?(o=0,r[6]!=="Z"&&(o=60*parseInt(r[8],10)+parseInt(r[9],10),r[7]==="+"&&(o=0-o)),Date.UTC(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10),parseInt(r[4],10),parseInt(r[5],10)+o)):new Date(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10),parseInt(r[4],10),parseInt(r[5],10)).getTime():l?(p=parseFloat(l[6]),h=Math.floor(p),s=Math.round(1e3*(p-h)),l[8]?(o=0,l[8]!=="Z"&&(o=60*parseInt(l[10],10)+parseInt(l[11],10),l[9]==="+"&&(o=0-o)),Date.UTC(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)+o,h,s)):new Date(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10),h,s).getTime()):new Date(parseInt(c,10),0,1).getTime())},g.Hover=function(){function c(h){h==null&&(h={}),this.options=g.extend({},g.Hover.defaults,h),this.el=document.createElement("div"),this.el.className=this.options.class,this.el.style.display="none",(this.options.parent=this.options.parent[0]||this.options.parent).appendChild(this.el)}return c.defaults={class:"morris-hover morris-default-style"},c.prototype.update=function(h,t,s,i){return h?(this.html(h),this.show(),this.moveTo(t,s,i)):this.hide()},c.prototype.html=function(h){return this.el.innerHTML=h},c.prototype.moveTo=function(h,t,s){var i,e,o,n,r,l,a;return a=g.innerDimensions(this.options.parent),r=a.width,n=a.height,e=this.el.offsetWidth,i=this.el.offsetHeight,o=Math.min(Math.max(0,h-e/2),r-e),t!=null?s===!0?(l=t-i/2,0>l&&(l=0)):(l=t-i-10,0>l&&(l=t+10,l+i>n&&(l=n/2-i/2))):l=n/2-i/2,this.el.style.left=parseInt(o)+"px",this.el.style.top=parseInt(l)+"px"},c.prototype.show=function(){return this.el.style.display=""},c.prototype.hide=function(){return this.el.style.display="none"},c}(),g.Line=function(c){function h(t){return this.hilight=C(this.hilight,this),this.escapeHTML=C(this.escapeHTML,this),this.onHoverOut=C(this.onHoverOut,this),this.onHoverMove=C(this.onHoverMove,this),this.onGridClick=C(this.onGridClick,this),this instanceof g.Line?void h.__super__.constructor.call(this,t):new g.Line(t)}return B(h,c),h.prototype.init=function(){return this.options.hideHover!=="always"?(this.hover=new g.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},h.prototype.defaults={lineWidth:3,pointSize:4,pointSizeGrow:3,lineColors:["#2f7df6","#53a351","#f6c244","#cb444a","#4aa0b5","#222529"],extraClassLine:"",extraClassCircle:"",pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],pointSuperimposed:!0,hoverOrdered:!1,hoverReversed:!1,smooth:!0,lineType:{},shown:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:0,verticalGrid:!1,verticalGridHeight:"full",verticalGridStartOffset:0,verticalGridType:"",trendLine:!1,trendLineType:"linear",trendLineWidth:2,trendLineWeight:!1,trendLineColors:["#689bc3","#a2b3bf","#64b764"]},h.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},h.prototype.calcPoints=function(){var t,s,i,e,o,n,r,l,a,p,d,u,f,y,m,b,v,x,w,k,S;for(v=this.data,p=0,y=v.length;y>p;p++)r=v[p],r._x=this.transX(r.x),r._y=function(){var L,z,_,M;for(_=r.y,M=[],e=L=0,z=_.length;z>L;e=++L)a=_[e],e<this.options.ykeys.length-this.options.nbYkeys2?a!=null?M.push(this.transY(a)):M.push(a):M.push(void 0);return M}.call(this),r._y2=function(){var L,z,_,M;for(_=r.y,M=[],e=L=0,z=_.length;z>L;e=++L)a=_[e],e>=this.options.ykeys.length-this.options.nbYkeys2?a!=null?M.push(this.transY2(a)):M.push(a):M.push(void 0);return M}.call(this),r._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var L,z,_,M;for(_=r._y,M=[],s=L=0,z=_.length;z>L;s=++L)a=_[s],a!=null&&this.hasToShow(s)&&M.push(a);return M}.call(this))),r._ymax2=Math.min.apply(Math,[this.bottom].concat(function(){var L,z,_,M;for(_=r._y2,M=[],s=L=0,z=_.length;z>L;s=++L)a=_[s],a!=null&&this.hasToShow(s)&&M.push(a);return M}.call(this)));for(x=this.data,i=d=0,m=x.length;m>d;i=++d)for(r=x[i],this.data[i].label_x=[],this.data[i].label_y=[],o=u=w=this.options.ykeys.length-1;0>=w?0>=u:u>=0;o=0>=w?++u:--u)r._y[o]!=null&&(this.data[i].label_x[o]=r._x,this.data[i].label_y[o]=r._y[o]-10),r._y2!=null&&r._y2[o]!=null&&(this.data[i].label_x[o]=r._x,this.data[i].label_y[o]=r._y2[o]-10);if(this.options.pointSuperimposed===!1){for(k=this.data,S=[],f=0,b=k.length;b>f;f++)r=k[f],S.push(function(){var L,z,_,M,H,F,T;for(H=r._y,T=[],i=_=0,L=H.length;L>_;i=++_){for(n=H[i],t=0,F=r._y,s=M=0,z=F.length;z>M;s=++M)l=F[s],n===l&&typeof n=="number"&&t++;t>1?(r._y[i]=r._y[i]+t*this.lineWidthForSeries(i),this.lineWidthForSeries(i)>1?T.push(r._y[i]=r._y[i]-1):T.push(void 0)):T.push(void 0)}return T}.call(this));return S}},h.prototype.hitTest=function(t){var s,i,e,o,n;if(this.data.length===0)return null;for(n=this.data.slice(1),s=e=0,o=n.length;o>e&&(i=n[s],!(t<(i._x+this.data[s]._x)/2));s=++e);return s},h.prototype.onGridClick=function(t,s){var i;return i=this.hitTest(t),this.fire("click",i,this.data[i].src,t,s)},h.prototype.onHoverMove=function(t,s){var i;return i=this.hitTest(t),this.displayHoverForRow(i)},h.prototype.onHoverOut=function(){return this.options.hideHover!==!1?this.displayHoverForRow(null):void 0},h.prototype.displayHoverForRow=function(t){var s;return t!=null?((s=this.hover).update.apply(s,this.hoverContentForRow(t)),this.hilight(t)):(this.hover.hide(),this.hilight())},h.prototype.escapeHTML=function(t){var s,i;return s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},i=/[&<>"'/]/gi,t.replace(i,function(e){return s[e]})},h.prototype.hoverContentForRow=function(t){var s,i,e,o,n,r,l,a,p,d,u,f,y,m,b,v,x,w;if(a=this.data[t],i="",l=[],this.options.hoverOrdered===!0)for(v=a.y,o=d=0,m=v.length;m>d;o=++d){for(v[o],n=null,r=-1,x=a.y,e=u=0,b=x.length;b>u;e=++u)p=x[e],X.call(l,e)<0&&(p>=n||n===null)&&(n=p,r=e);l.push(r)}else for(w=a.y,o=f=w.length-1;f>=0;o=f+=-1)w[o],l.push(o);for(this.options.hoverReversed===!0&&(l=l.reverse()),s=-1,y=l.length-1;y>=0;y+=-1)e=l[y],this.options.labels[e]!==!1&&(a.y[e]!==void 0&&s===-1&&(s=e),i="<div class='morris-hover-point' style='color: "+this.colorFor(a,e,"label")+`'>
  `+this.options.labels[e]+`:
  `+this.yLabelFormat(a.y[e],e)+`
</div>`+i);return i="<div class='morris-hover-row-label'>"+this.escapeHTML(a.label)+"</div>"+i,typeof this.options.hoverCallback=="function"&&(i=this.options.hoverCallback(t,this.options,i,a.src)),s>this.options.nbYkeys2?[i,a._x,a._ymax2]:[i,a._x,a._ymax]},h.prototype.generatePaths=function(){var t,s,i,e,o,n;return this.paths=function(){var r,l,a,p;for(p=[],s=r=0,l=this.options.ykeys.length;l>=0?l>r:r>l;s=l>=0?++r:--r)n=typeof this.options.smooth=="boolean"?this.options.smooth:(a=this.options.ykeys[s],X.call(this.options.smooth,a)>=0),i=n?"smooth":"jagged",typeof this.options.lineType=="string"&&(i=this.options.lineType),this.options.lineType[this.options.ykeys[s]]!==void 0&&(i=this.options.lineType[this.options.ykeys[s]]),e=this.options.ykeys.length-this.options.nbYkeys2,t=e>s?function(){var d,u,f,y;for(f=this.data,y=[],d=0,u=f.length;u>d;d++)o=f[d],o._y[s]!==void 0&&y.push({x:o._x,y:o._y[s]});return y}.call(this):function(){var d,u,f,y;for(f=this.data,y=[],d=0,u=f.length;u>d;d++)o=f[d],o._y2[s]!==void 0&&y.push({x:o._x,y:o._y2[s]});return y}.call(this),t.length>1?p.push(g.Line.createPath(t,i,this.bottom,s,this.options.ykeys.length,this.options.lineWidth)):p.push(null);return p}.call(this)},h.prototype.draw=function(){var t;return((t=this.options.axes)===!0||t==="both"||t==="x")&&this.drawXAxis(),this.drawSeries(),this.options.hideHover===!1?this.displayHoverForRow(this.data.length-1):void 0},h.prototype.drawXAxis=function(){var t,s,i,e,o,n,r,l,a,p,d,u,f,y=this;for(l=this.bottom+this.options.padding/2,n=null,o=null,t=function(m,b){var v,x,w,k,S;return v=y.drawXAxisLabel(y.transX(b),l,m),S=v.getBBox(),v.transform("r"+-y.options.xLabelAngle),x=v.getBBox(),v.transform("t0,"+x.height/2+"..."),y.options.xLabelAngle!==0&&(k=-.5*S.width*Math.cos(y.options.xLabelAngle*Math.PI/180),v.transform("t"+k+",0...")),x=v.getBBox(),(n==null||n>=x.x+x.width||o!=null&&o>=x.x)&&x.x>=0&&x.x+x.width<g.dimensions(y.el).width?(y.options.xLabelAngle!==0&&(w=1.25*y.options.gridTextSize/Math.sin(y.options.xLabelAngle*Math.PI/180),o=x.x-w),n=x.x-y.options.xLabelMargin,y.options.verticalGrid===!0?y.drawVerticalGridLine(b):void 0):v.remove()},i=this.options.parseTime?this.data.length===1&&this.options.xLabels==="auto"?[[this.data[0].label,this.data[0].x]]:g.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):this.options.customLabels?function(){var m,b,v,x;for(v=this.options.customLabels,x=[],m=0,b=v.length;b>m;m++)r=v[m],x.push([r.label,r.x]);return x}.call(this):function(){var m,b,v,x;for(v=this.data,x=[],m=0,b=v.length;b>m;m++)r=v[m],x.push([r.label,r.x]);return x}.call(this),i.reverse(),a=0,d=i.length;d>a;a++)s=i[a],t(s[0],s[1]);if(typeof this.options.verticalGrid=="string"){for(e=g.labelSeries(this.xmin,this.xmax,this.width,this.options.verticalGrid),f=[],p=0,u=e.length;u>p;p++)s=e[p],f.push(this.drawVerticalGridLine(s[1]));return f}},h.prototype.drawVerticalGridLine=function(t){var s,i;return t=Math.floor(this.transX(t))+.5,i=this.yStart+this.options.verticalGridStartOffset,s=this.options.verticalGridHeight==="full"?this.yEnd:this.yStart-this.options.verticalGridHeight,this.drawGridLineVert("M"+t+","+i+"V"+s)},h.prototype.drawGridLineVert=function(t){return this.raphael.path(t).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth).attr("stroke-dasharray",this.options.verticalGridType)},h.prototype.drawSeries=function(){var t,s,i,e,o,n;for(this.seriesPoints=[],t=s=e=this.options.ykeys.length-1;0>=e?0>=s:s>=0;t=0>=e?++s:--s)this.hasToShow(t)&&((this.options.trendLine!==!1&&this.options.trendLine===!0||this.options.trendLine[t]===!0)&&this.data.length>0&&this._drawTrendLine(t),this._drawLineFor(t));for(n=[],t=i=o=this.options.ykeys.length-1;0>=o?0>=i:i>=0;t=0>=o?++i:--i)this.hasToShow(t)?n.push(this._drawPointFor(t)):n.push(void 0);return n},h.prototype._drawPointFor=function(t){var s,i,e,o,n,r,l;for(this.seriesPoints[t]=[],r=this.data,l=[],i=o=0,n=r.length;n>o;i=++o)e=r[i],s=null,e._y[t]!=null&&(s=this.drawLinePoint(e._x,e._y[t],this.colorFor(e,t,"point"),t)),e._y2!=null&&e._y2[t]!=null&&(s=this.drawLinePoint(e._x,e._y2[t],this.colorFor(e,t,"point"),t)),l.push(this.seriesPoints[t].push(s));return l},h.prototype._drawLineFor=function(t){var s;return s=this.paths[t],s!==null?this.drawLinePath(s,this.colorFor(null,t,"line"),t):void 0},h.prototype._drawTrendLine=function(t){var s,i,e,o,n,r,l,a,p,d,u,f,y,m,b,v,x,w,k,S,L,z,_,M,H;for(p=0,f=0,d=0,u=0,o=0,l=[],H=this.data,n=S=0,M=H.length;M>S;n=++S)v=H[n],w=v.x,k=v.y[t],k!=null&&(l.push([w,k]),x=this.options.trendLineWeight===!1?1:this.options.data[n][this.options.trendLineWeight],o+=x,p+=w*x,f+=k*x,d+=w*w*x,u+=w*k*x);if(s=(o*u-p*f)/(o*d-p*p),i=f/o-s*p/o,e=[{},{}],e[0].x=this.transX(this.data[0].x),e[0].y=this.transY(this.data[0].x*s+i),e[1].x=this.transX(this.data[this.data.length-1].x),e[1].y=this.transY(this.data[this.data.length-1].x*s+i),this.options.trendLineType!=="linear")if(typeof regression=="function"){if(y=(this.xmax-this.xmin)/30,e=[],this.options.trendLineType==="polynomial")for(a=regression("polynomial",l,2),n=L=0;30>=L;n=++L)m=this.xmin+n*y,b=a.equation[2]*m*m+a.equation[1]*m+a.equation[0],e.push({x:this.transX(m),y:this.transY(b)});else if(this.options.trendLineType==="logarithmic")for(a=regression("logarithmic",l),n=z=0;30>=z;n=++z)m=this.xmin+n*y,b=a.equation[0]+a.equation[1]*Math.log(m),e.push({x:this.transX(m),y:this.transY(b)});else if(this.options.trendLineType==="exponential")for(a=regression("exponential",l),n=_=0;30>=_;n=++_)m=this.xmin+n*y,b=a.equation[0]+Math.exp(a.equation[1]*m),e.push({x:this.transX(m),y:this.transY(b)});console.log("Regression formula is: "+a.string+", r2:"+a.r2)}else console.log("Warning: regression() is undefined, please ensure that regression.js is loaded");return isNaN(s)?void 0:(r=g.Line.createPath(e,"jagged",this.bottom),r=this.raphael.path(r).attr("stroke",this.colorFor(null,t,"trendLine")).attr("stroke-width",this.options.trendLineWidth))},h.createPath=function(t,s,i,e,o,n){var r,l,a,p,d,u,f,y,m,b,v,x,w,k;for(f="",s==="smooth"&&(a=g.Line.gradients(t)),y={y:null},p=w=0,k=t.length;k>w;p=++w)r=t[p],r.y!=null&&(y.y!=null?s==="smooth"?(l=a[p],u=a[p-1],d=(r.x-y.x)/4,m=y.x+d,v=Math.min(i,y.y+d*u),b=r.x-d,x=Math.min(i,r.y-d*l),f+="C"+m+","+v+","+b+","+x+","+r.x+","+r.y):s==="jagged"?f+="L"+r.x+","+r.y:s==="step"?(f+="L"+r.x+","+y.y,f+="L"+r.x+","+r.y):s==="stepNoRiser"?(f+="L"+r.x+","+y.y,f+="M"+r.x+","+r.y):s==="vertical"&&(f+="L"+(y.x-(o-1)*(n/o)+e*n)+","+y.y,f+="L"+(y.x-(o-1)*(n/o)+e*n)+","+i,f+="M"+(r.x-(o-1)*(n/o)+e*n)+","+i,t.length===p+1&&(f+="L"+(r.x-(o-1)*(n/o)+e*n)+","+r.y,f+="L"+(r.x-(o-1)*(n/o)+e*n)+","+i)):(s!=="smooth"||a[p]!=null)&&(f+="M"+r.x+","+r.y)),y=r;return f},h.gradients=function(t){var s,i,e,o,n,r,l,a;for(i=function(p,d){return(p.y-d.y)/(p.x-d.x)},a=[],e=r=0,l=t.length;l>r;e=++r)s=t[e],s.y!=null?(o=t[e+1]||{y:null},n=t[e-1]||{y:null},n.y!=null&&o.y!=null?a.push(i(n,o)):n.y!=null?a.push(i(n,s)):o.y!=null?a.push(i(s,o)):a.push(null)):a.push(null);return a},h.prototype.hilight=function(t){var s,i,e,o,n;if(this.prevHilight!==null&&this.prevHilight!==t)for(s=i=0,o=this.seriesPoints.length-1;o>=0?o>=i:i>=o;s=o>=0?++i:--i)this.hasToShow(s)&&this.seriesPoints[s][this.prevHilight]&&this.seriesPoints[s][this.prevHilight].animate(this.pointShrinkSeries(s));if(t!==null&&this.prevHilight!==t)for(s=e=0,n=this.seriesPoints.length-1;n>=0?n>=e:e>=n;s=n>=0?++e:--e)this.hasToShow(s)&&this.seriesPoints[s][t]&&this.seriesPoints[s][t].animate(this.pointGrowSeries(s));return this.prevHilight=t},h.prototype.colorFor=function(t,s,i){return typeof this.options.lineColors=="function"?this.options.lineColors.call(this,t,s,i):i==="point"?this.options.pointFillColors[s%this.options.pointFillColors.length]||this.options.lineColors[s%this.options.lineColors.length]:i==="trendLine"?this.options.trendLineColors[s%this.options.trendLineColors.length]:this.options.lineColors[s%this.options.lineColors.length]},h.prototype.drawLinePath=function(t,s,i){var e,o,n,r,l,a,p,d;if(this.options.animate){for(l="",d=this.data,e=a=0,p=d.length;p>a;e=++a)n=d[e],l===""?i>=this.options.ykeys.length-this.options.nbYkeys2?n._y2[i]!=null&&(l="M"+n._x+","+this.transY2(this.ymin2)):n._y[i]!=null&&(l=this.options.lineType!=="vertical"?"M"+n._x+","+this.transY(this.ymin):"M"+n._x+","+this.transY(0)+"L"+n._x+","+this.transY(0)+"L"+n._x+","+this.transY(0)):i>=this.options.ykeys.length-this.options.nbYkeys2?n._y2[i]!=null&&(l+=","+n._x+","+this.transY2(this.ymin2),this.options.lineType==="step"&&(l+=","+n._x+","+this.transY2(this.ymin2))):n._y[i]!=null&&(this.options.lineType!=="vertical"?l+=","+n._x+","+this.transY(this.ymin):(r=n._x-(this.options.ykeys.length-1)*(this.options.lineWidth/this.options.ykeys.length)+i*this.options.lineWidth,l+="M"+r+","+this.transY(0)+"L"+r+","+this.transY(0)+"L"+r+","+this.transY(0)),this.options.lineType==="step"&&(l+=","+n._x+","+this.transY(this.ymin)));return o=this.raphael.path(l).attr("stroke",s).attr("stroke-width",this.lineWidthForSeries(i)).attr("class",this.options.extraClassLine).attr("class","line_"+i),this.options.cumulative?function(u,f){return u.animate({path:f},600,"<>")}(o,t):function(u,f){return u.animate({path:f},500,"<>")}(o,t)}return this.raphael.path(t).attr("stroke",s).attr("stroke-width",this.lineWidthForSeries(i)).attr("class",this.options.extraClassLine).attr("class","line_"+i)},h.prototype.drawLinePoint=function(t,s,i,e){return this.raphael.circle(t,s,this.pointSizeForSeries(e)).attr("fill",i).attr("stroke-width",this.pointStrokeWidthForSeries(e)).attr("stroke",this.pointStrokeColorForSeries(e)).attr("class",this.options.extraClassCircle).attr("class","circle_line_"+e)},h.prototype.pointStrokeWidthForSeries=function(t){return this.options.pointStrokeWidths[t%this.options.pointStrokeWidths.length]},h.prototype.pointStrokeColorForSeries=function(t){return this.options.pointStrokeColors[t%this.options.pointStrokeColors.length]},h.prototype.lineWidthForSeries=function(t){return this.options.lineWidth instanceof Array?this.options.lineWidth[t%this.options.lineWidth.length]:this.options.lineWidth},h.prototype.pointSizeForSeries=function(t){return this.options.pointSize instanceof Array?this.options.pointSize[t%this.options.pointSize.length]:this.options.pointSize},h.prototype.pointGrowSeries=function(t){return this.pointSizeForSeries(t)!==0?Raphael.animation({r:this.pointSizeForSeries(t)+this.options.pointSizeGrow},25,"linear"):void 0},h.prototype.pointShrinkSeries=function(t){return Raphael.animation({r:this.pointSizeForSeries(t)},25,"linear")},h}(g.Grid),g.labelSeries=function(c,h,t,s,i){var e,o,n,r,l,a,p,d,u,f,y;if(n=200*(h-c)/t,o=new Date(c),p=g.LABEL_SPECS[s],p===void 0){for(y=g.AUTO_LABEL_ORDER,u=0,f=y.length;f>u;u++)if(r=y[u],a=g.LABEL_SPECS[r],n>=a.span){p=a;break}}for(p===void 0&&(p=g.LABEL_SPECS.second),i&&(p=g.extend({},p,{fmt:i})),e=p.start(o),l=[];(d=e.getTime())<=h;)d>=c&&l.push([p.fmt(e),d]),p.incr(e);return l},D=function(c){return{span:60*c*1e3,start:function(h){return new Date(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours())},fmt:function(h){return""+g.pad2(h.getHours())+":"+g.pad2(h.getMinutes())},incr:function(h){return h.setUTCMinutes(h.getUTCMinutes()+c)}}},I=function(c){return{span:1e3*c,start:function(h){return new Date(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes())},fmt:function(h){return""+g.pad2(h.getHours())+":"+g.pad2(h.getMinutes())+":"+g.pad2(h.getSeconds())},incr:function(h){return h.setUTCSeconds(h.getUTCSeconds()+c)}}},g.LABEL_SPECS={decade:{span:1728e8,start:function(c){return new Date(c.getFullYear()-c.getFullYear()%10,0,1)},fmt:function(c){return""+c.getFullYear()},incr:function(c){return c.setFullYear(c.getFullYear()+10)}},year:{span:1728e7,start:function(c){return new Date(c.getFullYear(),0,1)},fmt:function(c){return""+c.getFullYear()},incr:function(c){return c.setFullYear(c.getFullYear()+1)}},month:{span:24192e5,start:function(c){return new Date(c.getFullYear(),c.getMonth(),1)},fmt:function(c){return""+c.getFullYear()+"-"+g.pad2(c.getMonth()+1)},incr:function(c){return c.setMonth(c.getMonth()+1)}},week:{span:6048e5,start:function(c){return new Date(c.getFullYear(),c.getMonth(),c.getDate())},fmt:function(c){return""+c.getFullYear()+"-"+g.pad2(c.getMonth()+1)+"-"+g.pad2(c.getDate())},incr:function(c){return c.setDate(c.getDate()+7)}},day:{span:864e5,start:function(c){return new Date(c.getFullYear(),c.getMonth(),c.getDate())},fmt:function(c){return""+c.getFullYear()+"-"+g.pad2(c.getMonth()+1)+"-"+g.pad2(c.getDate())},incr:function(c){return c.setDate(c.getDate()+1)}},hour:D(60),"30min":D(30),"15min":D(15),"10min":D(10),"5min":D(5),minute:D(1),"30sec":I(30),"15sec":I(15),"10sec":I(10),"5sec":I(5),second:I(1)},g.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],g.Area=function(c){function h(s){var i;return this instanceof g.Area?(i=g.extend({},t,s),this.cumulative=!i.behaveLikeLine,i.fillOpacity==="auto"&&(i.fillOpacity=i.behaveLikeLine?.8:1),void h.__super__.constructor.call(this,i)):new g.Area(s)}var t;return B(h,c),t={fillOpacity:"auto",behaveLikeLine:!1,belowArea:!0,areaColors:[]},h.prototype.calcPoints=function(){var s,i,e,o,n,r,l,a,p,d,u,f,y;for(u=this.data,l=0,p=u.length;p>l;l++)o=u[l],o._x=this.transX(o.x),n=0,o._y=function(){var m,b,v,x;for(v=o.y,x=[],m=0,b=v.length;b>m;m++)r=v[m],this.options.behaveLikeLine?r!=null?x.push(this.transY(r)):x.push(r):r!=null?(n+=r||0,x.push(this.transY(n))):x.push(void 0);return x}.call(this),o._ymax=Math.max.apply(Math,[].concat(function(){var m,b,v,x;for(v=o._y,x=[],s=m=0,b=v.length;b>m;s=++m)r=v[s],r!=null&&x.push(r);return x}()));for(f=this.data,y=[],i=a=0,d=f.length;d>a;i=++a)o=f[i],this.data[i].label_x=[],this.data[i].label_y=[],y.push(function(){var m,b,v;for(v=[],e=m=b=this.options.ykeys.length-1;0>=b?0>=m:m>=0;e=0>=b?++m:--m)o._y[e]!=null&&(this.data[i].label_x[e]=o._x,this.data[i].label_y[e]=o._y[e]-10),o._y2!=null&&o._y2[e]!=null?(this.data[i].label_x[e]=o._x,v.push(this.data[i].label_y[e]=o._y2[e]-10)):v.push(void 0);return v}.call(this));return y},h.prototype.drawSeries=function(){var s,i,e,o,n,r,l,a,p,d;for(this.seriesPoints=[],i=this.options.behaveLikeLine?function(){a=[];for(var u=0,f=this.options.ykeys.length-1;f>=0?f>=u:u>=f;f>=0?u++:u--)a.push(u);return a}.apply(this):function(){p=[];for(var u=l=this.options.ykeys.length-1;0>=l?0>=u:u>=0;0>=l?u++:u--)p.push(u);return p}.apply(this),e=0,n=i.length;n>e;e++)s=i[e],this._drawFillFor(s);for(d=[],o=0,r=i.length;r>o;o++)s=i[o],this._drawLineFor(s),d.push(this._drawPointFor(s));return d},h.prototype._drawFillFor=function(s){var i,e,o,n;return e=this.paths[s],e!==null?this.options.belowArea===!0?(e+="L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z",this.drawFilledPath(e,this.fillForSeries(s),s)):(i=function(){var r,l,a;for(l=this.data,a=[],r=l.length-1;r>=0;r+=-1)n=l[r],n._y[0]!==void 0&&a.push({x:n._x,y:n._y[0]});return a}.call(this),o=g.Line.createPath(i,"smooth",this.bottom),e=e+"L"+o.slice(1),this.drawFilledPath(e,this.fillForSeries(s),s)):void 0},h.prototype.fillForSeries=function(s){var i;return this.options.areaColors.length===0&&(this.options.areaColors=this.options.lineColors),i=Raphael.rgb2hsl(this.options.areaColors[s%this.options.areaColors.length]),Raphael.hsl(i.h,this.options.behaveLikeLine?.9*i.s:.75*i.s,Math.min(.98,this.options.behaveLikeLine?1.2*i.l:1.25*i.l))},h.prototype.drawFilledPath=function(s,i,e){var o,n,r,l,a;return this.options.animate?(o=function(){var p,d,u,f;for(u=this.data,f=[],p=0,d=u.length;d>p;p++)r=u[p],r._y[e]!==void 0&&f.push({x:r._x,y:this.transY(0)});return f}.call(this),a=g.Line.createPath(o,"smooth",this.bottom),this.options.belowArea===!0?a+="L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z":(o=function(){var p,d,u;for(d=this.data,u=[],p=d.length-1;p>=0;p+=-1)r=d[p],r._y[e]!==void 0&&u.push({x:r._x,y:this.transY(0)});return u}.call(this),n=g.Line.createPath(o,"smooth",this.bottom),a=a+"L"+n.slice(1)),a+="Z",l=this.raphael.path(a).attr("fill",i).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none"),function(p,d){return p.animate({path:d},500,"<>")}(l,s)):this.raphael.path(s).attr("fill",i).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},h}(g.Line),g.Bar=function(c){function h(t){return this.escapeHTML=C(this.escapeHTML,this),this.onHoverOut=C(this.onHoverOut,this),this.onHoverMove=C(this.onHoverMove,this),this.onGridClick=C(this.onGridClick,this),this instanceof g.Bar?void h.__super__.constructor.call(this,g.extend({},t,{parseTime:!1})):new g.Bar(t)}return B(h,c),h.prototype.init=function(){return this.cumulative=this.options.stacked,this.options.hideHover!=="always"?(this.hover=new g.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},h.prototype.defaults={barSizeRatio:.75,pointSize:4,lineWidth:3,barGap:3,barColors:["#2f7df6","#53a351","#f6c244","#cb444a","#4aa0b5","#222529"],barOpacity:1,barHighlightOpacity:1,highlightSpeed:150,barRadius:[0,0,0,0],xLabelMargin:0,horizontal:!1,stacked:!1,shown:!0,showZero:!0,inBarValue:!1,inBarValueTextColor:"white",inBarValueMinTopMargin:1,inBarValueRightMargin:4,rightAxisBar:!1},h.prototype.calc=function(){var t;return this.calcBars(),this.options.hideHover===!1?(t=this.hover).update.apply(t,this.hoverContentForRow(this.data.length-1)):void 0},h.prototype.calcBars=function(){var t,s,i,e,o,n,r,l;for(r=this.data,l=[],t=o=0,n=r.length;n>o;t=++o)i=r[t],i._x=this.xStart+this.xSize*(t+.5)/this.data.length,i._y=function(){var a,p,d,u;for(d=i.y,u=[],s=a=0,p=d.length;p>a;s=++a)e=d[s],s<this.options.ykeys.length-this.options.nbYkeys2?e!=null?u.push(this.transY(e)):u.push(null):u.push(void 0);return u}.call(this),l.push(i._y2=function(){var a,p,d,u;for(d=i.y,u=[],s=a=0,p=d.length;p>a;s=++a)e=d[s],s>=this.options.ykeys.length-this.options.nbYkeys2?e!=null?u.push(this.transY2(e)):u.push(null):u.push(void 0);return u}.call(this));return l},h.prototype.draw=function(){var t;return((t=this.options.axes)===!0||t==="both"||t==="x")&&this.drawXAxis(),this.drawSeries(),this.options.rightAxisBar===!1?(this.drawBarLine(),this.drawBarPoints()):void 0},h.prototype.drawBarLine=function(){var t,s,i,e,o,n,r,l,a,p,d,u,f,y,m,b,v,x,w,k,S,L,z,_;for(a=this.options.ykeys.length-this.options.nbYkeys2,z=this.options.ykeys.slice(a,this.options.ykeys.length),_=[],n=w=0,S=z.length;S>w;n=w+=1){for(z[n],p="",y="",s=this.options.horizontal===!1?function(){var M,H,F,T;for(F=this.data,T=[],M=0,H=F.length;H>M;M++)u=F[M],u._y2[a+n]!==void 0&&T.push({x:u._x,y:u._y2[a+n]});return T}.call(this):function(){var M,H,F,T;for(F=this.data,T=[],M=0,H=F.length;H>M;M++)u=F[M],u._y2[a+n]!==void 0&&T.push({x:u._y2[a+n],y:u._x});return T}.call(this),this.options.smooth&&(e=g.Line.gradients(s)),d={y:null},o=k=0,L=s.length;L>k;o=++k)t=s[o],t.y!=null&&(d.y!=null?(this.options.smooth&&this.options.horizontal===!1?(i=e[o],l=e[o-1],r=(t.x-d.x)/4,m=d.x+r,v=Math.min(this.bottom,d.y+r*l),b=t.x-r,x=Math.min(this.bottom,t.y-r*i),p+="C"+m+","+v+","+b+","+x+","+t.x+","+t.y):p+="L"+t.x+","+t.y,y+=this.options.horizontal===!0?"L"+this.transY(0)+","+t.y:"L"+t.x+","+this.transY(0)):this.options.smooth&&e[o]==null||(p+="M"+t.x+","+t.y,y+=this.options.horizontal===!0?"M"+this.transY(0)+","+t.y:"M"+t.x+","+this.transY(0))),d=t;p!==""?this.options.animate?(f=this.raphael.path(y).attr("stroke",this.colorFor(t,a+n,"bar")).attr("stroke-width",this.lineWidthForSeries(n)),_.push(function(M,H){return M.animate({path:H},500,"<>")}(f,p))):_.push(f=this.raphael.path(p).attr("stroke",this.colorFor(t,a+n,"bar")).attr("stroke-width",this.lineWidthForSeries(n))):_.push(void 0)}return _},h.prototype.drawBarPoints=function(){var t,s,i,e,o,n,r,l,a;for(e=this.options.ykeys.length-this.options.nbYkeys2,this.seriesPoints=[],l=this.options.ykeys.slice(e,this.options.ykeys.length),a=[],i=n=0,r=l.length;r>n;i=n+=1)l[i],this.seriesPoints[i]=[],a.push(function(){var p,d,u,f;for(u=this.data,f=[],s=p=0,d=u.length;d>p;s=++p)o=u[s],t=null,o._y2[e+i]!=null?this.options.horizontal===!1?(t=this.raphael.circle(o._x,o._y2[e+i],this.pointSizeForSeries(i)).attr("fill",this.colorFor(o,e+i,"bar")).attr("stroke-width",1).attr("stroke","#ffffff"),f.push(this.seriesPoints[i].push(t))):(t=this.raphael.circle(o._y2[e+i],o._x,this.pointSizeForSeries(i)).attr("fill",this.colorFor(o,e+i,"bar")).attr("stroke-width",1).attr("stroke","#ffffff"),f.push(this.seriesPoints[i].push(t))):f.push(void 0);return f}.call(this));return a},h.prototype.lineWidthForSeries=function(t){return this.options.lineWidth instanceof Array?this.options.lineWidth[t%this.options.lineWidth.length]:this.options.lineWidth},h.prototype.pointSizeForSeries=function(t){return this.options.pointSize instanceof Array?this.options.pointSize[t%this.options.pointSize.length]:this.options.pointSize},h.prototype.drawXAxis=function(){var t,s,i,e,o,n,r,l,a,p,d,u,f,y,m,b,v,x,w,k;for(s=this.options.horizontal?this.getYAxisLabelX():this.getXAxisLabelY(),d=null,p=null,k=[],e=v=0,x=this.data.length;x>=0?x>v:v>x;e=x>=0?++v:--v)u=this.data[this.data.length-1-e],o=this.options.horizontal?this.drawYAxisLabel(s,u._x-.5*this.options.gridTextSize,u.label,1):this.drawXAxisLabel(u._x,s,u.label),t=this.options.horizontal?0:this.options.xLabelAngle,m=o.getBBox(),o.transform("r"+-t),n=o.getBBox(),o.transform("t0,"+n.height/2+"..."),t!==0&&(a=-.5*m.width*Math.cos(t*Math.PI/180),o.transform("t"+a+",0...")),w=g.dimensions(this.el),b=w.width,i=w.height,this.options.horizontal?(y=n.y,f=n.height,l=i):(y=n.x,f=n.width,l=b),(d==null||d>=y+f||p!=null&&p>=y)&&y>=0&&l>y+f?(t!==0&&(r=1.25*this.options.gridTextSize/Math.sin(t*Math.PI/180),p=y-r),this.options.horizontal?k.push(d=y):k.push(d=y-this.options.xLabelMargin)):k.push(o.remove());return k},h.prototype.getXAxisLabelY=function(){return this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2)},h.prototype.drawSeries=function(){var t,s,i,e,o,n,r,l,a,p,d,u,f,y,m,b,v,x,w,k,S;if(this.seriesBars=[],o=this.xSize/this.options.data.length,this.options.stacked)u=1;else for(u=0,n=k=0,S=this.options.ykeys.length-1;S>=0?S>=k:k>=S;n=S>=0?++k:--k)this.hasToShow(n)&&(u+=1);return this.options.stacked===!1&&this.options.rightAxisBar===!1&&(u-=this.options.nbYkeys2),s=(o*this.options.barSizeRatio-this.options.barGap*(u-1))/u,this.options.barSize&&(s=Math.min(s,this.options.barSize)),b=o-s*u-this.options.barGap*(u-1),p=b/2,w=this.ymin<=0&&this.ymax>=0?this.transY(0):null,this.bars=function(){var L,z,_,M;for(_=this.data,M=[],r=L=0,z=_.length;z>L;r=++L)f=_[r],this.data[r].label_x=[],this.data[r].label_y=[],this.seriesBars[r]=[],l=null,d=this.options.rightAxisBar===!0?f._y.length:f._y.length-this.options.nbYkeys2,M.push(function(){var H,F,T,Y;for(T=f._y.slice(0,d),Y=[],y=H=0,F=T.length;F>H;y=++H)x=T[y],f._y[y]!=null?x=f._y[y]:f._y2[y]!=null&&(x=f._y2[y]),this.hasToShow(y)&&(x!==null?(w?(v=Math.min(x,w),i=Math.max(x,w)):(v=x,i=this.bottom),a=this.xStart+r*o+p,this.options.stacked||(a+=y*(s+this.options.barGap)),m=i-v,this.options.verticalGridCondition&&this.options.verticalGridCondition(f.x)&&(this.options.horizontal?this.drawBar(this.yStart,this.xStart+r*o,this.ySize,o,this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius):this.drawBar(this.xStart+r*o,this.yEnd,o,this.ySize,this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius)),this.options.horizontal?(this.options.stacked&&l!=null&&(v=l),l=v+m,m===0&&(m=1),this.seriesBars[r][y]=this.drawBar(v,a,m,s,this.colorFor(f,y,"bar"),this.options.barOpacity,this.options.barRadius),this.options.dataLabels&&(this.options.stacked||this.options.dataLabelsPosition==="inside"?(this.data[r].label_x[y]=v+m/2,this.data[r].label_y[y]=a+s/2):(this.data[r].label_x[y]=v+m+5,this.data[r].label_y[y]=a+s/2)),this.options.inBarValue&&s>this.options.gridTextSize+2*this.options.inBarValueMinTopMargin?(t=a+.5*s,Y.push(this.raphael.text(i-this.options.inBarValueRightMargin,t,this.yLabelFormat(f.y[y],y)).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.inBarValueTextColor).attr("text-anchor","end"))):Y.push(void 0)):(this.options.stacked&&l!=null&&(v+=l-i),l=v,m===0&&this.options.showZero&&(m=1),this.seriesBars[r][y]=this.drawBar(a,v,s,m,this.colorFor(f,y,"bar"),this.options.barOpacity,this.options.barRadius),this.options.dataLabels?(e=this.options.dataLabelsPosition==="inside"||this.options.stacked&&this.options.dataLabelsPosition!=="force_outside"?m/2:-7,m>this.options.dataLabelsSize||!this.options.stacked||this.options.dataLabelsPosition==="force_outside"?(this.data[r].label_x[y]=a+s/2,Y.push(this.data[r].label_y[y]=v+e)):Y.push(void 0)):Y.push(void 0))):Y.push(null));return Y}.call(this));return M}.call(this)},h.prototype.hilight=function(t){var s,i,e,o,n,r,l,a;if(this.seriesBars&&this.seriesBars[this.prevHilight]&&this.prevHilight!==null&&this.prevHilight!==t)for(l=this.seriesBars[this.prevHilight],s=e=0,n=l.length;n>e;s=++e)i=l[s],i&&i.animate({"fill-opacity":this.options.barOpacity},this.options.highlightSpeed);if(this.seriesBars&&this.seriesBars[t]&&t!==null&&this.prevHilight!==t)for(a=this.seriesBars[t],s=o=0,r=a.length;r>o;s=++o)i=a[s],i&&i.animate({"fill-opacity":this.options.barHighlightOpacity},this.options.highlightSpeed);return this.prevHilight=t},h.prototype.colorFor=function(t,s,i){var e,o;return typeof this.options.barColors=="function"?(e={x:t.x,y:t.y[s],label:t.label,src:t.src},o={index:s,key:this.options.ykeys[s],label:this.options.labels[s]},this.options.barColors.call(this,e,o,i)):this.options.barColors[s%this.options.barColors.length]},h.prototype.hitTest=function(t,s){var i,e;return this.data.length===0?null:(this.options.horizontal?(i=document.body.getBoundingClientRect(),e=s+i.top):e=t,e=Math.max(Math.min(e,this.xEnd),this.xStart),Math.min(this.data.length-1,Math.floor((e-this.xStart)/(this.xSize/this.data.length))))},h.prototype.onGridClick=function(t,s){var i;return i=this.hitTest(t,s),this.fire("click",i,this.data[i].src,t,s)},h.prototype.onHoverMove=function(t,s){var i,e;return i=this.hitTest(t,s),this.hilight(i),i!=null?(e=this.hover).update.apply(e,this.hoverContentForRow(i)):this.hover.hide()},h.prototype.onHoverOut=function(){return this.hilight(-1),this.options.hideHover!==!1?this.hover.hide():void 0},h.prototype.escapeHTML=function(t){var s,i;return s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},i=/[&<>"'/]/gi,t.replace(i,function(e){return s[e]})},h.prototype.hoverContentForRow=function(t){var s,i,e,o,n,r,l,a,p,d,u,f;for(n=this.data[t],s="<div class='morris-hover-row-label'>"+this.escapeHTML(n.label)+"</div>",i=[],f=n.y,o=a=0,d=f.length;d>a;o=++a)l=f[o],i.unshift(l);for(o=p=0,u=i.length;u>p;o=++p)l=i[o],e=n.y.length-1-o,this.options.labels[e]!==!1&&(s+="<div class='morris-hover-point' style='color: "+this.colorFor(n,e,"label")+`'>
  `+this.options.labels[e]+`:
  `+this.yLabelFormat(l,e)+`
</div>`);return typeof this.options.hoverCallback=="function"&&(s=this.options.hoverCallback(t,this.options,s,n.src)),this.options.horizontal?(r=this.left+.5*this.width,l=this.top+(t+.5)*this.height/this.data.length,[s,r,l,!0]):(r=this.left+(t+.5)*this.width/this.data.length,[s,r])},h.prototype.drawBar=function(t,s,i,e,o,n,r){var l,a;return l=Math.max.apply(Math,r),a=this.options.animate?this.options.horizontal?l===0||l>e?this.raphael.rect(this.transY(0),s,0,e).animate({x:t,width:i},500):this.raphael.path(this.roundedRect(this.transY(0),s+e,i,0,r).animate({y:s,height:e},500)):l===0||l>e?this.raphael.rect(t,this.transY(0),i,0).animate({y:s,height:e},500):this.raphael.path(this.roundedRect(t,this.transY(0),i,0,r).animate({y:s,height:e},500)):l===0||l>e?this.raphael.rect(t,s,i,e):this.raphael.path(this.roundedRect(t,s,i,e,r)),a.attr("fill",o).attr("fill-opacity",n).attr("stroke","none")},h.prototype.roundedRect=function(t,s,i,e,o){return o==null&&(o=[0,0,0,0]),["M",t,o[0]+s,"Q",t,s,t+o[0],s,"L",t+i-o[1],s,"Q",t+i,s,t+i,s+o[1],"L",t+i,s+e-o[2],"Q",t+i,s+e,t+i-o[2],s+e,"L",t+o[3],s+e,"Q",t,s+e,t,s+e-o[3],"Z"]},h}(g.Grid),g.Donut=function(c){function h(t){this.debouncedResizeHandler=C(this.debouncedResizeHandler,this),this.resizeHandler=C(this.resizeHandler,this),this.deselect=C(this.deselect,this),this.select=C(this.select,this),this.click=C(this.click,this);var s,i,e,o,n;if(!(this instanceof g.Donut))return new g.Donut(t);if(this.options=g.extend({},this.defaults,t),typeof t.element=="string"?this.el=document.getElementById(t.element):this.el=t.element[0]||t.element,this.el===null)throw new Error("Graph placeholder not found.");return this.raphael=new Raphael(this.el),t.data===void 0||t.data.length===0?(n=g.dimensions(this.el),o=n.width,e=n.height,s=o/2,i=e/2,void this.raphael.text(s,i,this.options.noDataLabel).attr("text-anchor","middle").attr("font-size",this.options.noDataLabelSize).attr("font-family",this.options.dataLabelsFamily).attr("font-weight",this.options.noDataLabelWeight).attr("fill",this.options.dataLabelsColor)):(this.options.resize&&g.on(window,"resize",this.resizeHandler),void this.setData(t.data))}return B(h,c),h.prototype.defaults={colors:["#2f7df6","#53a351","#f6c244","#cb444a","#4aa0b5","#222529","#44a1f8","#81d453","#f0bb40","#eb3f25","#b45184","#5f5f5f"],backgroundColor:"#FFFFFF",labelColor:"#000000",padding:0,formatter:g.commas,resize:!0,dataLabels:!1,dataLabelsPosition:"inside",dataLabelsFamily:"sans-serif",dataLabelsSize:12,dataLabelsWeight:"normal",dataLabelsColor:"auto",noDataLabel:"No data for this chart",noDataLabelSize:21,noDataLabelWeight:"bold",donutType:"donut",animate:!0,showPercentage:!1,postUnits:"",preUnits:""},h.prototype.destroy=function(){return this.options.resize?(window.clearTimeout(this.timeoutId),g.off(window,"resize",this.resizeHandler)):void 0},h.prototype.redraw=function(){var t,s,i,e,o,n,r,l,a,p,d,u,f,y,m,b,v,x,w,k,S,L,z,_,M,H,F,T,Y,A,W,P,E;for(this.raphael.clear(),Y=g.dimensions(this.el),L=Y.width,r=Y.height,i=L/2,e=r/2,S=(Math.min(i,e)-10)/3-this.options.padding,w=0,A=this.values,z=0,H=A.length;H>z;z++)k=A[z],w+=k;for(this.options.total=w,y=5/(2*S),t=1.9999*Math.PI-y*this.data.length,u=0,a=0,this.segments=[],w===0&&(w=1),W=this.values,l=_=0,F=W.length;F>_;l=++_)k=W[l],m=u+y+t*(k/w),x=new g.DonutSegment(i,e,2*S,S,u,m,this.data[l].color||this.options.colors[a%this.options.colors.length],this.options.backgroundColor,a,this.raphael,this.options),x.render(),this.segments.push(x),x.on("hover",this.select),x.on("click",this.click),x.on("mouseout",this.deselect),o=parseFloat(x.raphael.height)>parseFloat(r)?2*r-7*this.options.padding:x.raphael.height-7*this.options.padding,this.options.dataLabels&&this.values.length>=1&&(v=Math.sin((u+m)/2),b=Math.cos((u+m)/2),this.options.dataLabelsPosition==="inside"?this.options.donutType==="pie"?(p=parseFloat(i)+parseFloat(.3*o*v),d=parseFloat(e)+parseFloat(.3*o*b)):(p=parseFloat(i)+parseFloat(.39*o*v),d=parseFloat(e)+parseFloat(.39*o*b)):(p=parseFloat(i)+parseFloat(.5*(o-9)*v),d=parseFloat(e)+parseFloat(.5*(o-9)*b)),s=this.options.dataLabelsColor!=="auto"?this.options.dataLabelsColor:this.options.dataLabelsPosition==="inside"&&this.isColorDark(this.options.colors[l])===!0?"#fff":"#000",this.options.showPercentage?(n=Math.round(parseFloat(k)/parseFloat(w)*100)+"%",this.drawDataLabelExt(p,d,n,s)):this.drawDataLabelExt(p,d,this.options.preUnits+k+this.options.postUnits,s)),u=m,a+=1;if(this.text1=this.drawEmptyDonutLabel(i,e-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(i,e+10,this.options.labelColor,14),f=Math.max.apply(Math,this.values),a=0,this.options.donutType==="donut"){for(P=this.values,E=[],M=0,T=P.length;T>M;M++){if(k=P[M],k===f){this.select(a);break}E.push(a+=1)}return E}},h.prototype.setData=function(t){var s;return this.data=t,this.values=function(){var i,e,o,n;for(o=this.data,n=[],i=0,e=o.length;e>i;i++)s=o[i],n.push(parseFloat(s.value));return n}.call(this),this.redraw()},h.prototype.drawDataLabel=function(t,s,i,e){return this.raphael.text(t,s,i).attr("text-anchor","middle").attr("font-size",this.options.dataLabelsSize).attr("font-family",this.options.dataLabelsFamily).attr("font-weight",this.options.dataLabelsWeight).attr("fill",this.options.dataLabelsColor)},h.prototype.drawDataLabelExt=function(t,s,i,e){var o;return o=this.values.length>=1||this.options.dataLabelsPosition==="inside"?"middle":t>this.raphael.width/2?"start":t>.55*this.raphael.width&&t<.45*this.raphael.width?"middle":"end",this.raphael.text(t,s,i,e).attr("text-anchor",o).attr("font-size",this.options.dataLabelsSize).attr("font-family",this.options.dataLabelsFamily).attr("font-weight",this.options.dataLabelsWeight).attr("fill",e)},h.prototype.click=function(t){return this.fire("click",t,this.data[t])},h.prototype.select=function(t){var s,i,e,o,n,r,l;for(l=this.segments,n=0,r=l.length;r>n;n++)e=l[n],e.deselect();return o=this.segments[t],o.select(),i=this.data[t],this.options.donutType==="donut"?this.options.showPercentage&&!this.options.dataLabels?(s=Math.round(parseFloat(i.value)/parseFloat(this.options.total)*100)+"%",this.setLabels(i.label,s)):this.setLabels(i.label,this.options.formatter(i.value,i)):void 0},h.prototype.deselect=function(t){var s,i,e,o,n;for(o=this.segments,n=[],i=0,e=o.length;e>i;i++)s=o[i],n.push(s.deselect());return n},h.prototype.isColorDark=function(t){var s,i,e,o,n;return t!=null?(t=t.substring(1),n=parseInt(t,16),o=n>>16&255,i=n>>8&255,s=n>>0&255,e=.2126*o+.7152*i+.0722*s,!(e>=128)):!1},h.prototype.setLabels=function(t,s){var i,e,o,n,r,l,a,p,d,u,f;return f=g.dimensions(this.el),u=f.width,i=f.height,e=2*(Math.min(u/2,i/2)-10)/3,r=1.8*e,n=e/2,o=e/3,this.text1.attr({text:t,transform:""}),l=this.text1.getBBox(),a=Math.min(r/l.width,n/l.height),this.text1.attr({transform:"S"+a+","+a+","+(l.x+l.width/2)+","+(l.y+l.height)}),this.text2.attr({text:s,transform:""}),p=this.text2.getBBox(),d=Math.min(r/p.width,o/p.height),this.text2.attr({transform:"S"+d+","+d+","+(p.x+p.width/2)+","+p.y})},h.prototype.drawEmptyDonutLabel=function(t,s,i,e,o){var n;return n=this.raphael.text(t,s,"").attr("font-size",e).attr("fill",i),o!=null&&n.attr("font-weight",o),n},h.prototype.resizeHandler=function(){return this.timeoutId!=null&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.debouncedResizeHandler,100)},h.prototype.debouncedResizeHandler=function(){var t,s,i;return this.timeoutId=null,i=g.dimensions(this.el),s=i.width,t=i.height,this.raphael.setSize(s,t),this.options.animate=!1,this.redraw()},h}(g.EventEmitter),g.DonutSegment=function(c){function h(t,s,i,e,o,n,r,l,a,p,d){this.cx=t,this.cy=s,this.inner=i,this.outer=e,this.color=r,this.backgroundColor=l,this.index=a,this.raphael=p,this.options=d,this.deselect=C(this.deselect,this),this.select=C(this.select,this),this.sin_p0=Math.sin(o),this.cos_p0=Math.cos(o),this.sin_p1=Math.sin(n),this.cos_p1=Math.cos(n),this.is_long=n-o>Math.PI?1:0,this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5),this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer),this.hilight=this.calcArc(this.inner)}return B(h,c),h.prototype.calcArcPoints=function(t){return[this.cx+t*this.sin_p0,this.cy+t*this.cos_p0,this.cx+t*this.sin_p1,this.cy+t*this.cos_p1]},h.prototype.calcSegment=function(t,s){var i,e,o,n,r,l,a,p,d,u;return d=this.calcArcPoints(t),i=d[0],o=d[1],e=d[2],n=d[3],u=this.calcArcPoints(s),r=u[0],a=u[1],l=u[2],p=u[3],this.options.donutType==="pie"?"M"+r+","+a+("A"+s+","+s+",0,"+this.is_long+",0,"+l+","+p)+("L"+this.cx+","+this.cy)+"Z":"M"+i+","+o+("A"+t+","+t+",0,"+this.is_long+",0,"+e+","+n)+("L"+l+","+p)+("A"+s+","+s+",0,"+this.is_long+",1,"+r+","+a)+"Z"},h.prototype.calcArc=function(t){var s,i,e,o,n;return n=this.calcArcPoints(t),s=n[0],e=n[1],i=n[2],o=n[3],"M"+s+","+e+("A"+t+","+t+",0,"+this.is_long+",0,"+i+","+o)},h.prototype.render=function(){var t=this;return/NaN/.test(this.hilight)||(this.arc=this.drawDonutArc(this.hilight,this.color)),/NaN/.test(this.path)?void 0:this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return t.fire("hover",t.index)},function(){return t.fire("click",t.index)},function(){return t.fire("mouseout",t.index)})},h.prototype.drawDonutArc=function(t,s){var i;return this.options.animate?(i=this.raphael.path("M"+this.cx+","+this.cy+"Z").attr({stroke:s,"stroke-width":2,opacity:0}),function(e,o){return e.animate({path:o},500,"<>")}(i,t)):this.raphael.path(t).attr({stroke:s,"stroke-width":2,opacity:0})},h.prototype.drawDonutSegment=function(t,s,i,e,o,n){var r,l,a;return this.options.animate&&this.options.donutType==="pie"?(a=t,a=t.replace("A",","),a=a.replace("M",""),a=a.replace("C",","),a=a.replace("Z",""),l=a.split(","),a=this.options.donutType==="pie"?"M"+l[0]+","+l[1]+","+l[l.length-2]+","+l[l.length-1]+","+l[l.length-2]+","+l[l.length-1]+"Z":"M"+l[0]+","+l[1]+","+l[l.length-2]+","+l[l.length-1]+"Z",r=this.raphael.path(a).attr({fill:s,stroke:i,"stroke-width":3}).hover(e).click(o).mouseout(n),function(p,d){return p.animate({path:d},500,"<>")}(r,t)):this.options.donutType==="pie"?this.raphael.path(t).attr({fill:s,stroke:i,"stroke-width":3}).hover(e).click(o).mouseout(n):this.raphael.path(t).attr({fill:s,stroke:i,"stroke-width":3}).hover(e).click(o)},h.prototype.select=function(){return this.selected||this.seg==null?void 0:(this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0)},h.prototype.deselect=function(){return this.selected?(this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1):void 0},h}(g.EventEmitter)}).call(globalThis);
