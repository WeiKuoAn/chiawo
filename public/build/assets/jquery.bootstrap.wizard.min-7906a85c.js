/*!
 * jQuery twitter bootstrap wizard plugin
 * Examples and documentation at: http://github.com/VinceG/twitter-bootstrap-wizard
 * version 1.0
 * Requires jQuery v1.3.2 or later
 * Supports Bootstrap 2.2.x, 2.3.x, 3.0
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * Authors: Vadim Vincent Gabriel (http://vadimg.com), Jason Gill (www.gilluminate.com)
 */(function(o){var h=function(e,d){e=o(e);var n=this,l=[],i=o.extend({},o.fn.bootstrapWizard.defaults,d),s=null,a=null;this.rebindClick=function(t,r){t.unbind("click",r).bind("click",r)},this.fixNavigationButtons=function(){if(s.length||(a.find("a:first").tab("show"),s=a.find('li:has([data-toggle="tab"]):first')),o(i.previousSelector,e).toggleClass("disabled",n.firstIndex()>=n.currentIndex()),o(i.nextSelector,e).toggleClass("disabled",n.currentIndex()>=n.navigationLength()),o(i.backSelector,e).toggleClass("disabled",l.length==0),n.rebindClick(o(i.nextSelector,e),n.next),n.rebindClick(o(i.previousSelector,e),n.previous),n.rebindClick(o(i.lastSelector,e),n.last),n.rebindClick(o(i.firstSelector,e),n.first),n.rebindClick(o(i.backSelector,e),n.back),i.onTabShow&&typeof i.onTabShow=="function"&&i.onTabShow(s,a,n.currentIndex())===!1)return!1},this.next=function(t){if(e.hasClass("last")||i.onNext&&typeof i.onNext=="function"&&i.onNext(s,a,n.nextIndex())===!1)return!1;t=n.currentIndex(),$index=n.nextIndex(),$index>n.navigationLength()||(l.push(t),a.find('li:has([data-toggle="tab"]):eq('+$index+") a").tab("show"))},this.previous=function(t){if(e.hasClass("first")||i.onPrevious&&typeof i.onPrevious=="function"&&i.onPrevious(s,a,n.previousIndex())===!1)return!1;t=n.currentIndex(),$index=n.previousIndex(),0>$index||(l.push(t),a.find('li:has([data-toggle="tab"]):eq('+$index+") a").tab("show"))},this.first=function(t){if(i.onFirst&&typeof i.onFirst=="function"&&i.onFirst(s,a,n.firstIndex())===!1||e.hasClass("disabled"))return!1;l.push(n.currentIndex()),a.find('li:has([data-toggle="tab"]):eq(0) a').tab("show")},this.last=function(t){if(i.onLast&&typeof i.onLast=="function"&&i.onLast(s,a,n.lastIndex())===!1||e.hasClass("disabled"))return!1;l.push(n.currentIndex()),a.find('li:has([data-toggle="tab"]):eq('+n.navigationLength()+") a").tab("show")},this.back=function(){if(l.length==0)return null;var t=l.pop();if(i.onBack&&typeof i.onBack=="function"&&i.onBack(s,a,t)===!1)return l.push(t),!1;e.find('li:has([data-toggle="tab"]):eq('+t+") a").tab("show")},this.currentIndex=function(){return a.find('li:has([data-toggle="tab"])').index(s)},this.firstIndex=function(){return 0},this.lastIndex=function(){return n.navigationLength()},this.getIndex=function(t){return a.find('li:has([data-toggle="tab"])').index(t)},this.nextIndex=function(){return a.find('li:has([data-toggle="tab"])').index(s)+1},this.previousIndex=function(){return a.find('li:has([data-toggle="tab"])').index(s)-1},this.navigationLength=function(){return a.find('li:has([data-toggle="tab"])').length-1},this.activeTab=function(){return s},this.nextTab=function(){return a.find('li:has([data-toggle="tab"]):eq('+(n.currentIndex()+1)+")").length?a.find('li:has([data-toggle="tab"]):eq('+(n.currentIndex()+1)+")"):null},this.previousTab=function(){return 0>=n.currentIndex()?null:a.find('li:has([data-toggle="tab"]):eq('+parseInt(n.currentIndex()-1)+")")},this.show=function(t){t=isNaN(t)?e.find('li:has([data-toggle="tab"]) a[href=#'+t+"]"):e.find('li:has([data-toggle="tab"]):eq('+t+") a"),0<t.length&&(l.push(n.currentIndex()),t.tab("show"))},this.disable=function(t){a.find('li:has([data-toggle="tab"]):eq('+t+")").addClass("disabled")},this.enable=function(t){a.find('li:has([data-toggle="tab"]):eq('+t+")").removeClass("disabled")},this.hide=function(t){a.find('li:has([data-toggle="tab"]):eq('+t+")").hide()},this.display=function(t){a.find('li:has([data-toggle="tab"]):eq('+t+")").show()},this.remove=function(t){var r=typeof t[1]<"u"?t[1]:!1;t=a.find('li:has([data-toggle="tab"]):eq('+t[0]+")"),r&&(r=t.find("a").attr("href"),o(r).remove()),t.remove()};var f=function(t){var r=a.find('li:has([data-toggle="tab"])');if(t=r.index(o(t.currentTarget).parent('li:has([data-toggle="tab"])')),r=o(r[t]),i.onTabClick&&typeof i.onTabClick=="function"&&i.onTabClick(s,a,n.currentIndex(),t,r)===!1)return!1},u=function(t){if($element=o(t.target).parent(),t=a.find('li:has([data-toggle="tab"])').index($element),$element.hasClass("disabled")||i.onTabChange&&typeof i.onTabChange=="function"&&i.onTabChange(s,a,n.currentIndex(),t)===!1)return!1;s=$element,n.fixNavigationButtons()};this.resetWizard=function(){o('a[data-toggle="tab"]',a).off("click",f),o('a[data-toggle="tab"]',a).off("shown shown.bs.tab",u),a=e.find("ul:first",e),s=a.find('li:has([data-toggle="tab"]).active',e),o('a[data-toggle="tab"]',a).on("click",f),o('a[data-toggle="tab"]',a).on("shown shown.bs.tab",u),n.fixNavigationButtons()},a=e.find("ul:first",e),s=a.find('li:has([data-toggle="tab"]).active',e),a.hasClass(i.tabClass)||a.addClass(i.tabClass),i.onInit&&typeof i.onInit=="function"&&i.onInit(s,a,0),i.onShow&&typeof i.onShow=="function"&&i.onShow(s,a,n.nextIndex()),o('a[data-toggle="tab"]',a).on("click",f),o('a[data-toggle="tab"]',a).on("shown shown.bs.tab",u)};o.fn.bootstrapWizard=function(e){if(typeof e=="string"){var d=Array.prototype.slice.call(arguments,1);return d.length===1&&d.toString(),this.data("bootstrapWizard")[e](d)}return this.each(function(n){if(n=o(this),!n.data("bootstrapWizard")){var l=new h(n,e);n.data("bootstrapWizard",l),l.fixNavigationButtons()}})},o.fn.bootstrapWizard.defaults={tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",backSelector:".wizard li.back",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onBack:null,onTabChange:null,onTabClick:null,onTabShow:null}})(jQuery);
