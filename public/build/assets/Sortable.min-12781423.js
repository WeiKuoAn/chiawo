import{c as un}from"./_commonjsHelpers-042e6b4d.js";var It={},dn={get exports(){return It},set exports(ct){It=ct}};/*! Sortable 1.13.0 - MIT | git://github.com/SortableJS/Sortable.git */(function(ct,hn){(function(ut,K){ct.exports=K()})(un,function(){function ut(e){return(ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),i.forEach(function(o){var r,a,l;r=e,l=n[a=o],a in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l})}return e}function en(e,t){if(e==null)return{};var n,i,o=function(a,l){if(a==null)return{};var s,c,d={},h=Object.keys(a);for(c=0;c<h.length;c++)s=h[c],0<=l.indexOf(s)||(d[s]=a[s]);return d}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function tn(e){return function(t){if(Array.isArray(t)){for(var n=0,i=new Array(t.length);n<t.length;n++)i[n]=t[n];return i}}(e)||function(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function oe(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var ie=oe(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Me=oe(/Edge/i),Pt=oe(/firefox/i),Ae=oe(/safari/i)&&!oe(/chrome/i)&&!oe(/android/i),kt=oe(/iP(ad|od|hone)/i),nn=oe(/chrome/i)&&oe(/android/i),Rt={capture:!1,passive:!1};function y(e,t,n){e.addEventListener(t,n,!ie&&Rt)}function b(e,t,n){e.removeEventListener(t,n,!ie&&Rt)}function Ge(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Z(e,t,n,i){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&Ge(e,t):Ge(e,t))||i&&e===n)return e;if(e===n)break}while(e=(o=e).host&&o!==document&&o.host.nodeType?o.host:o.parentNode)}var o;return null}var Oe,Xt=/\s+/g;function T(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(Xt," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(Xt," ")}}function f(e,t,n){var i=e&&e.style;if(i){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];t in i||t.indexOf("webkit")!==-1||(t="-webkit-"+t),i[t]=n+(typeof n=="string"?"":"px")}}function he(e,t){var n="";if(typeof e=="string")n=e;else do{var i=f(e,"transform");i&&i!=="none"&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function Yt(e,t,n){if(e){var i=e.getElementsByTagName(t),o=0,r=i.length;if(n)for(;o<r;o++)n(i[o],o);return i}return[]}function te(){var e=document.scrollingElement;return e||document.documentElement}function M(e,t,n,i,o){if(e.getBoundingClientRect||e===window){var r,a,l,s,c,d,h;if(h=e!==window&&e.parentNode&&e!==te()?(a=(r=e.getBoundingClientRect()).top,l=r.left,s=r.bottom,c=r.right,d=r.height,r.width):(l=a=0,s=window.innerHeight,c=window.innerWidth,d=window.innerHeight,window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!ie))do if(o&&o.getBoundingClientRect&&(f(o,"transform")!=="none"||n&&f(o,"position")!=="static")){var E=o.getBoundingClientRect();a-=E.top+parseInt(f(o,"border-top-width")),l-=E.left+parseInt(f(o,"border-left-width")),s=a+r.height,c=l+r.width;break}while(o=o.parentNode);if(i&&e!==window){var p=he(o||e),C=p&&p.a,w=p&&p.d;p&&(s=(a/=w)+(d/=w),c=(l/=C)+(h/=C))}return{top:a,left:l,bottom:s,right:c,width:h,height:d}}}function Bt(e,t,n){for(var i=le(e,!0),o=M(e)[t];i;){var r=M(i)[n];if(!(n==="top"||n==="left"?r<=o:o<=r))return i;if(i===te())break;i=le(i,!1)}return!1}function Ue(e,t,n){for(var i=0,o=0,r=e.children;o<r.length;){if(r[o].style.display!=="none"&&r[o]!==g.ghost&&r[o]!==g.dragged&&Z(r[o],n.draggable,e,!1)){if(i===t)return r[o];i++}o++}return null}function dt(e,t){for(var n=e.lastElementChild;n&&(n===g.ghost||f(n,"display")==="none"||t&&!Ge(n,t));)n=n.previousElementSibling;return n||null}function A(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()==="TEMPLATE"||e===g.clone||t&&!Ge(e,t)||n++;return n}function Ft(e){var t=0,n=0,i=te();if(e)do{var o=he(e),r=o.a,a=o.d;t+=e.scrollLeft*r,n+=e.scrollTop*a}while(e!==i&&(e=e.parentNode));return[t,n]}function le(e,t){if(!e||!e.getBoundingClientRect)return te();var n=e,i=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=f(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return te();if(i||t)return n;i=!0}}while(n=n.parentNode);return te()}function ht(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Ht(e,t){return function(){if(!Oe){var n=arguments;n.length===1?e.call(this,n[0]):e.apply(this,n),Oe=setTimeout(function(){Oe=void 0},t)}}}function Lt(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function ft(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function jt(e,t){f(e,"position","absolute"),f(e,"top",t.top),f(e,"left",t.left),f(e,"width",t.width),f(e,"height",t.height)}function pt(e){f(e,"position",""),f(e,"top",""),f(e,"left",""),f(e,"width",""),f(e,"height","")}var Y="Sortable"+new Date().getTime();function on(){var e,t=[];return{captureAnimationState:function(){t=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(n){if(f(n,"display")!=="none"&&n!==g.ghost){t.push({target:n,rect:M(n)});var i=ae({},t[t.length-1].rect);if(n.thisAnimationDuration){var o=he(n,!0);o&&(i.top-=o.f,i.left-=o.e)}n.fromRect=i}})},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(function(i,o){for(var r in i)if(i.hasOwnProperty(r)){for(var a in o)if(o.hasOwnProperty(a)&&o[a]===i[r][a])return Number(r)}return-1}(t,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation)return clearTimeout(e),void(typeof n=="function"&&n());var o=!1,r=0;t.forEach(function(a){var l=0,s=a.target,c=s.fromRect,d=M(s),h=s.prevFromRect,E=s.prevToRect,p=a.rect,C=he(s,!0);C&&(d.top-=C.f,d.left-=C.e),s.toRect=d,s.thisAnimationDuration&&ht(h,d)&&!ht(c,d)&&(p.top-d.top)/(p.left-d.left)==(c.top-d.top)/(c.left-d.left)&&(l=function(w,k,H,j){return Math.sqrt(Math.pow(k.top-w.top,2)+Math.pow(k.left-w.left,2))/Math.sqrt(Math.pow(k.top-H.top,2)+Math.pow(k.left-H.left,2))*j.animation}(p,h,E,i.options)),ht(d,c)||(s.prevFromRect=c,s.prevToRect=d,l||(l=i.options.animation),i.animate(s,p,d,l)),l&&(o=!0,r=Math.max(r,l),clearTimeout(s.animationResetTimer),s.animationResetTimer=setTimeout(function(){s.animationTime=0,s.prevFromRect=null,s.fromRect=null,s.prevToRect=null,s.thisAnimationDuration=null},l),s.thisAnimationDuration=l)}),clearTimeout(e),o?e=setTimeout(function(){typeof n=="function"&&n()},r):typeof n=="function"&&n(),t=[]},animate:function(n,i,o,r){if(r){f(n,"transition",""),f(n,"transform","");var a=he(this.el),l=a&&a.a,s=a&&a.d,c=(i.left-o.left)/(l||1),d=(i.top-o.top)/(s||1);n.animatingX=!!c,n.animatingY=!!d,f(n,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=function(h){return h.offsetWidth}(n),f(n,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),f(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){f(n,"transition",""),f(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},r)}}}}var ye=[],gt={initializeByDefault:!0},Ne={mount:function(e){for(var t in gt)!gt.hasOwnProperty(t)||t in e||(e[t]=gt[t]);ye.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),ye.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var o=e+"Global";ye.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](ae({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](ae({sortable:t},n)))})},initializePlugins:function(e,t,n,i){for(var o in ye.forEach(function(a){var l=a.pluginName;if(e.options[l]||a.initializeByDefault){var s=new a(e,t,e.options);s.sortable=e,s.options=e.options,e[l]=s,K(n,s.defaults)}}),e.options)if(e.options.hasOwnProperty(o)){var r=this.modifyOption(e,o,e.options[o]);r!==void 0&&(e.options[o]=r)}},getEventProperties:function(e,t){var n={};return ye.forEach(function(i){typeof i.eventProperties=="function"&&K(n,i.eventProperties.call(t[i.pluginName],e))}),n},modifyOption:function(e,t,n){var i;return ye.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[t]=="function"&&(i=o.optionListeners[t].call(e[o.pluginName],n))}),i}};function Ie(e){var t=e.sortable,n=e.rootEl,i=e.name,o=e.targetEl,r=e.cloneEl,a=e.toEl,l=e.fromEl,s=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,h=e.newDraggableIndex,E=e.originalEvent,p=e.putSortable,C=e.extraEventProperties;if(t=t||n&&n[Y]){var w,k=t.options,H="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||ie||Me?(w=document.createEvent("Event")).initEvent(i,!0,!0):w=new CustomEvent(i,{bubbles:!0,cancelable:!0}),w.to=a||n,w.from=l||n,w.item=o||n,w.clone=r,w.oldIndex=s,w.newIndex=c,w.oldDraggableIndex=d,w.newDraggableIndex=h,w.originalEvent=E,w.pullMode=p?p.lastPutMode:void 0;var j=ae({},C,Ne.getEventProperties(i,t));for(var _ in j)w[_]=j[_];n&&n.dispatchEvent(w),k[H]&&k[H].call(t,w)}}function L(e,t,n){var i=2<arguments.length&&n!==void 0?n:{},o=i.evt,r=en(i,["evt"]);Ne.pluginEvent.bind(g)(e,t,ae({dragEl:u,parentEl:N,ghostEl:v,rootEl:x,nextEl:fe,lastDownEl:qe,cloneEl:O,cloneHidden:se,dragStarted:ke,putSortable:X,activeSortable:g.active,originalEvent:o,oldIndex:we,oldDraggableIndex:Pe,newIndex:W,newDraggableIndex:ce,hideGhostForTarget:Vt,unhideGhostForTarget:Zt,cloneNowHidden:function(){se=!0},cloneNowShown:function(){se=!1},dispatchSortableEvent:function(a){F({sortable:t,name:a,originalEvent:o})}},r))}function F(e){Ie(ae({putSortable:X,cloneEl:O,targetEl:u,rootEl:x,oldIndex:we,oldDraggableIndex:Pe,newIndex:W,newDraggableIndex:ce},e))}var u,N,v,x,fe,qe,O,se,we,W,Pe,ce,Ve,X,pe,Q,mt,vt,Kt,Wt,ke,Ee,Re,Ze,B,De=!1,Qe=!1,$e=[],Xe=!1,Je=!1,bt=[],yt=!1,et=[],tt=typeof document<"u",nt=kt,zt=Me||ie?"cssFloat":"float",rn=tt&&!nn&&!kt&&"draggable"in document.createElement("div"),Gt=function(){if(tt){if(ie)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Ut=function(e,t){var n=f(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=Ue(e,0,t),r=Ue(e,1,t),a=o&&f(o),l=r&&f(r),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+M(o).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+M(r).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return!r||l.clear!=="both"&&l.clear!==d?"horizontal":"vertical"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||i<=s&&n[zt]==="none"||r&&n[zt]==="none"&&i<s+c)?"vertical":"horizontal"},qt=function(e){function t(o,r){return function(a,l,s,c){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(o==null&&(r||d))return!0;if(o==null||o===!1)return!1;if(r&&o==="clone")return o;if(typeof o=="function")return t(o(a,l,s,c),r)(a,l,s,c);var h=(r?a:l).options.group.name;return o===!0||typeof o=="string"&&o===h||o.join&&-1<o.indexOf(h)}}var n={},i=e.group;i&&ut(i)=="object"||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},Vt=function(){!Gt&&v&&f(v,"display","none")},Zt=function(){!Gt&&v&&f(v,"display","")};tt&&document.addEventListener("click",function(e){if(Qe)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Qe=!1},!0);function ge(e){if(u){var t=function(o,r){var a;return $e.some(function(l){if(!dt(l)){var s=M(l),c=l[Y].options.emptyInsertThreshold,d=o>=s.left-c&&o<=s.right+c,h=r>=s.top-c&&r<=s.bottom+c;return c&&d&&h?a=l:void 0}}),a}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Y]._onDragOver(n)}}}function an(e){u&&u.parentNode[Y]._isOutsideThisEl(e.target)}function g(e,t){if(!e||!e.nodeType||e.nodeType!==1)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=K({},t),e[Y]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ut(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,a){r.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:g.supportPointer!==!1&&"PointerEvent"in window&&!Ae,emptyInsertThreshold:5};for(var i in Ne.initializePlugins(this,e,n),n)i in t||(t[i]=n[i]);for(var o in qt(t),this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&rn,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?y(e,"pointerdown",this._onTapStart):(y(e,"mousedown",this._onTapStart),y(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(y(e,"dragover",this),y(e,"dragenter",this)),$e.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),K(this,on())}function wt(e,t,n,i,o,r,a,l){var s,c,d=e[Y],h=d.options.onMove;return!window.CustomEvent||ie||Me?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=i,s.related=o||t,s.relatedRect=r||M(t),s.willInsertAfter=l,s.originalEvent=a,e.dispatchEvent(s),h&&(c=h.call(d,s,a)),c}function Et(e){e.draggable=!1}function ln(){yt=!1}function sn(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function ot(e){return setTimeout(e,0)}function Dt(e){return clearTimeout(e)}g.prototype={constructor:g,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Ee=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,u):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,o=i.preventOnFilter,r=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=i.filter;if(function(d){et.length=0;for(var h=d.getElementsByTagName("input"),E=h.length;E--;){var p=h[E];p.checked&&et.push(p)}}(n),!u&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||i.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!Ae||!l||l.tagName.toUpperCase()!=="SELECT")&&!((l=Z(l,i.draggable,n,!1))&&l.animated||qe===l)){if(we=A(l),Pe=A(l,i.draggable),typeof c=="function"){if(c.call(this,e,l,this))return F({sortable:t,rootEl:s,name:"filter",targetEl:l,toEl:n,fromEl:n}),L("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some(function(d){if(d=Z(s,d.trim(),n,!1))return F({sortable:t,rootEl:d,name:"filter",targetEl:l,fromEl:n,toEl:n}),L("filter",t,{evt:e}),!0})))return void(o&&e.cancelable&&e.preventDefault());i.handle&&!Z(s,i.handle,n,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,t,n){var i,o=this,r=o.el,a=o.options,l=r.ownerDocument;if(n&&!u&&n.parentNode===r){var s=M(n);if(x=r,N=(u=n).parentNode,fe=u.nextSibling,qe=n,Ve=a.group,pe={target:g.dragged=u,clientX:(t||e).clientX,clientY:(t||e).clientY},Kt=pe.clientX-s.left,Wt=pe.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,u.style["will-change"]="all",i=function(){L("delayEnded",o,{evt:e}),g.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!Pt&&o.nativeDraggable&&(u.draggable=!0),o._triggerDragStart(e,t),F({sortable:o,name:"choose",originalEvent:e}),T(u,a.chosenClass,!0))},a.ignore.split(",").forEach(function(c){Yt(u,c.trim(),Et)}),y(l,"dragover",ge),y(l,"mousemove",ge),y(l,"touchmove",ge),y(l,"mouseup",o._onDrop),y(l,"touchend",o._onDrop),y(l,"touchcancel",o._onDrop),Pt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,u.draggable=!0),L("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(Me||ie))i();else{if(g.eventCanceled)return void this._onDrop();y(l,"mouseup",o._disableDelayedDrag),y(l,"touchend",o._disableDelayedDrag),y(l,"touchcancel",o._disableDelayedDrag),y(l,"mousemove",o._delayedDragTouchMoveHandler),y(l,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&y(l,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(i,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){u&&Et(u),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._disableDelayedDrag),b(e,"touchend",this._disableDelayedDrag),b(e,"touchcancel",this._disableDelayedDrag),b(e,"mousemove",this._delayedDragTouchMoveHandler),b(e,"touchmove",this._delayedDragTouchMoveHandler),b(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?y(document,"pointermove",this._onTouchMove):y(document,t?"touchmove":"mousemove",this._onTouchMove):(y(u,"dragend",this),y(x,"dragstart",this._onDragStart));try{document.selection?ot(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(De=!1,x&&u){L("dragStarted",this,{evt:t}),this.nativeDraggable&&y(document,"dragover",an);var n=this.options;e||T(u,n.dragClass,!1),T(u,n.ghostClass,!0),g.active=this,e&&this._appendGhost(),F({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Q){this._lastX=Q.clientX,this._lastY=Q.clientY,Vt();for(var e=document.elementFromPoint(Q.clientX,Q.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Q.clientX,Q.clientY))!==t;)t=e;if(u.parentNode[Y]._isOutsideThisEl(e),t)do{if(t[Y]&&t[Y]._onDragOver({clientX:Q.clientX,clientY:Q.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);Zt()}},_onTouchMove:function(e){if(pe){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,o=e.touches?e.touches[0]:e,r=v&&he(v,!0),a=v&&r&&r.a,l=v&&r&&r.d,s=nt&&B&&Ft(B),c=(o.clientX-pe.clientX+i.x)/(a||1)+(s?s[0]-bt[0]:0)/(a||1),d=(o.clientY-pe.clientY+i.y)/(l||1)+(s?s[1]-bt[1]:0)/(l||1);if(!g.active&&!De){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(v){r?(r.e+=c-(mt||0),r.f+=d-(vt||0)):r={a:1,b:0,c:0,d:1,e:c,f:d};var h="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");f(v,"webkitTransform",h),f(v,"mozTransform",h),f(v,"msTransform",h),f(v,"transform",h),mt=c,vt=d,Q=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!v){var e=this.options.fallbackOnBody?document.body:x,t=M(u,!0,nt,!0,e),n=this.options;if(nt){for(B=e;f(B,"position")==="static"&&f(B,"transform")==="none"&&B!==document;)B=B.parentNode;B!==document.body&&B!==document.documentElement?(B===document&&(B=te()),t.top+=B.scrollTop,t.left+=B.scrollLeft):B=te(),bt=Ft(B)}T(v=u.cloneNode(!0),n.ghostClass,!1),T(v,n.fallbackClass,!0),T(v,n.dragClass,!0),f(v,"transition",""),f(v,"transform",""),f(v,"box-sizing","border-box"),f(v,"margin",0),f(v,"top",t.top),f(v,"left",t.left),f(v,"width",t.width),f(v,"height",t.height),f(v,"opacity","0.8"),f(v,"position",nt?"absolute":"fixed"),f(v,"zIndex","100000"),f(v,"pointerEvents","none"),g.ghost=v,e.appendChild(v),f(v,"transform-origin",Kt/parseInt(v.style.width)*100+"% "+Wt/parseInt(v.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,o=n.options;L("dragStart",this,{evt:e}),g.eventCanceled?this._onDrop():(L("setupClone",this),g.eventCanceled||((O=ft(u)).draggable=!1,O.style["will-change"]="",this._hideClone(),T(O,this.options.chosenClass,!1),g.clone=O),n.cloneId=ot(function(){L("clone",n),g.eventCanceled||(n.options.removeCloneOnHide||x.insertBefore(O,u),n._hideClone(),F({sortable:n,name:"clone"}))}),t||T(u,o.dragClass,!0),t?(Qe=!0,n._loopId=setInterval(n._emulateDragOver,50)):(b(document,"mouseup",n._onDrop),b(document,"touchend",n._onDrop),b(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(n,i,u)),y(document,"drop",n),f(u,"transform","translateZ(0)")),De=!0,n._dragStartId=ot(n._dragStarted.bind(n,t,e)),y(document,"selectstart",n),ke=!0,Ae&&f(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,i,o,r=this.el,a=e.target,l=this.options,s=l.group,c=g.active,d=Ve===s,h=l.sort,E=X||c,p=this,C=!1;if(!yt){if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),a=Z(a,l.draggable,r,!0),ne("dragOver"),g.eventCanceled)return C;if(u.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return q(!1);if(Qe=!1,c&&!l.disabled&&(d?h||(i=!x.contains(u)):X===this||(this.lastPutMode=Ve.checkPull(this,c,u,e))&&s.checkPut(this,c,u,e))){if(o=this._getDirection(e,a)==="vertical",t=M(u),ne("dragOverValid"),g.eventCanceled)return C;if(i)return N=x,be(),this._hideClone(),ne("revert"),g.eventCanceled||(fe?x.insertBefore(u,fe):x.appendChild(u)),q(!0);var w=dt(r,l.draggable);if(!w||function(D,V,P){var R=M(dt(P.el,P.options.draggable));return V?D.clientX>R.right+10||D.clientX<=R.right&&D.clientY>R.bottom&&D.clientX>=R.left:D.clientX>R.right&&D.clientY>R.top||D.clientX<=R.right&&D.clientY>R.bottom+10}(e,o,this)&&!w.animated){if(w===u)return q(!1);if(w&&r===e.target&&(a=w),a&&(n=M(a)),wt(x,r,u,t,a,n,e,!!a)!==!1)return be(),r.appendChild(u),N=r,Te(),q(!0)}else if(a.parentNode===r){n=M(a);var k,H,j,_=u.parentNode!==r,re=!function(D,V,P){var R=P?D.left:D.top,Ke=P?D.right:D.bottom,xe=P?D.width:D.height,We=P?V.left:V.top,Ot=P?V.right:V.bottom,ee=P?V.width:V.height;return R===We||Ke===Ot||R+xe/2===We+ee/2}(u.animated&&u.toRect||t,a.animated&&a.toRect||n,o),_e=o?"top":"left",ue=Bt(a,"top","top")||Bt(u,"top","top"),je=ue?ue.scrollTop:void 0;if(Ee!==a&&(H=n[_e],Xe=!1,Je=!re&&l.invertSwap||_),(k=function(D,V,P,R,Ke,xe,We,Ot){var ee=R?D.clientY:D.clientX,de=R?P.height:P.width,ze=R?P.top:P.left,st=R?P.bottom:P.right,Nt=!1;if(!We){if(Ot&&Ze<de*Ke){if(!Xe&&(Re===1?ze+de*xe/2<ee:ee<st-de*xe/2)&&(Xe=!0),Xe)Nt=!0;else if(Re===1?ee<ze+Ze:st-Ze<ee)return-Re}else if(ze+de*(1-Ke)/2<ee&&ee<st-de*(1-Ke)/2)return function(cn){return A(u)<A(cn)?1:-1}(V)}return(Nt=Nt||We)&&(ee<ze+de*xe/2||st-de*xe/2<ee)?ze+de/2<ee?1:-1:0}(e,a,n,o,re?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Je,Ee===a))!==0)for(var Ce=A(u);Ce-=k,(j=N.children[Ce])&&(f(j,"display")==="none"||j===v););if(k===0||j===a)return q(!1);Re=k;var U=(Ee=a).nextElementSibling,me=!1,ve=wt(x,r,u,t,a,n,e,me=k===1);if(ve!==!1)return ve!==1&&ve!==-1||(me=ve===1),yt=!0,setTimeout(ln,30),be(),me&&!U?r.appendChild(u):a.parentNode.insertBefore(u,me?U:a),ue&&Lt(ue,0,je-ue.scrollTop),N=u.parentNode,H===void 0||Je||(Ze=Math.abs(H-M(a)[_e])),Te(),q(!0)}if(r.contains(u))return q(!1)}return!1}function ne(D,V){L(D,p,ae({evt:e,isOwner:d,axis:o?"vertical":"horizontal",revert:i,dragRect:t,targetRect:n,canSort:h,fromSortable:E,target:a,completed:q,onMove:function(P,R){return wt(x,r,u,t,P,M(P),e,R)},changed:Te},V))}function be(){ne("dragOverAnimationCapture"),p.captureAnimationState(),p!==E&&E.captureAnimationState()}function q(D){return ne("dragOverCompleted",{insertion:D}),D&&(d?c._hideClone():c._showClone(p),p!==E&&(T(u,X?X.options.ghostClass:c.options.ghostClass,!1),T(u,l.ghostClass,!0)),X!==p&&p!==g.active?X=p:p===g.active&&X&&(X=null),E===p&&(p._ignoreWhileAnimating=a),p.animateAll(function(){ne("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==E&&(E.animateAll(),E._ignoreWhileAnimating=null)),(a===u&&!u.animated||a===r&&!a.animated)&&(Ee=null),l.dragoverBubble||e.rootEl||a===document||(u.parentNode[Y]._isOutsideThisEl(e.target),D||ge(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),C=!0}function Te(){W=A(u),ce=A(u,l.draggable),F({sortable:p,name:"change",toEl:r,newIndex:W,newDraggableIndex:ce,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){b(document,"mousemove",this._onTouchMove),b(document,"touchmove",this._onTouchMove),b(document,"pointermove",this._onTouchMove),b(document,"dragover",ge),b(document,"mousemove",ge),b(document,"touchmove",ge)},_offUpEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._onDrop),b(e,"touchend",this._onDrop),b(e,"pointerup",this._onDrop),b(e,"touchcancel",this._onDrop),b(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;W=A(u),ce=A(u,n.draggable),L("drop",this,{evt:e}),N=u&&u.parentNode,W=A(u),ce=A(u,n.draggable),g.eventCanceled||(Xe=Je=De=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Dt(this.cloneId),Dt(this._dragStartId),this.nativeDraggable&&(b(document,"drop",this),b(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ae&&f(document.body,"user-select",""),f(u,"transform",""),e&&(ke&&(e.cancelable&&e.preventDefault(),n.dropBubble||e.stopPropagation()),v&&v.parentNode&&v.parentNode.removeChild(v),(x===N||X&&X.lastPutMode!=="clone")&&O&&O.parentNode&&O.parentNode.removeChild(O),u&&(this.nativeDraggable&&b(u,"dragend",this),Et(u),u.style["will-change"]="",ke&&!De&&T(u,X?X.options.ghostClass:this.options.ghostClass,!1),T(u,this.options.chosenClass,!1),F({sortable:this,name:"unchoose",toEl:N,newIndex:null,newDraggableIndex:null,originalEvent:e}),x!==N?(0<=W&&(F({rootEl:N,name:"add",toEl:N,fromEl:x,originalEvent:e}),F({sortable:this,name:"remove",toEl:N,originalEvent:e}),F({rootEl:N,name:"sort",toEl:N,fromEl:x,originalEvent:e}),F({sortable:this,name:"sort",toEl:N,originalEvent:e})),X&&X.save()):W!==we&&0<=W&&(F({sortable:this,name:"update",toEl:N,originalEvent:e}),F({sortable:this,name:"sort",toEl:N,originalEvent:e})),g.active&&(W!=null&&W!==-1||(W=we,ce=Pe),F({sortable:this,name:"end",toEl:N,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){L("nulling",this),x=u=N=v=fe=O=qe=se=pe=Q=ke=W=ce=we=Pe=Ee=Re=X=Ve=g.dragged=g.ghost=g.clone=g.active=null,et.forEach(function(e){e.checked=!0}),et.length=mt=vt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":u&&(this._onDragOver(e),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,o=n.length,r=this.options;i<o;i++)Z(e=n[i],r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||sn(e));return t},sort:function(e,t){var n={},i=this.el;this.toArray().forEach(function(o,r){var a=i.children[r];Z(a,this.options.draggable,i,!1)&&(n[o]=a)},this),t&&this.captureAnimationState(),e.forEach(function(o){n[o]&&(i.removeChild(n[o]),i.appendChild(n[o]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Z(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var i=Ne.modifyOption(this,e,t);n[e]=i!==void 0?i:t,e==="group"&&qt(n)},destroy:function(){L("destroy",this);var e=this.el;e[Y]=null,b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart),b(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),$e.splice($e.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!se){if(L("hideClone",this),g.eventCanceled)return;f(O,"display","none"),this.options.removeCloneOnHide&&O.parentNode&&O.parentNode.removeChild(O),se=!0}},_showClone:function(e){if(e.lastPutMode==="clone"){if(se){if(L("showClone",this),g.eventCanceled)return;u.parentNode!=x||this.options.group.revertClone?fe?x.insertBefore(O,fe):x.appendChild(O):x.insertBefore(O,u),this.options.group.revertClone&&this.animate(u,O),f(O,"display",""),se=!1}}else this._hideClone()}},tt&&y(document,"touchmove",function(e){(g.active||De)&&e.cancelable&&e.preventDefault()}),g.utils={on:y,off:b,css:f,find:Yt,is:function(e,t){return!!Z(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:Ht,closest:Z,toggleClass:T,clone:ft,index:A,nextTick:ot,cancelNextTick:Dt,detectDirection:Ut,getChild:Ue},g.get=function(e){return e[Y]},g.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(g.utils=ae({},g.utils,i.utils)),Ne.mount(i)})},g.create=function(e,t){return new g(e,t)};var Ye,St,_t,Ct,it,Be,I=[],Tt=!(g.version="1.13.0");function rt(){I.forEach(function(e){clearInterval(e.pid)}),I=[]}function Qt(){clearInterval(Be)}function $t(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,o=e.activeSortable,r=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var s=n||o;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);l(),s&&!s.el.contains(d)&&(r("spill"),this.onSpill({dragEl:i,putSortable:n}))}}var $,xt=Ht(function(e,t,n,i){if(t.scroll){var o,r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=te(),d=!1;St!==n&&(St=n,rt(),Ye=t.scroll,o=t.scrollFn,Ye===!0&&(Ye=le(n,!0)));var h=0,E=Ye;do{var p=E,C=M(p),w=C.top,k=C.bottom,H=C.left,j=C.right,_=C.width,re=C.height,_e=void 0,ue=void 0,je=p.scrollWidth,Ce=p.scrollHeight,U=f(p),me=p.scrollLeft,ve=p.scrollTop;ue=p===c?(_e=_<je&&(U.overflowX==="auto"||U.overflowX==="scroll"||U.overflowX==="visible"),re<Ce&&(U.overflowY==="auto"||U.overflowY==="scroll"||U.overflowY==="visible")):(_e=_<je&&(U.overflowX==="auto"||U.overflowX==="scroll"),re<Ce&&(U.overflowY==="auto"||U.overflowY==="scroll"));var ne=_e&&(Math.abs(j-r)<=l&&me+_<je)-(Math.abs(H-r)<=l&&!!me),be=ue&&(Math.abs(k-a)<=l&&ve+re<Ce)-(Math.abs(w-a)<=l&&!!ve);if(!I[h])for(var q=0;q<=h;q++)I[q]||(I[q]={});I[h].vx==ne&&I[h].vy==be&&I[h].el===p||(I[h].el=p,I[h].vx=ne,I[h].vy=be,clearInterval(I[h].pid),ne==0&&be==0||(d=!0,I[h].pid=setInterval(function(){i&&this.layer===0&&g.active._onTouchMove(it);var Te=I[this.layer].vy?I[this.layer].vy*s:0,D=I[this.layer].vx?I[this.layer].vx*s:0;typeof o=="function"&&o.call(g.dragged.parentNode[Y],D,Te,e,it,I[this.layer].el)!=="continue"||Lt(I[this.layer].el,D,Te)}.bind({layer:h}),24))),h++}while(t.bubbleScroll&&E!==c&&(E=le(E,!1)));Tt=d}},30);function Mt(){}function At(){}Mt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=Ue(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:$t},K(Mt,{pluginName:"revertOnSpill"}),At.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:$t},K(At,{pluginName:"removeOnSpill"});var Fe,J,S,He,at,m=[],z=[],Le=!1,G=!1,Se=!1;function Jt(e,t){z.forEach(function(n,i){var o=t.children[n.sortableIndex+(e?Number(i):0)];o?t.insertBefore(n,o):t.appendChild(n)})}function lt(){m.forEach(function(e){e!==S&&e.parentNode&&e.parentNode.removeChild(e)})}return g.mount(new function(){function e(){for(var t in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):this.options.supportPointer?y(document,"pointermove",this._handleFallbackAutoScroll):n.touches?y(document,"touchmove",this._handleFallbackAutoScroll):y(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;this.options.dragOverBubble||n.rootEl||this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):(b(document,"pointermove",this._handleFallbackAutoScroll),b(document,"touchmove",this._handleFallbackAutoScroll),b(document,"mousemove",this._handleFallbackAutoScroll)),Qt(),rt(),clearTimeout(Oe),Oe=void 0},nulling:function(){it=St=Ye=Tt=Be=_t=Ct=null,I.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var i=this,o=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,a=document.elementFromPoint(o,r);if(it=t,n||Me||ie||Ae){xt(t,this.options,a,n);var l=le(a,!0);!Tt||Be&&o===_t&&r===Ct||(Be&&Qt(),Be=setInterval(function(){var s=le(document.elementFromPoint(o,r),!0);s!==l&&(l=s,rt()),xt(t,i.options,s,n)},10),_t=o,Ct=r)}else{if(!this.options.bubbleScroll||le(a,!0)===te())return void rt();xt(t,this.options,le(a,!1),!1)}}},K(e,{pluginName:"scroll",initializeByDefault:!0})}),g.mount(At,Mt),g.mount(new function(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(t){var n=t.dragEl;$=n},dragOverValid:function(t){var n=t.completed,i=t.target,o=t.onMove,r=t.activeSortable,a=t.changed,l=t.cancel;if(r.options.swap){var s=this.sortable.el,c=this.options;if(i&&i!==s){var d=$;$=o(i)!==!1?(T(i,c.swapClass,!0),i):null,d&&d!==$&&T(d,c.swapClass,!1)}a(),n(!0),l()}},drop:function(t){var n=t.activeSortable,i=t.putSortable,o=t.dragEl,r=i||this.sortable,a=this.options;$&&T($,a.swapClass,!1),$&&(a.swap||i&&i.options.swap)&&o!==$&&(r.captureAnimationState(),r!==n&&n.captureAnimationState(),function(l,s){var c,d,h=l.parentNode,E=s.parentNode;!h||!E||h.isEqualNode(s)||E.isEqualNode(l)||(c=A(l),d=A(s),h.isEqualNode(E)&&c<d&&d++,h.insertBefore(s,h.children[c]),E.insertBefore(l,E.children[d]))}(o,$),r.animateAll(),r!==n&&n.animateAll())},nulling:function(){$=null}},K(e,{pluginName:"swap",eventProperties:function(){return{swapItem:$}}})}),g.mount(new function(){function e(t){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));t.options.supportPointer?y(document,"pointerup",this._deselectMultiDrag):(y(document,"mouseup",this._deselectMultiDrag),y(document,"touchend",this._deselectMultiDrag)),y(document,"keydown",this._checkKeyDown),y(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,o){var r="";m.length&&J===t?m.forEach(function(a,l){r+=(l?", ":"")+a.textContent}):r=o.textContent,i.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var n=t.dragEl;S=n},delayEnded:function(){this.isMultiDrag=~m.indexOf(S)},setupClone:function(t){var n=t.sortable,i=t.cancel;if(this.isMultiDrag){for(var o=0;o<m.length;o++)z.push(ft(m[o])),z[o].sortableIndex=m[o].sortableIndex,z[o].draggable=!1,z[o].style["will-change"]="",T(z[o],this.options.selectedClass,!1),m[o]===S&&T(z[o],this.options.chosenClass,!1);n._hideClone(),i()}},clone:function(t){var n=t.sortable,i=t.rootEl,o=t.dispatchSortableEvent,r=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||m.length&&J===n&&(Jt(!0,i),o("clone"),r()))},showClone:function(t){var n=t.cloneNowShown,i=t.rootEl,o=t.cancel;this.isMultiDrag&&(Jt(!1,i),z.forEach(function(r){f(r,"display","")}),n(),at=!1,o())},hideClone:function(t){var n=this,i=(t.sortable,t.cloneNowHidden),o=t.cancel;this.isMultiDrag&&(z.forEach(function(r){f(r,"display","none"),n.options.removeCloneOnHide&&r.parentNode&&r.parentNode.removeChild(r)}),i(),at=!0,o())},dragStartGlobal:function(t){t.sortable,!this.isMultiDrag&&J&&J.multiDrag._deselectMultiDrag(),m.forEach(function(n){n.sortableIndex=A(n)}),m=m.sort(function(n,i){return n.sortableIndex-i.sortableIndex}),Se=!0},dragStarted:function(t){var n=this,i=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){m.forEach(function(r){r!==S&&f(r,"position","absolute")});var o=M(S,!1,!0,!0);m.forEach(function(r){r!==S&&jt(r,o)}),Le=G=!0}i.animateAll(function(){Le=G=!1,n.options.animation&&m.forEach(function(r){pt(r)}),n.options.sort&&lt()})}},dragOver:function(t){var n=t.target,i=t.completed,o=t.cancel;G&&~m.indexOf(n)&&(i(!1),o())},revert:function(t){var n=t.fromSortable,i=t.rootEl,o=t.sortable,r=t.dragRect;1<m.length&&(m.forEach(function(a){o.addAnimationState({target:a,rect:G?M(a):r}),pt(a),a.fromRect=r,n.removeAnimationState(a)}),G=!1,function(a,l){m.forEach(function(s,c){var d=l.children[s.sortableIndex+(a?Number(c):0)];d?l.insertBefore(s,d):l.appendChild(s)})}(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(t){var n=t.sortable,i=t.isOwner,o=t.insertion,r=t.activeSortable,a=t.parentEl,l=t.putSortable,s=this.options;if(o){if(i&&r._hideClone(),Le=!1,s.animation&&1<m.length&&(G||!i&&!r.options.sort&&!l)){var c=M(S,!1,!0,!0);m.forEach(function(h){h!==S&&(jt(h,c),a.appendChild(h))}),G=!0}if(!i)if(G||lt(),1<m.length){var d=at;r._showClone(n),r.options.animation&&!at&&d&&z.forEach(function(h){r.addAnimationState({target:h,rect:He}),h.fromRect=He,h.thisAnimationDuration=null})}else r._showClone(n)}},dragOverAnimationCapture:function(t){var n=t.dragRect,i=t.isOwner,o=t.activeSortable;if(m.forEach(function(a){a.thisAnimationDuration=null}),o.options.animation&&!i&&o.multiDrag.isMultiDrag){He=K({},n);var r=he(S,!0);He.top-=r.f,He.left-=r.e}},dragOverAnimationComplete:function(){G&&(G=!1,lt())},drop:function(t){var n=t.originalEvent,i=t.rootEl,o=t.parentEl,r=t.sortable,a=t.dispatchSortableEvent,l=t.oldIndex,s=t.putSortable,c=s||this.sortable;if(n){var d=this.options,h=o.children;if(!Se)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),T(S,d.selectedClass,!~m.indexOf(S)),~m.indexOf(S))m.splice(m.indexOf(S),1),Fe=null,Ie({sortable:r,rootEl:i,name:"deselect",targetEl:S,originalEvt:n});else{if(m.push(S),Ie({sortable:r,rootEl:i,name:"select",targetEl:S,originalEvt:n}),n.shiftKey&&Fe&&r.el.contains(Fe)){var E,p,C=A(Fe),w=A(S);if(~C&&~w&&C!==w)for(E=C<w?(p=C,w):(p=w,C+1);p<E;p++)~m.indexOf(h[p])||(T(h[p],d.selectedClass,!0),m.push(h[p]),Ie({sortable:r,rootEl:i,name:"select",targetEl:h[p],originalEvt:n}))}else Fe=S;J=c}if(Se&&this.isMultiDrag){if((o[Y].options.sort||o!==i)&&1<m.length){var k=M(S),H=A(S,":not(."+this.options.selectedClass+")");if(!Le&&d.animation&&(S.thisAnimationDuration=null),c.captureAnimationState(),!Le&&(d.animation&&(S.fromRect=k,m.forEach(function(_){if(_.thisAnimationDuration=null,_!==S){var re=G?M(_):k;_.fromRect=re,c.addAnimationState({target:_,rect:re})}})),lt(),m.forEach(function(_){h[H]?o.insertBefore(_,h[H]):o.appendChild(_),H++}),l===A(S))){var j=!1;m.forEach(function(_){_.sortableIndex===A(_)||(j=!0)}),j&&a("update")}m.forEach(function(_){pt(_)}),c.animateAll()}J=c}(i===o||s&&s.lastPutMode!=="clone")&&z.forEach(function(_){_.parentNode&&_.parentNode.removeChild(_)})}},nullingGlobal:function(){this.isMultiDrag=Se=!1,z.length=0},destroyGlobal:function(){this._deselectMultiDrag(),b(document,"pointerup",this._deselectMultiDrag),b(document,"mouseup",this._deselectMultiDrag),b(document,"touchend",this._deselectMultiDrag),b(document,"keydown",this._checkKeyDown),b(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(Se!==void 0&&Se||J!==this.sortable||t&&Z(t.target,this.options.draggable,this.sortable.el,!1)||t&&t.button!==0))for(;m.length;){var n=m[0];T(n,this.options.selectedClass,!1),m.shift(),Ie({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:n,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},K(e,{pluginName:"multiDrag",utils:{select:function(t){var n=t.parentNode[Y];n&&n.options.multiDrag&&!~m.indexOf(t)&&(J&&J!==n&&(J.multiDrag._deselectMultiDrag(),J=n),T(t,n.options.selectedClass,!0),m.push(t))},deselect:function(t){var n=t.parentNode[Y],i=m.indexOf(t);n&&n.options.multiDrag&&~i&&(T(t,n.options.selectedClass,!1),m.splice(i,1))}},eventProperties:function(){var t=this,n=[],i=[];return m.forEach(function(o){var r;n.push({multiDragElement:o,index:o.sortableIndex}),r=G&&o!==S?-1:G?A(o,":not(."+t.options.selectedClass+")"):A(o),i.push({multiDragElement:o,index:r})}),{items:tn(m),clones:[].concat(z),oldIndicies:n,newIndicies:i}},optionListeners:{multiDragKey:function(t){return(t=t.toLowerCase())==="ctrl"?t="Control":1<t.length&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}),g})})(dn);const pn=It;export{pn as S};
