import{a as e0,c as n0}from"./_commonjsHelpers-042e6b4d.js";import{c as i0}from"./_commonjs-dynamic-modules-302442b1.js";var ds={},r0={get exports(){return ds},set exports(t){ds=t}},a0="5.16.0";function We(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function fu(t){return t.length===1&&(t=o0(t)),{left:function(e,i,r,o){for(r==null&&(r=0),o==null&&(o=e.length);r<o;){var s=r+o>>>1;t(e[s],i)<0?r=s+1:o=s}return r},right:function(e,i,r,o){for(r==null&&(r=0),o==null&&(o=e.length);r<o;){var s=r+o>>>1;t(e[s],i)>0?o=s:r=s+1}return r}}}function o0(t){return function(e,i){return We(t(e),i)}}var Df=fu(We),Xe=Df.right,s0=Df.left;function u0(t,e){e==null&&(e=zf);for(var i=0,r=t.length-1,o=t[0],s=new Array(r<0?0:r);i<r;)s[i]=e(o,o=t[++i]);return s}function zf(t,e){return[t,e]}function c0(t,e,i){var r=t.length,o=e.length,s=new Array(r*o),l,f,h,d;for(i==null&&(i=zf),l=h=0;l<r;++l)for(d=t[l],f=0;f<o;++f,++h)s[h]=i(d,e[f]);return s}function l0(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Ye(t){return t===null?NaN:+t}function Ff(t,e){var i=t.length,r=0,o=-1,s=0,l,f,h=0;if(e==null)for(;++o<i;)isNaN(l=Ye(t[o]))||(f=l-s,s+=f/++r,h+=f*(l-s));else for(;++o<i;)isNaN(l=Ye(e(t[o],o,t)))||(f=l-s,s+=f/++r,h+=f*(l-s));if(r>1)return h/(r-1)}function Xf(t,e){var i=Ff(t,e);return i&&Math.sqrt(i)}function hu(t,e){var i=t.length,r=-1,o,s,l;if(e==null){for(;++r<i;)if((o=t[r])!=null&&o>=o)for(s=l=o;++r<i;)(o=t[r])!=null&&(s>o&&(s=o),l<o&&(l=o))}else for(;++r<i;)if((o=e(t[r],r,t))!=null&&o>=o)for(s=l=o;++r<i;)(o=e(t[r],r,t))!=null&&(s>o&&(s=o),l<o&&(l=o));return[s,l]}var Yf=Array.prototype,f0=Yf.slice,h0=Yf.map;function _r(t){return function(){return t}}function d0(t){return t}function te(t,e,i){t=+t,e=+e,i=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+i;for(var r=-1,o=Math.max(0,Math.ceil((e-t)/i))|0,s=new Array(o);++r<o;)s[r]=t+r*i;return s}var gs=Math.sqrt(50),ps=Math.sqrt(10),ys=Math.sqrt(2);function du(t,e,i){var r,o=-1,s,l,f;if(e=+e,t=+t,i=+i,t===e&&i>0)return[t];if((r=e<t)&&(s=t,t=e,e=s),(f=Ri(t,e,i))===0||!isFinite(f))return[];if(f>0)for(t=Math.ceil(t/f),e=Math.floor(e/f),l=new Array(s=Math.ceil(e-t+1));++o<s;)l[o]=(t+o)*f;else for(t=Math.floor(t*f),e=Math.ceil(e*f),l=new Array(s=Math.ceil(t-e+1));++o<s;)l[o]=(t-o)/f;return r&&l.reverse(),l}function Ri(t,e,i){var r=(e-t)/Math.max(0,i),o=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,o);return o>=0?(s>=gs?10:s>=ps?5:s>=ys?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(s>=gs?10:s>=ps?5:s>=ys?2:1)}function un(t,e,i){var r=Math.abs(e-t)/Math.max(0,i),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/o;return s>=gs?o*=10:s>=ps?o*=5:s>=ys&&(o*=2),e<t?-o:o}function gu(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function g0(){var t=d0,e=hu,i=gu;function r(o){var s,l=o.length,f,h=new Array(l);for(s=0;s<l;++s)h[s]=t(o[s],s,o);var d=e(h),p=d[0],_=d[1],y=i(h,p,_);Array.isArray(y)||(y=un(p,_,y),y=te(Math.ceil(p/y)*y,_,y));for(var w=y.length;y[0]<=p;)y.shift(),--w;for(;y[w-1]>_;)y.pop(),--w;var S=new Array(w+1),T;for(s=0;s<=w;++s)T=S[s]=[],T.x0=s>0?y[s-1]:p,T.x1=s<w?y[s]:_;for(s=0;s<l;++s)f=h[s],p<=f&&f<=_&&S[Xe(y,f,0,w)].push(o[s]);return S}return r.value=function(o){return arguments.length?(t=typeof o=="function"?o:_r(o),r):t},r.domain=function(o){return arguments.length?(e=typeof o=="function"?o:_r([o[0],o[1]]),r):e},r.thresholds=function(o){return arguments.length?(i=typeof o=="function"?o:Array.isArray(o)?_r(f0.call(o)):_r(o),r):i},r}function Di(t,e,i){if(i==null&&(i=Ye),!!(r=t.length)){if((e=+e)<=0||r<2)return+i(t[0],0,t);if(e>=1)return+i(t[r-1],r-1,t);var r,o=(r-1)*e,s=Math.floor(o),l=+i(t[s],s,t),f=+i(t[s+1],s+1,t);return l+(f-l)*(o-s)}}function p0(t,e,i){return t=h0.call(t,Ye).sort(We),Math.ceil((i-e)/(2*(Di(t,.75)-Di(t,.25))*Math.pow(t.length,-1/3)))}function y0(t,e,i){return Math.ceil((i-e)/(3.5*Xf(t)*Math.pow(t.length,-1/3)))}function Bf(t,e){var i=t.length,r=-1,o,s;if(e==null){for(;++r<i;)if((o=t[r])!=null&&o>=o)for(s=o;++r<i;)(o=t[r])!=null&&o>s&&(s=o)}else for(;++r<i;)if((o=e(t[r],r,t))!=null&&o>=o)for(s=o;++r<i;)(o=e(t[r],r,t))!=null&&o>s&&(s=o);return s}function _0(t,e){var i=t.length,r=i,o=-1,s,l=0;if(e==null)for(;++o<i;)isNaN(s=Ye(t[o]))?--r:l+=s;else for(;++o<i;)isNaN(s=Ye(e(t[o],o,t)))?--r:l+=s;if(r)return l/r}function m0(t,e){var i=t.length,r=-1,o,s=[];if(e==null)for(;++r<i;)isNaN(o=Ye(t[r]))||s.push(o);else for(;++r<i;)isNaN(o=Ye(e(t[r],r,t)))||s.push(o);return Di(s.sort(We),.5)}function pu(t){for(var e=t.length,i,r=-1,o=0,s,l;++r<e;)o+=t[r].length;for(s=new Array(o);--e>=0;)for(l=t[e],i=l.length;--i>=0;)s[--o]=l[i];return s}function Hf(t,e){var i=t.length,r=-1,o,s;if(e==null){for(;++r<i;)if((o=t[r])!=null&&o>=o)for(s=o;++r<i;)(o=t[r])!=null&&s>o&&(s=o)}else for(;++r<i;)if((o=e(t[r],r,t))!=null&&o>=o)for(s=o;++r<i;)(o=e(t[r],r,t))!=null&&s>o&&(s=o);return s}function x0(t,e){for(var i=e.length,r=new Array(i);i--;)r[i]=t[e[i]];return r}function v0(t,e){if(i=t.length){var i,r=0,o=0,s,l=t[o];for(e==null&&(e=We);++r<i;)(e(s=t[r],l)<0||e(l,l)!==0)&&(l=s,o=r);if(e(l,l)===0)return o}}function w0(t,e,i){for(var r=(i??t.length)-(e=e==null?0:+e),o,s;r;)s=Math.random()*r--|0,o=t[r+e],t[r+e]=t[s+e],t[s+e]=o;return t}function b0(t,e){var i=t.length,r=-1,o,s=0;if(e==null)for(;++r<i;)(o=+t[r])&&(s+=o);else for(;++r<i;)(o=+e(t[r],r,t))&&(s+=o);return s}function $f(t){if(!(s=t.length))return[];for(var e=-1,i=Hf(t,S0),r=new Array(i);++e<i;)for(var o=-1,s,l=r[e]=new Array(s);++o<s;)l[o]=t[o][e];return r}function S0(t){return t.length}function T0(){return $f(arguments)}var Po=Array.prototype.slice;function A0(t){return t}var Nr=1,Dr=2,_s=3,yi=4,Ac=1e-6;function P0(t){return"translate("+(t+.5)+",0)"}function C0(t){return"translate(0,"+(t+.5)+")"}function M0(t){return function(e){return+t(e)}}function L0(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(i){return+t(i)+e}}function E0(){return!this.__axis}function Ba(t,e){var i=[],r=null,o=null,s=6,l=6,f=3,h=t===Nr||t===yi?-1:1,d=t===yi||t===Dr?"x":"y",p=t===Nr||t===_s?P0:C0;function _(y){var w=r??(e.ticks?e.ticks.apply(e,i):e.domain()),S=o??(e.tickFormat?e.tickFormat.apply(e,i):A0),T=Math.max(s,0)+f,A=e.range(),C=+A[0]+.5,k=+A[A.length-1]+.5,L=(e.bandwidth?L0:M0)(e.copy()),E=y.selection?y.selection():y,I=E.selectAll(".domain").data([null]),b=E.selectAll(".tick").data(w,e).order(),z=b.exit(),F=b.enter().append("g").attr("class","tick"),$=b.select("line"),W=b.select("text");I=I.merge(I.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),b=b.merge(F),$=$.merge(F.append("line").attr("stroke","currentColor").attr(d+"2",h*s)),W=W.merge(F.append("text").attr("fill","currentColor").attr(d,h*T).attr("dy",t===Nr?"0em":t===_s?"0.71em":"0.32em")),y!==E&&(I=I.transition(y),b=b.transition(y),$=$.transition(y),W=W.transition(y),z=z.transition(y).attr("opacity",Ac).attr("transform",function(Y){return isFinite(Y=L(Y))?p(Y):this.getAttribute("transform")}),F.attr("opacity",Ac).attr("transform",function(Y){var R=this.parentNode.__axis;return p(R&&isFinite(R=R(Y))?R:L(Y))})),z.remove(),I.attr("d",t===yi||t==Dr?l?"M"+h*l+","+C+"H0.5V"+k+"H"+h*l:"M0.5,"+C+"V"+k:l?"M"+C+","+h*l+"V0.5H"+k+"V"+h*l:"M"+C+",0.5H"+k),b.attr("opacity",1).attr("transform",function(Y){return p(L(Y))}),$.attr(d+"2",h*s),W.attr(d,h*T).text(S),E.filter(E0).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Dr?"start":t===yi?"end":"middle"),E.each(function(){this.__axis=L})}return _.scale=function(y){return arguments.length?(e=y,_):e},_.ticks=function(){return i=Po.call(arguments),_},_.tickArguments=function(y){return arguments.length?(i=y==null?[]:Po.call(y),_):i.slice()},_.tickValues=function(y){return arguments.length?(r=y==null?null:Po.call(y),_):r&&r.slice()},_.tickFormat=function(y){return arguments.length?(o=y,_):o},_.tickSize=function(y){return arguments.length?(s=l=+y,_):s},_.tickSizeInner=function(y){return arguments.length?(s=+y,_):s},_.tickSizeOuter=function(y){return arguments.length?(l=+y,_):l},_.tickPadding=function(y){return arguments.length?(f=+y,_):f},_}function k0(t){return Ba(Nr,t)}function R0(t){return Ba(Dr,t)}function V0(t){return Ba(_s,t)}function G0(t){return Ba(yi,t)}var I0={value:function(){}};function vn(){for(var t=0,e=arguments.length,i={},r;t<e;++t){if(!(r=arguments[t]+"")||r in i||/[\s.]/.test(r))throw new Error("illegal type: "+r);i[r]=[]}return new zr(i)}function zr(t){this._=t}function O0(t,e){return t.trim().split(/^|\s+/).map(function(i){var r="",o=i.indexOf(".");if(o>=0&&(r=i.slice(o+1),i=i.slice(0,o)),i&&!e.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:r}})}zr.prototype=vn.prototype={constructor:zr,on:function(t,e){var i=this._,r=O0(t+"",i),o,s=-1,l=r.length;if(arguments.length<2){for(;++s<l;)if((o=(t=r[s]).type)&&(o=N0(i[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<l;)if(o=(t=r[s]).type)i[o]=Pc(i[o],t.name,e);else if(e==null)for(o in i)i[o]=Pc(i[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new zr(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var i=new Array(o),r=0,o,s;r<o;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,o=s.length;r<o;++r)s[r].value.apply(e,i)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,s=r.length;o<s;++o)r[o].value.apply(e,i)}};function N0(t,e){for(var i=0,r=t.length,o;i<r;++i)if((o=t[i]).name===e)return o.value}function Pc(t,e,i){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=I0,t=t.slice(0,r).concat(t.slice(r+1));break}return i!=null&&t.push({name:e,value:i}),t}var ms="http://www.w3.org/1999/xhtml";const xs={svg:"http://www.w3.org/2000/svg",xhtml:ms,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function rr(t){var e=t+="",i=e.indexOf(":");return i>=0&&(e=t.slice(0,i))!=="xmlns"&&(t=t.slice(i+1)),xs.hasOwnProperty(e)?{space:xs[e],local:t}:t}function D0(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===ms&&e.documentElement.namespaceURI===ms?e.createElement(t):e.createElementNS(i,t)}}function z0(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ha(t){var e=rr(t);return(e.local?z0:D0)(e)}function F0(){}function $a(t){return t==null?F0:function(){return this.querySelector(t)}}function X0(t){typeof t!="function"&&(t=$a(t));for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o)for(var s=e[o],l=s.length,f=r[o]=new Array(l),h,d,p=0;p<l;++p)(h=s[p])&&(d=t.call(h,h.__data__,p,s))&&("__data__"in h&&(d.__data__=h.__data__),f[p]=d);return new Yt(r,this._parents)}function Y0(){return[]}function yu(t){return t==null?Y0:function(){return this.querySelectorAll(t)}}function B0(t){typeof t!="function"&&(t=yu(t));for(var e=this._groups,i=e.length,r=[],o=[],s=0;s<i;++s)for(var l=e[s],f=l.length,h,d=0;d<f;++d)(h=l[d])&&(r.push(t.call(h,h.__data__,d,l)),o.push(h));return new Yt(r,o)}function _u(t){return function(){return this.matches(t)}}function H0(t){typeof t!="function"&&(t=_u(t));for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o)for(var s=e[o],l=s.length,f=r[o]=[],h,d=0;d<l;++d)(h=s[d])&&t.call(h,h.__data__,d,s)&&f.push(h);return new Yt(r,this._parents)}function Uf(t){return new Array(t.length)}function $0(){return new Yt(this._enter||this._groups.map(Uf),this._parents)}function qr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}qr.prototype={constructor:qr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function U0(t){return function(){return t}}var Cc="$";function W0(t,e,i,r,o,s){for(var l=0,f,h=e.length,d=s.length;l<d;++l)(f=e[l])?(f.__data__=s[l],r[l]=f):i[l]=new qr(t,s[l]);for(;l<h;++l)(f=e[l])&&(o[l]=f)}function q0(t,e,i,r,o,s,l){var f,h,d={},p=e.length,_=s.length,y=new Array(p),w;for(f=0;f<p;++f)(h=e[f])&&(y[f]=w=Cc+l.call(h,h.__data__,f,e),w in d?o[f]=h:d[w]=h);for(f=0;f<_;++f)w=Cc+l.call(t,s[f],f,s),(h=d[w])?(r[f]=h,h.__data__=s[f],d[w]=null):i[f]=new qr(t,s[f]);for(f=0;f<p;++f)(h=e[f])&&d[y[f]]===h&&(o[f]=h)}function Q0(t,e){if(!t)return w=new Array(this.size()),d=-1,this.each(function(b){w[++d]=b}),w;var i=e?q0:W0,r=this._parents,o=this._groups;typeof t!="function"&&(t=U0(t));for(var s=o.length,l=new Array(s),f=new Array(s),h=new Array(s),d=0;d<s;++d){var p=r[d],_=o[d],y=_.length,w=t.call(p,p&&p.__data__,d,r),S=w.length,T=f[d]=new Array(S),A=l[d]=new Array(S),C=h[d]=new Array(y);i(p,_,T,A,C,w,e);for(var k=0,L=0,E,I;k<S;++k)if(E=T[k]){for(k>=L&&(L=k+1);!(I=A[L])&&++L<S;);E._next=I||null}}return l=new Yt(l,r),l._enter=f,l._exit=h,l}function j0(){return new Yt(this._exit||this._groups.map(Uf),this._parents)}function Z0(t,e,i){var r=this.enter(),o=this,s=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(o=e(o)),i==null?s.remove():i(s),r&&o?r.merge(o).order():o}function K0(t){for(var e=this._groups,i=t._groups,r=e.length,o=i.length,s=Math.min(r,o),l=new Array(r),f=0;f<s;++f)for(var h=e[f],d=i[f],p=h.length,_=l[f]=new Array(p),y,w=0;w<p;++w)(y=h[w]||d[w])&&(_[w]=y);for(;f<r;++f)l[f]=e[f];return new Yt(l,this._parents)}function J0(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var r=t[e],o=r.length-1,s=r[o],l;--o>=0;)(l=r[o])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function ty(t){t||(t=ey);function e(_,y){return _&&y?t(_.__data__,y.__data__):!_-!y}for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s){for(var l=i[s],f=l.length,h=o[s]=new Array(f),d,p=0;p<f;++p)(d=l[p])&&(h[p]=d);h.sort(e)}return new Yt(o,this._parents).order()}function ey(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ny(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function iy(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function ry(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var r=t[e],o=0,s=r.length;o<s;++o){var l=r[o];if(l)return l}return null}function ay(){var t=0;return this.each(function(){++t}),t}function oy(){return!this.node()}function sy(t){for(var e=this._groups,i=0,r=e.length;i<r;++i)for(var o=e[i],s=0,l=o.length,f;s<l;++s)(f=o[s])&&t.call(f,f.__data__,s,o);return this}function uy(t){return function(){this.removeAttribute(t)}}function cy(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ly(t,e){return function(){this.setAttribute(t,e)}}function fy(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function hy(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttribute(t):this.setAttribute(t,i)}}function dy(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function gy(t,e){var i=rr(t);if(arguments.length<2){var r=this.node();return i.local?r.getAttributeNS(i.space,i.local):r.getAttribute(i)}return this.each((e==null?i.local?cy:uy:typeof e=="function"?i.local?dy:hy:i.local?fy:ly)(i,e))}function mu(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function py(t){return function(){this.style.removeProperty(t)}}function yy(t,e,i){return function(){this.style.setProperty(t,e,i)}}function _y(t,e,i){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,i)}}function my(t,e,i){return arguments.length>1?this.each((e==null?py:typeof e=="function"?_y:yy)(t,e,i??"")):cn(this.node(),t)}function cn(t,e){return t.style.getPropertyValue(e)||mu(t).getComputedStyle(t,null).getPropertyValue(e)}function xy(t){return function(){delete this[t]}}function vy(t,e){return function(){this[t]=e}}function wy(t,e){return function(){var i=e.apply(this,arguments);i==null?delete this[t]:this[t]=i}}function by(t,e){return arguments.length>1?this.each((e==null?xy:typeof e=="function"?wy:vy)(t,e)):this.node()[t]}function Wf(t){return t.trim().split(/^|\s+/)}function xu(t){return t.classList||new qf(t)}function qf(t){this._node=t,this._names=Wf(t.getAttribute("class")||"")}qf.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Qf(t,e){for(var i=xu(t),r=-1,o=e.length;++r<o;)i.add(e[r])}function jf(t,e){for(var i=xu(t),r=-1,o=e.length;++r<o;)i.remove(e[r])}function Sy(t){return function(){Qf(this,t)}}function Ty(t){return function(){jf(this,t)}}function Ay(t,e){return function(){(e.apply(this,arguments)?Qf:jf)(this,t)}}function Py(t,e){var i=Wf(t+"");if(arguments.length<2){for(var r=xu(this.node()),o=-1,s=i.length;++o<s;)if(!r.contains(i[o]))return!1;return!0}return this.each((typeof e=="function"?Ay:e?Sy:Ty)(i,e))}function Cy(){this.textContent=""}function My(t){return function(){this.textContent=t}}function Ly(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Ey(t){return arguments.length?this.each(t==null?Cy:(typeof t=="function"?Ly:My)(t)):this.node().textContent}function ky(){this.innerHTML=""}function Ry(t){return function(){this.innerHTML=t}}function Vy(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Gy(t){return arguments.length?this.each(t==null?ky:(typeof t=="function"?Vy:Ry)(t)):this.node().innerHTML}function Iy(){this.nextSibling&&this.parentNode.appendChild(this)}function Oy(){return this.each(Iy)}function Ny(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Dy(){return this.each(Ny)}function zy(t){var e=typeof t=="function"?t:Ha(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Fy(){return null}function Xy(t,e){var i=typeof t=="function"?t:Ha(t),r=e==null?Fy:typeof e=="function"?e:$a(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),r.apply(this,arguments)||null)})}function Yy(){var t=this.parentNode;t&&t.removeChild(this)}function By(){return this.each(Yy)}function Hy(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $y(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Uy(t){return this.select(t?$y:Hy)}function Wy(t){return arguments.length?this.property("__data__",t):this.node().__data__}var Zf={},K=null;if(typeof document<"u"){var qy=document.documentElement;"onmouseenter"in qy||(Zf={mouseenter:"mouseover",mouseleave:"mouseout"})}function Qy(t,e,i){return t=Kf(t,e,i),function(r){var o=r.relatedTarget;(!o||o!==this&&!(o.compareDocumentPosition(this)&8))&&t.call(this,r)}}function Kf(t,e,i){return function(r){var o=K;K=r;try{t.call(this,this.__data__,e,i)}finally{K=o}}}function jy(t){return t.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");return r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),{type:e,name:i}})}function Zy(t){return function(){var e=this.__on;if(e){for(var i=0,r=-1,o=e.length,s;i<o;++i)s=e[i],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.capture):e[++r]=s;++r?e.length=r:delete this.__on}}}function Ky(t,e,i){var r=Zf.hasOwnProperty(t.type)?Qy:Kf;return function(o,s,l){var f=this.__on,h,d=r(e,s,l);if(f){for(var p=0,_=f.length;p<_;++p)if((h=f[p]).type===t.type&&h.name===t.name){this.removeEventListener(h.type,h.listener,h.capture),this.addEventListener(h.type,h.listener=d,h.capture=i),h.value=e;return}}this.addEventListener(t.type,d,i),h={type:t.type,name:t.name,value:e,listener:d,capture:i},f?f.push(h):this.__on=[h]}}function Jy(t,e,i){var r=jy(t+""),o,s=r.length,l;if(arguments.length<2){var f=this.node().__on;if(f){for(var h=0,d=f.length,p;h<d;++h)for(o=0,p=f[h];o<s;++o)if((l=r[o]).type===p.type&&l.name===p.name)return p.value}return}for(f=e?Ky:Zy,i==null&&(i=!1),o=0;o<s;++o)this.each(f(r[o],e,i));return this}function zi(t,e,i,r){var o=K;t.sourceEvent=K,K=t;try{return e.apply(i,r)}finally{K=o}}function Jf(t,e,i){var r=mu(t),o=r.CustomEvent;typeof o=="function"?o=new o(e,i):(o=r.document.createEvent("Event"),i?(o.initEvent(e,i.bubbles,i.cancelable),o.detail=i.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function t1(t,e){return function(){return Jf(this,t,e)}}function e1(t,e){return function(){return Jf(this,t,e.apply(this,arguments))}}function n1(t,e){return this.each((typeof e=="function"?e1:t1)(t,e))}var vu=[null];function Yt(t,e){this._groups=t,this._parents=e}function wn(){return new Yt([[document.documentElement]],vu)}Yt.prototype=wn.prototype={constructor:Yt,select:X0,selectAll:B0,filter:H0,data:Q0,enter:$0,exit:j0,join:Z0,merge:K0,order:J0,sort:ty,call:ny,nodes:iy,node:ry,size:ay,empty:oy,each:sy,attr:gy,style:my,property:by,classed:Py,text:Ey,html:Gy,raise:Oy,lower:Dy,append:zy,insert:Xy,remove:By,clone:Uy,datum:Wy,on:Jy,dispatch:n1};function Qt(t){return typeof t=="string"?new Yt([[document.querySelector(t)]],[document.documentElement]):new Yt([[t]],vu)}function i1(t){return Qt(Ha(t).call(document.documentElement))}var r1=0;function th(){return new vs}function vs(){this._="@"+(++r1).toString(36)}vs.prototype=th.prototype={constructor:vs,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function wu(){for(var t=K,e;e=t.sourceEvent;)t=e;return t}function Ua(t,e){var i=t.ownerSVGElement||t;if(i.createSVGPoint){var r=i.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function an(t){var e=wu();return e.changedTouches&&(e=e.changedTouches[0]),Ua(t,e)}function a1(t){return typeof t=="string"?new Yt([document.querySelectorAll(t)],[document.documentElement]):new Yt([t??[]],vu)}function Fi(t,e,i){arguments.length<3&&(i=e,e=wu().changedTouches);for(var r=0,o=e?e.length:0,s;r<o;++r)if((s=e[r]).identifier===i)return Ua(t,s);return null}function o1(t,e){e==null&&(e=wu().touches);for(var i=0,r=e?e.length:0,o=new Array(r);i<r;++i)o[i]=Ua(t,e[i]);return o}function Co(){K.stopImmediatePropagation()}function Dn(){K.preventDefault(),K.stopImmediatePropagation()}function Wa(t){var e=t.document.documentElement,i=Qt(t).on("dragstart.drag",Dn,!0);"onselectstart"in e?i.on("selectstart.drag",Dn,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function qa(t,e){var i=t.document.documentElement,r=Qt(t).on("dragstart.drag",null);e&&(r.on("click.drag",Dn,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in i?r.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}function mr(t){return function(){return t}}function ws(t,e,i,r,o,s,l,f,h,d){this.target=t,this.type=e,this.subject=i,this.identifier=r,this.active=o,this.x=s,this.y=l,this.dx=f,this.dy=h,this._=d}ws.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function s1(){return!K.ctrlKey&&!K.button}function u1(){return this.parentNode}function c1(t){return t??{x:K.x,y:K.y}}function l1(){return navigator.maxTouchPoints||"ontouchstart"in this}function f1(){var t=s1,e=u1,i=c1,r=l1,o={},s=vn("start","drag","end"),l=0,f,h,d,p,_=0;function y(E){E.on("mousedown.drag",w).filter(r).on("touchstart.drag",A).on("touchmove.drag",C).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function w(){if(!(p||!t.apply(this,arguments))){var E=L("mouse",e.apply(this,arguments),an,this,arguments);E&&(Qt(K.view).on("mousemove.drag",S,!0).on("mouseup.drag",T,!0),Wa(K.view),Co(),d=!1,f=K.clientX,h=K.clientY,E("start"))}}function S(){if(Dn(),!d){var E=K.clientX-f,I=K.clientY-h;d=E*E+I*I>_}o.mouse("drag")}function T(){Qt(K.view).on("mousemove.drag mouseup.drag",null),qa(K.view,d),Dn(),o.mouse("end")}function A(){if(t.apply(this,arguments)){var E=K.changedTouches,I=e.apply(this,arguments),b=E.length,z,F;for(z=0;z<b;++z)(F=L(E[z].identifier,I,Fi,this,arguments))&&(Co(),F("start"))}}function C(){var E=K.changedTouches,I=E.length,b,z;for(b=0;b<I;++b)(z=o[E[b].identifier])&&(Dn(),z("drag"))}function k(){var E=K.changedTouches,I=E.length,b,z;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),b=0;b<I;++b)(z=o[E[b].identifier])&&(Co(),z("end"))}function L(E,I,b,z,F){var $=b(I,E),W,Y,R,X=s.copy();if(zi(new ws(y,"beforestart",W,E,l,$[0],$[1],0,0,X),function(){return(K.subject=W=i.apply(z,F))==null?!1:(Y=W.x-$[0]||0,R=W.y-$[1]||0,!0)}))return function Q(n){var a=$,u;switch(n){case"start":o[E]=Q,u=l++;break;case"end":delete o[E],--l;case"drag":$=b(I,E),u=l;break}zi(new ws(y,n,W,E,u,$[0]+Y,$[1]+R,$[0]-a[0],$[1]-a[1],X),X.apply,X,[n,z,F])}}return y.filter=function(E){return arguments.length?(t=typeof E=="function"?E:mr(!!E),y):t},y.container=function(E){return arguments.length?(e=typeof E=="function"?E:mr(E),y):e},y.subject=function(E){return arguments.length?(i=typeof E=="function"?E:mr(E),y):i},y.touchable=function(E){return arguments.length?(r=typeof E=="function"?E:mr(!!E),y):r},y.on=function(){var E=s.on.apply(s,arguments);return E===s?y:E},y.clickDistance=function(E){return arguments.length?(_=(E=+E)*E,y):Math.sqrt(_)},y}function ei(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function ar(t,e){var i=Object.create(t.prototype);for(var r in e)i[r]=e[r];return i}function qe(){}var ln=.7,Hn=1/ln,zn="\\s*([+-]?\\d+)\\s*",Xi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",we="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h1=/^#([0-9a-f]{3,8})$/,d1=new RegExp("^rgb\\("+[zn,zn,zn]+"\\)$"),g1=new RegExp("^rgb\\("+[we,we,we]+"\\)$"),p1=new RegExp("^rgba\\("+[zn,zn,zn,Xi]+"\\)$"),y1=new RegExp("^rgba\\("+[we,we,we,Xi]+"\\)$"),_1=new RegExp("^hsl\\("+[Xi,we,we]+"\\)$"),m1=new RegExp("^hsla\\("+[Xi,we,we,Xi]+"\\)$"),Mc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ei(qe,Be,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Lc,formatHex:Lc,formatHsl:x1,formatRgb:Ec,toString:Ec});function Lc(){return this.rgb().formatHex()}function x1(){return eh(this).formatHsl()}function Ec(){return this.rgb().formatRgb()}function Be(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=h1.exec(t))?(i=e[1].length,e=parseInt(e[1],16),i===6?kc(e):i===3?new kt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):i===8?xr(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):i===4?xr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=d1.exec(t))?new kt(e[1],e[2],e[3],1):(e=g1.exec(t))?new kt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=p1.exec(t))?xr(e[1],e[2],e[3],e[4]):(e=y1.exec(t))?xr(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_1.exec(t))?Gc(e[1],e[2]/100,e[3]/100,1):(e=m1.exec(t))?Gc(e[1],e[2]/100,e[3]/100,e[4]):Mc.hasOwnProperty(t)?kc(Mc[t]):t==="transparent"?new kt(NaN,NaN,NaN,0):null}function kc(t){return new kt(t>>16&255,t>>8&255,t&255,1)}function xr(t,e,i,r){return r<=0&&(t=e=i=NaN),new kt(t,e,i,r)}function bu(t){return t instanceof qe||(t=Be(t)),t?(t=t.rgb(),new kt(t.r,t.g,t.b,t.opacity)):new kt}function $n(t,e,i,r){return arguments.length===1?bu(t):new kt(t,e,i,r??1)}function kt(t,e,i,r){this.r=+t,this.g=+e,this.b=+i,this.opacity=+r}ei(kt,$n,ar(qe,{brighter:function(t){return t=t==null?Hn:Math.pow(Hn,t),new kt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?ln:Math.pow(ln,t),new kt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rc,formatHex:Rc,formatRgb:Vc,toString:Vc}));function Rc(){return"#"+Mo(this.r)+Mo(this.g)+Mo(this.b)}function Vc(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Mo(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Gc(t,e,i,r){return r<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new _e(t,e,i,r)}function eh(t){if(t instanceof _e)return new _e(t.h,t.s,t.l,t.opacity);if(t instanceof qe||(t=Be(t)),!t)return new _e;if(t instanceof _e)return t;t=t.rgb();var e=t.r/255,i=t.g/255,r=t.b/255,o=Math.min(e,i,r),s=Math.max(e,i,r),l=NaN,f=s-o,h=(s+o)/2;return f?(e===s?l=(i-r)/f+(i<r)*6:i===s?l=(r-e)/f+2:l=(e-i)/f+4,f/=h<.5?s+o:2-s-o,l*=60):f=h>0&&h<1?0:l,new _e(l,f,h,t.opacity)}function Qr(t,e,i,r){return arguments.length===1?eh(t):new _e(t,e,i,r??1)}function _e(t,e,i,r){this.h=+t,this.s=+e,this.l=+i,this.opacity=+r}ei(_e,Qr,ar(qe,{brighter:function(t){return t=t==null?Hn:Math.pow(Hn,t),new _e(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?ln:Math.pow(ln,t),new _e(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,r=i+(i<.5?i:1-i)*e,o=2*i-r;return new kt(Lo(t>=240?t-240:t+120,o,r),Lo(t,o,r),Lo(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function Lo(t,e,i){return(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)*255}var nh=Math.PI/180,ih=180/Math.PI,jr=18,rh=.96422,ah=1,oh=.82521,sh=4/29,Fn=6/29,uh=3*Fn*Fn,v1=Fn*Fn*Fn;function ch(t){if(t instanceof fe)return new fe(t.l,t.a,t.b,t.opacity);if(t instanceof ve)return fh(t);t instanceof kt||(t=bu(t));var e=Vo(t.r),i=Vo(t.g),r=Vo(t.b),o=Eo((.2225045*e+.7168786*i+.0606169*r)/ah),s,l;return e===i&&i===r?s=l=o:(s=Eo((.4360747*e+.3850649*i+.1430804*r)/rh),l=Eo((.0139322*e+.0971045*i+.7141733*r)/oh)),new fe(116*o-16,500*(s-o),200*(o-l),t.opacity)}function w1(t,e){return new fe(t,0,0,e??1)}function Zr(t,e,i,r){return arguments.length===1?ch(t):new fe(t,e,i,r??1)}function fe(t,e,i,r){this.l=+t,this.a=+e,this.b=+i,this.opacity=+r}ei(fe,Zr,ar(qe,{brighter:function(t){return new fe(this.l+jr*(t??1),this.a,this.b,this.opacity)},darker:function(t){return new fe(this.l-jr*(t??1),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,i=isNaN(this.b)?t:t-this.b/200;return e=rh*ko(e),t=ah*ko(t),i=oh*ko(i),new kt(Ro(3.1338561*e-1.6168667*t-.4906146*i),Ro(-.9787684*e+1.9161415*t+.033454*i),Ro(.0719453*e-.2289914*t+1.4052427*i),this.opacity)}}));function Eo(t){return t>v1?Math.pow(t,1/3):t/uh+sh}function ko(t){return t>Fn?t*t*t:uh*(t-sh)}function Ro(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Vo(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function lh(t){if(t instanceof ve)return new ve(t.h,t.c,t.l,t.opacity);if(t instanceof fe||(t=ch(t)),t.a===0&&t.b===0)return new ve(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*ih;return new ve(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function b1(t,e,i,r){return arguments.length===1?lh(t):new ve(i,e,t,r??1)}function Kr(t,e,i,r){return arguments.length===1?lh(t):new ve(t,e,i,r??1)}function ve(t,e,i,r){this.h=+t,this.c=+e,this.l=+i,this.opacity=+r}function fh(t){if(isNaN(t.h))return new fe(t.l,0,0,t.opacity);var e=t.h*nh;return new fe(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}ei(ve,Kr,ar(qe,{brighter:function(t){return new ve(this.h,this.c,this.l+jr*(t??1),this.opacity)},darker:function(t){return new ve(this.h,this.c,this.l-jr*(t??1),this.opacity)},rgb:function(){return fh(this).rgb()}}));var hh=-.14861,Su=1.78277,Tu=-.29227,Qa=-.90649,Yi=1.97294,Ic=Yi*Qa,Oc=Yi*Su,Nc=Su*Tu-Qa*hh;function S1(t){if(t instanceof on)return new on(t.h,t.s,t.l,t.opacity);t instanceof kt||(t=bu(t));var e=t.r/255,i=t.g/255,r=t.b/255,o=(Nc*r+Ic*e-Oc*i)/(Nc+Ic-Oc),s=r-o,l=(Yi*(i-o)-Tu*s)/Qa,f=Math.sqrt(l*l+s*s)/(Yi*o*(1-o)),h=f?Math.atan2(l,s)*ih-120:NaN;return new on(h<0?h+360:h,f,o,t.opacity)}function he(t,e,i,r){return arguments.length===1?S1(t):new on(t,e,i,r??1)}function on(t,e,i,r){this.h=+t,this.s=+e,this.l=+i,this.opacity=+r}ei(on,he,ar(qe,{brighter:function(t){return t=t==null?Hn:Math.pow(Hn,t),new on(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?ln:Math.pow(ln,t),new on(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*nh,e=+this.l,i=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),o=Math.sin(t);return new kt(255*(e+i*(hh*r+Su*o)),255*(e+i*(Tu*r+Qa*o)),255*(e+i*(Yi*r)),this.opacity)}}));function dh(t,e,i,r,o){var s=t*t,l=s*t;return((1-3*t+3*s-l)*e+(4-6*s+3*l)*i+(1+3*t+3*s-3*l)*r+l*o)/6}function gh(t){var e=t.length-1;return function(i){var r=i<=0?i=0:i>=1?(i=1,e-1):Math.floor(i*e),o=t[r],s=t[r+1],l=r>0?t[r-1]:2*o-s,f=r<e-1?t[r+2]:2*s-o;return dh((i-r/e)*e,l,o,s,f)}}function ph(t){var e=t.length;return function(i){var r=Math.floor(((i%=1)<0?++i:i)*e),o=t[(r+e-1)%e],s=t[r%e],l=t[(r+1)%e],f=t[(r+2)%e];return dh((i-r/e)*e,o,s,l,f)}}function ja(t){return function(){return t}}function yh(t,e){return function(i){return t+i*e}}function T1(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(r){return Math.pow(t+r*e,i)}}function Za(t,e){var i=e-t;return i?yh(t,i>180||i<-180?i-360*Math.round(i/360):i):ja(isNaN(t)?e:t)}function A1(t){return(t=+t)==1?Lt:function(e,i){return i-e?T1(e,i,t):ja(isNaN(e)?i:e)}}function Lt(t,e){var i=e-t;return i?yh(t,i):ja(isNaN(t)?e:t)}const Bi=function t(e){var i=A1(e);function r(o,s){var l=i((o=$n(o)).r,(s=$n(s)).r),f=i(o.g,s.g),h=i(o.b,s.b),d=Lt(o.opacity,s.opacity);return function(p){return o.r=l(p),o.g=f(p),o.b=h(p),o.opacity=d(p),o+""}}return r.gamma=t,r}(1);function _h(t){return function(e){var i=e.length,r=new Array(i),o=new Array(i),s=new Array(i),l,f;for(l=0;l<i;++l)f=$n(e[l]),r[l]=f.r||0,o[l]=f.g||0,s[l]=f.b||0;return r=t(r),o=t(o),s=t(s),f.opacity=1,function(h){return f.r=r(h),f.g=o(h),f.b=s(h),f+""}}}var mh=_h(gh),P1=_h(ph);function Au(t,e){e||(e=[]);var i=t?Math.min(e.length,t.length):0,r=e.slice(),o;return function(s){for(o=0;o<i;++o)r[o]=t[o]*(1-s)+e[o]*s;return r}}function xh(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function C1(t,e){return(xh(e)?Au:vh)(t,e)}function vh(t,e){var i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),s=new Array(i),l;for(l=0;l<r;++l)o[l]=or(t[l],e[l]);for(;l<i;++l)s[l]=e[l];return function(f){for(l=0;l<r;++l)s[l]=o[l](f);return s}}function wh(t,e){var i=new Date;return t=+t,e=+e,function(r){return i.setTime(t*(1-r)+e*r),i}}function ae(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}function bh(t,e){var i={},r={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?i[o]=or(t[o],e[o]):r[o]=e[o];return function(s){for(o in i)r[o]=i[o](s);return r}}var bs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Go=new RegExp(bs.source,"g");function M1(t){return function(){return t}}function L1(t){return function(e){return t(e)+""}}function Pu(t,e){var i=bs.lastIndex=Go.lastIndex=0,r,o,s,l=-1,f=[],h=[];for(t=t+"",e=e+"";(r=bs.exec(t))&&(o=Go.exec(e));)(s=o.index)>i&&(s=e.slice(i,s),f[l]?f[l]+=s:f[++l]=s),(r=r[0])===(o=o[0])?f[l]?f[l]+=o:f[++l]=o:(f[++l]=null,h.push({i:l,x:ae(r,o)})),i=Go.lastIndex;return i<e.length&&(s=e.slice(i),f[l]?f[l]+=s:f[++l]=s),f.length<2?h[0]?L1(h[0].x):M1(e):(e=h.length,function(d){for(var p=0,_;p<e;++p)f[(_=h[p]).i]=_.x(d);return f.join("")})}function or(t,e){var i=typeof e,r;return e==null||i==="boolean"?ja(e):(i==="number"?ae:i==="string"?(r=Be(e))?(e=r,Bi):Pu:e instanceof Be?Bi:e instanceof Date?wh:xh(e)?Au:Array.isArray(e)?vh:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?bh:ae)(t,e)}function E1(t){var e=t.length;return function(i){return t[Math.max(0,Math.min(e-1,Math.floor(i*e)))]}}function k1(t,e){var i=Za(+t,+e);return function(r){var o=i(r);return o-360*Math.floor(o/360)}}function Sh(t,e){return t=+t,e=+e,function(i){return Math.round(t*(1-i)+e*i)}}var Dc=180/Math.PI,Ss={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Th(t,e,i,r,o,s){var l,f,h;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(h=t*i+e*r)&&(i-=t*h,r-=e*h),(f=Math.sqrt(i*i+r*r))&&(i/=f,r/=f,h/=f),t*r<e*i&&(t=-t,e=-e,h=-h,l=-l),{translateX:o,translateY:s,rotate:Math.atan2(e,t)*Dc,skewX:Math.atan(h)*Dc,scaleX:l,scaleY:f}}var ai,Io,zc,vr;function R1(t){return t==="none"?Ss:(ai||(ai=document.createElement("DIV"),Io=document.documentElement,zc=document.defaultView),ai.style.transform=t,t=zc.getComputedStyle(Io.appendChild(ai),null).getPropertyValue("transform"),Io.removeChild(ai),t=t.slice(7,-1).split(","),Th(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function V1(t){return t==null||(vr||(vr=document.createElementNS("http://www.w3.org/2000/svg","g")),vr.setAttribute("transform",t),!(t=vr.transform.baseVal.consolidate()))?Ss:(t=t.matrix,Th(t.a,t.b,t.c,t.d,t.e,t.f))}function Ah(t,e,i,r){function o(d){return d.length?d.pop()+" ":""}function s(d,p,_,y,w,S){if(d!==_||p!==y){var T=w.push("translate(",null,e,null,i);S.push({i:T-4,x:ae(d,_)},{i:T-2,x:ae(p,y)})}else(_||y)&&w.push("translate("+_+e+y+i)}function l(d,p,_,y){d!==p?(d-p>180?p+=360:p-d>180&&(d+=360),y.push({i:_.push(o(_)+"rotate(",null,r)-2,x:ae(d,p)})):p&&_.push(o(_)+"rotate("+p+r)}function f(d,p,_,y){d!==p?y.push({i:_.push(o(_)+"skewX(",null,r)-2,x:ae(d,p)}):p&&_.push(o(_)+"skewX("+p+r)}function h(d,p,_,y,w,S){if(d!==_||p!==y){var T=w.push(o(w)+"scale(",null,",",null,")");S.push({i:T-4,x:ae(d,_)},{i:T-2,x:ae(p,y)})}else(_!==1||y!==1)&&w.push(o(w)+"scale("+_+","+y+")")}return function(d,p){var _=[],y=[];return d=t(d),p=t(p),s(d.translateX,d.translateY,p.translateX,p.translateY,_,y),l(d.rotate,p.rotate,_,y),f(d.skewX,p.skewX,_,y),h(d.scaleX,d.scaleY,p.scaleX,p.scaleY,_,y),d=p=null,function(w){for(var S=-1,T=y.length,A;++S<T;)_[(A=y[S]).i]=A.x(w);return _.join("")}}}var Ph=Ah(R1,"px, ","px)","deg)"),Ch=Ah(V1,", ",")",")"),oi=Math.SQRT2,Oo=2,Fc=4,G1=1e-12;function Xc(t){return((t=Math.exp(t))+1/t)/2}function I1(t){return((t=Math.exp(t))-1/t)/2}function O1(t){return((t=Math.exp(2*t))-1)/(t+1)}function Mh(t,e){var i=t[0],r=t[1],o=t[2],s=e[0],l=e[1],f=e[2],h=s-i,d=l-r,p=h*h+d*d,_,y;if(p<G1)y=Math.log(f/o)/oi,_=function(k){return[i+k*h,r+k*d,o*Math.exp(oi*k*y)]};else{var w=Math.sqrt(p),S=(f*f-o*o+Fc*p)/(2*o*Oo*w),T=(f*f-o*o-Fc*p)/(2*f*Oo*w),A=Math.log(Math.sqrt(S*S+1)-S),C=Math.log(Math.sqrt(T*T+1)-T);y=(C-A)/oi,_=function(k){var L=k*y,E=Xc(A),I=o/(Oo*w)*(E*O1(oi*L+A)-I1(A));return[i+I*h,r+I*d,o*E/Xc(oi*L+A)]}}return _.duration=y*1e3,_}function Lh(t){return function(e,i){var r=t((e=Qr(e)).h,(i=Qr(i)).h),o=Lt(e.s,i.s),s=Lt(e.l,i.l),l=Lt(e.opacity,i.opacity);return function(f){return e.h=r(f),e.s=o(f),e.l=s(f),e.opacity=l(f),e+""}}}const N1=Lh(Za);var D1=Lh(Lt);function z1(t,e){var i=Lt((t=Zr(t)).l,(e=Zr(e)).l),r=Lt(t.a,e.a),o=Lt(t.b,e.b),s=Lt(t.opacity,e.opacity);return function(l){return t.l=i(l),t.a=r(l),t.b=o(l),t.opacity=s(l),t+""}}function Eh(t){return function(e,i){var r=t((e=Kr(e)).h,(i=Kr(i)).h),o=Lt(e.c,i.c),s=Lt(e.l,i.l),l=Lt(e.opacity,i.opacity);return function(f){return e.h=r(f),e.c=o(f),e.l=s(f),e.opacity=l(f),e+""}}}const F1=Eh(Za);var X1=Eh(Lt);function kh(t){return function e(i){i=+i;function r(o,s){var l=t((o=he(o)).h,(s=he(s)).h),f=Lt(o.s,s.s),h=Lt(o.l,s.l),d=Lt(o.opacity,s.opacity);return function(p){return o.h=l(p),o.s=f(p),o.l=h(Math.pow(p,i)),o.opacity=d(p),o+""}}return r.gamma=e,r}(1)}const Y1=kh(Za);var Ka=kh(Lt);function B1(t,e){for(var i=0,r=e.length-1,o=e[0],s=new Array(r<0?0:r);i<r;)s[i]=t(o,o=e[++i]);return function(l){var f=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[f](l-f)}}function H1(t,e){for(var i=new Array(e),r=0;r<e;++r)i[r]=t(r/(e-1));return i}var Un=0,_i=0,si=0,Rh=1e3,Jr,mi,ta=0,fn=0,Ja=0,Hi=typeof performance=="object"&&performance.now?performance:Date,Vh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ni(){return fn||(Vh($1),fn=Hi.now()+Ja)}function $1(){fn=0}function $i(){this._call=this._time=this._next=null}$i.prototype=to.prototype={constructor:$i,restart:function(t,e,i){if(typeof t!="function")throw new TypeError("callback is not a function");i=(i==null?ni():+i)+(e==null?0:+e),!this._next&&mi!==this&&(mi?mi._next=this:Jr=this,mi=this),this._call=t,this._time=i,Ts()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ts())}};function to(t,e,i){var r=new $i;return r.restart(t,e,i),r}function Gh(){ni(),++Un;for(var t=Jr,e;t;)(e=fn-t._time)>=0&&t._call.call(null,e),t=t._next;--Un}function Yc(){fn=(ta=Hi.now())+Ja,Un=_i=0;try{Gh()}finally{Un=0,W1(),fn=0}}function U1(){var t=Hi.now(),e=t-ta;e>Rh&&(Ja-=e,ta=t)}function W1(){for(var t,e=Jr,i,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(i=e._next,e._next=null,e=t?t._next=i:Jr=i);mi=t,Ts(r)}function Ts(t){if(!Un){_i&&(_i=clearTimeout(_i));var e=t-fn;e>24?(t<1/0&&(_i=setTimeout(Yc,t-Hi.now()-Ja)),si&&(si=clearInterval(si))):(si||(ta=Hi.now(),si=setInterval(U1,Rh)),Un=1,Vh(Yc))}}function As(t,e,i){var r=new $i;return e=e==null?0:+e,r.restart(function(o){r.stop(),t(o+e)},e,i),r}function q1(t,e,i){var r=new $i,o=e;return e==null?(r.restart(t,e,i),r):(e=+e,i=i==null?ni():+i,r.restart(function s(l){l+=o,r.restart(s,o+=e,i),t(l)},e,i),r)}var Q1=vn("start","end","cancel","interrupt"),j1=[],Ih=0,Ps=1,Cs=2,Fr=3,Bc=4,Ms=5,Xr=6;function eo(t,e,i,r,o,s){var l=t.__transition;if(!l)t.__transition={};else if(i in l)return;Z1(t,i,{name:e,index:r,group:o,on:Q1,tween:j1,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Ih})}function Cu(t,e){var i=de(t,e);if(i.state>Ih)throw new Error("too late; already scheduled");return i}function Ve(t,e){var i=de(t,e);if(i.state>Fr)throw new Error("too late; already running");return i}function de(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function Z1(t,e,i){var r=t.__transition,o;r[e]=i,i.timer=to(s,0,i.time);function s(d){i.state=Ps,i.timer.restart(l,i.delay,i.time),i.delay<=d&&l(d-i.delay)}function l(d){var p,_,y,w;if(i.state!==Ps)return h();for(p in r)if(w=r[p],w.name===i.name){if(w.state===Fr)return As(l);w.state===Bc?(w.state=Xr,w.timer.stop(),w.on.call("interrupt",t,t.__data__,w.index,w.group),delete r[p]):+p<e&&(w.state=Xr,w.timer.stop(),w.on.call("cancel",t,t.__data__,w.index,w.group),delete r[p])}if(As(function(){i.state===Fr&&(i.state=Bc,i.timer.restart(f,i.delay,i.time),f(d))}),i.state=Cs,i.on.call("start",t,t.__data__,i.index,i.group),i.state===Cs){for(i.state=Fr,o=new Array(y=i.tween.length),p=0,_=-1;p<y;++p)(w=i.tween[p].value.call(t,t.__data__,i.index,i.group))&&(o[++_]=w);o.length=_+1}}function f(d){for(var p=d<i.duration?i.ease.call(null,d/i.duration):(i.timer.restart(h),i.state=Ms,1),_=-1,y=o.length;++_<y;)o[_].call(t,p);i.state===Ms&&(i.on.call("end",t,t.__data__,i.index,i.group),h())}function h(){i.state=Xr,i.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function sn(t,e){var i=t.__transition,r,o,s=!0,l;if(i){e=e==null?null:e+"";for(l in i){if((r=i[l]).name!==e){s=!1;continue}o=r.state>Cs&&r.state<Ms,r.state=Xr,r.timer.stop(),r.on.call(o?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete i[l]}s&&delete t.__transition}}function K1(t){return this.each(function(){sn(this,t)})}function J1(t,e){var i,r;return function(){var o=Ve(this,t),s=o.tween;if(s!==i){r=i=s;for(var l=0,f=r.length;l<f;++l)if(r[l].name===e){r=r.slice(),r.splice(l,1);break}}o.tween=r}}function t_(t,e,i){var r,o;if(typeof i!="function")throw new Error;return function(){var s=Ve(this,t),l=s.tween;if(l!==r){o=(r=l).slice();for(var f={name:e,value:i},h=0,d=o.length;h<d;++h)if(o[h].name===e){o[h]=f;break}h===d&&o.push(f)}s.tween=o}}function e_(t,e){var i=this._id;if(t+="",arguments.length<2){for(var r=de(this.node(),i).tween,o=0,s=r.length,l;o<s;++o)if((l=r[o]).name===t)return l.value;return null}return this.each((e==null?J1:t_)(i,t,e))}function Mu(t,e,i){var r=t._id;return t.each(function(){var o=Ve(this,r);(o.value||(o.value={}))[e]=i.apply(this,arguments)}),function(o){return de(o,r).value[e]}}function Oh(t,e){var i;return(typeof e=="number"?ae:e instanceof Be?Bi:(i=Be(e))?(e=i,Bi):Pu)(t,e)}function n_(t){return function(){this.removeAttribute(t)}}function i_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function r_(t,e,i){var r,o=i+"",s;return function(){var l=this.getAttribute(t);return l===o?null:l===r?s:s=e(r=l,i)}}function a_(t,e,i){var r,o=i+"",s;return function(){var l=this.getAttributeNS(t.space,t.local);return l===o?null:l===r?s:s=e(r=l,i)}}function o_(t,e,i){var r,o,s;return function(){var l,f=i(this),h;return f==null?void this.removeAttribute(t):(l=this.getAttribute(t),h=f+"",l===h?null:l===r&&h===o?s:(o=h,s=e(r=l,f)))}}function s_(t,e,i){var r,o,s;return function(){var l,f=i(this),h;return f==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),h=f+"",l===h?null:l===r&&h===o?s:(o=h,s=e(r=l,f)))}}function u_(t,e){var i=rr(t),r=i==="transform"?Ch:Oh;return this.attrTween(t,typeof e=="function"?(i.local?s_:o_)(i,r,Mu(this,"attr."+t,e)):e==null?(i.local?i_:n_)(i):(i.local?a_:r_)(i,r,e))}function c_(t,e){return function(i){this.setAttribute(t,e.call(this,i))}}function l_(t,e){return function(i){this.setAttributeNS(t.space,t.local,e.call(this,i))}}function f_(t,e){var i,r;function o(){var s=e.apply(this,arguments);return s!==r&&(i=(r=s)&&l_(t,s)),i}return o._value=e,o}function h_(t,e){var i,r;function o(){var s=e.apply(this,arguments);return s!==r&&(i=(r=s)&&c_(t,s)),i}return o._value=e,o}function d_(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;var r=rr(t);return this.tween(i,(r.local?f_:h_)(r,e))}function g_(t,e){return function(){Cu(this,t).delay=+e.apply(this,arguments)}}function p_(t,e){return e=+e,function(){Cu(this,t).delay=e}}function y_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?g_:p_)(e,t)):de(this.node(),e).delay}function __(t,e){return function(){Ve(this,t).duration=+e.apply(this,arguments)}}function m_(t,e){return e=+e,function(){Ve(this,t).duration=e}}function x_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?__:m_)(e,t)):de(this.node(),e).duration}function v_(t,e){if(typeof e!="function")throw new Error;return function(){Ve(this,t).ease=e}}function w_(t){var e=this._id;return arguments.length?this.each(v_(e,t)):de(this.node(),e).ease}function b_(t){typeof t!="function"&&(t=_u(t));for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o)for(var s=e[o],l=s.length,f=r[o]=[],h,d=0;d<l;++d)(h=s[d])&&t.call(h,h.__data__,d,s)&&f.push(h);return new be(r,this._parents,this._name,this._id)}function S_(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,r=e.length,o=i.length,s=Math.min(r,o),l=new Array(r),f=0;f<s;++f)for(var h=e[f],d=i[f],p=h.length,_=l[f]=new Array(p),y,w=0;w<p;++w)(y=h[w]||d[w])&&(_[w]=y);for(;f<r;++f)l[f]=e[f];return new be(l,this._parents,this._name,this._id)}function T_(t){return(t+"").trim().split(/^|\s+/).every(function(e){var i=e.indexOf(".");return i>=0&&(e=e.slice(0,i)),!e||e==="start"})}function A_(t,e,i){var r,o,s=T_(e)?Cu:Ve;return function(){var l=s(this,t),f=l.on;f!==r&&(o=(r=f).copy()).on(e,i),l.on=o}}function P_(t,e){var i=this._id;return arguments.length<2?de(this.node(),i).on.on(t):this.each(A_(i,t,e))}function C_(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}}function M_(){return this.on("end.remove",C_(this._id))}function L_(t){var e=this._name,i=this._id;typeof t!="function"&&(t=$a(t));for(var r=this._groups,o=r.length,s=new Array(o),l=0;l<o;++l)for(var f=r[l],h=f.length,d=s[l]=new Array(h),p,_,y=0;y<h;++y)(p=f[y])&&(_=t.call(p,p.__data__,y,f))&&("__data__"in p&&(_.__data__=p.__data__),d[y]=_,eo(d[y],e,i,y,d,de(p,i)));return new be(s,this._parents,e,i)}function E_(t){var e=this._name,i=this._id;typeof t!="function"&&(t=yu(t));for(var r=this._groups,o=r.length,s=[],l=[],f=0;f<o;++f)for(var h=r[f],d=h.length,p,_=0;_<d;++_)if(p=h[_]){for(var y=t.call(p,p.__data__,_,h),w,S=de(p,i),T=0,A=y.length;T<A;++T)(w=y[T])&&eo(w,e,i,T,y,S);s.push(y),l.push(p)}return new be(s,l,e,i)}var k_=wn.prototype.constructor;function R_(){return new k_(this._groups,this._parents)}function V_(t,e){var i,r,o;return function(){var s=cn(this,t),l=(this.style.removeProperty(t),cn(this,t));return s===l?null:s===i&&l===r?o:o=e(i=s,r=l)}}function Nh(t){return function(){this.style.removeProperty(t)}}function G_(t,e,i){var r,o=i+"",s;return function(){var l=cn(this,t);return l===o?null:l===r?s:s=e(r=l,i)}}function I_(t,e,i){var r,o,s;return function(){var l=cn(this,t),f=i(this),h=f+"";return f==null&&(h=f=(this.style.removeProperty(t),cn(this,t))),l===h?null:l===r&&h===o?s:(o=h,s=e(r=l,f))}}function O_(t,e){var i,r,o,s="style."+e,l="end."+s,f;return function(){var h=Ve(this,t),d=h.on,p=h.value[s]==null?f||(f=Nh(e)):void 0;(d!==i||o!==p)&&(r=(i=d).copy()).on(l,o=p),h.on=r}}function N_(t,e,i){var r=(t+="")=="transform"?Ph:Oh;return e==null?this.styleTween(t,V_(t,r)).on("end.style."+t,Nh(t)):typeof e=="function"?this.styleTween(t,I_(t,r,Mu(this,"style."+t,e))).each(O_(this._id,t)):this.styleTween(t,G_(t,r,e),i).on("end.style."+t,null)}function D_(t,e,i){return function(r){this.style.setProperty(t,e.call(this,r),i)}}function z_(t,e,i){var r,o;function s(){var l=e.apply(this,arguments);return l!==o&&(r=(o=l)&&D_(t,l,i)),r}return s._value=e,s}function F_(t,e,i){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,z_(t,e,i??""))}function X_(t){return function(){this.textContent=t}}function Y_(t){return function(){var e=t(this);this.textContent=e??""}}function B_(t){return this.tween("text",typeof t=="function"?Y_(Mu(this,"text",t)):X_(t==null?"":t+""))}function H_(t){return function(e){this.textContent=t.call(this,e)}}function $_(t){var e,i;function r(){var o=t.apply(this,arguments);return o!==i&&(e=(i=o)&&H_(o)),e}return r._value=t,r}function U_(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,$_(t))}function W_(){for(var t=this._name,e=this._id,i=zh(),r=this._groups,o=r.length,s=0;s<o;++s)for(var l=r[s],f=l.length,h,d=0;d<f;++d)if(h=l[d]){var p=de(h,e);eo(h,t,i,d,l,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new be(r,this._parents,t,i)}function q_(){var t,e,i=this,r=i._id,o=i.size();return new Promise(function(s,l){var f={value:l},h={value:function(){--o===0&&s()}};i.each(function(){var d=Ve(this,r),p=d.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(h)),d.on=e})})}var Q_=0;function be(t,e,i,r){this._groups=t,this._parents=e,this._name=i,this._id=r}function Dh(t){return wn().transition(t)}function zh(){return++Q_}var Ln=wn.prototype;be.prototype=Dh.prototype={constructor:be,select:L_,selectAll:E_,filter:b_,merge:S_,selection:R_,transition:W_,call:Ln.call,nodes:Ln.nodes,node:Ln.node,size:Ln.size,empty:Ln.empty,each:Ln.each,on:P_,attr:u_,attrTween:d_,style:N_,styleTween:F_,text:B_,textTween:U_,remove:M_,tween:e_,delay:y_,duration:x_,ease:w_,end:q_};function j_(t){return+t}function Z_(t){return t*t}function K_(t){return t*(2-t)}function Hc(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function J_(t){return t*t*t}function tm(t){return--t*t*t+1}function Ls(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Lu=3,em=function t(e){e=+e;function i(r){return Math.pow(r,e)}return i.exponent=t,i}(Lu),nm=function t(e){e=+e;function i(r){return 1-Math.pow(1-r,e)}return i.exponent=t,i}(Lu),$c=function t(e){e=+e;function i(r){return((r*=2)<=1?Math.pow(r,e):2-Math.pow(2-r,e))/2}return i.exponent=t,i}(Lu),Fh=Math.PI,Xh=Fh/2;function im(t){return+t==1?1:1-Math.cos(t*Xh)}function rm(t){return Math.sin(t*Xh)}function Uc(t){return(1-Math.cos(Fh*t))/2}function He(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function am(t){return He(1-+t)}function om(t){return 1-He(t)}function Wc(t){return((t*=2)<=1?He(1-t):2-He(t-1))/2}function sm(t){return 1-Math.sqrt(1-t*t)}function um(t){return Math.sqrt(1- --t*t)}function qc(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Es=4/11,cm=6/11,lm=8/11,fm=3/4,hm=9/11,dm=10/11,gm=15/16,pm=21/22,ym=63/64,wr=1/Es/Es;function _m(t){return 1-Ui(1-t)}function Ui(t){return(t=+t)<Es?wr*t*t:t<lm?wr*(t-=cm)*t+fm:t<dm?wr*(t-=hm)*t+gm:wr*(t-=pm)*t+ym}function mm(t){return((t*=2)<=1?1-Ui(1-t):Ui(t-1)+1)/2}var Eu=1.70158,xm=function t(e){e=+e;function i(r){return(r=+r)*r*(e*(r-1)+r)}return i.overshoot=t,i}(Eu),vm=function t(e){e=+e;function i(r){return--r*r*((r+1)*e+r)+1}return i.overshoot=t,i}(Eu),Qc=function t(e){e=+e;function i(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return i.overshoot=t,i}(Eu),Wn=2*Math.PI,ku=1,Ru=.3,wm=function t(e,i){var r=Math.asin(1/(e=Math.max(1,e)))*(i/=Wn);function o(s){return e*He(- --s)*Math.sin((r-s)/i)}return o.amplitude=function(s){return t(s,i*Wn)},o.period=function(s){return t(e,s)},o}(ku,Ru),jc=function t(e,i){var r=Math.asin(1/(e=Math.max(1,e)))*(i/=Wn);function o(s){return 1-e*He(s=+s)*Math.sin((s+r)/i)}return o.amplitude=function(s){return t(s,i*Wn)},o.period=function(s){return t(e,s)},o}(ku,Ru),bm=function t(e,i){var r=Math.asin(1/(e=Math.max(1,e)))*(i/=Wn);function o(s){return((s=s*2-1)<0?e*He(-s)*Math.sin((r-s)/i):2-e*He(s)*Math.sin((r+s)/i))/2}return o.amplitude=function(s){return t(s,i*Wn)},o.period=function(s){return t(e,s)},o}(ku,Ru),ks={time:null,delay:0,duration:250,ease:Ls};function Sm(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))return ks.time=ni(),ks;return i}function Tm(t){var e,i;t instanceof be?(e=t._id,t=t._name):(e=zh(),(i=ks).time=ni(),t=t==null?null:t+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var l=r[s],f=l.length,h,d=0;d<f;++d)(h=l[d])&&eo(h,t,e,d,l,i||Sm(h,e));return new be(r,this._parents,t,e)}wn.prototype.interrupt=K1;wn.prototype.transition=Tm;var Am=[null];function Pm(t,e){var i=t.__transition,r,o;if(i){e=e==null?null:e+"";for(o in i)if((r=i[o]).state>Ps&&r.name===e)return new be([[t]],Am,e,+o)}return null}function No(t){return function(){return t}}function Cm(t,e,i){this.target=t,this.type=e,this.selection=i}function Zc(){K.stopImmediatePropagation()}function Do(){K.preventDefault(),K.stopImmediatePropagation()}var Kc={name:"drag"},zo={name:"space"},En={name:"handle"},kn={name:"center"};function Jc(t){return[+t[0],+t[1]]}function Rs(t){return[Jc(t[0]),Jc(t[1])]}function Mm(t){return function(e){return Fi(e,K.touches,t)}}var Yr={name:"x",handles:["w","e"].map(Wi),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Br={name:"y",handles:["n","s"].map(Wi),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Lm={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Wi),input:function(t){return t==null?null:Rs(t)},output:function(t){return t}},Ce={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},tl={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},el={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Em={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},km={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Wi(t){return{type:t}}function Rm(){return!K.ctrlKey&&!K.button}function Vm(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Gm(){return navigator.maxTouchPoints||"ontouchstart"in this}function Fo(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Im(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Om(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Nm(){return Vu(Yr)}function Dm(){return Vu(Br)}function zm(){return Vu(Lm)}function Vu(t){var e=Vm,i=Rm,r=Gm,o=!0,s=vn("start","brush","end"),l=6,f;function h(A){var C=A.property("__brush",T).selectAll(".overlay").data([Wi("overlay")]);C.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ce.overlay).merge(C).each(function(){var L=Fo(this).extent;Qt(this).attr("x",L[0][0]).attr("y",L[0][1]).attr("width",L[1][0]-L[0][0]).attr("height",L[1][1]-L[0][1])}),A.selectAll(".selection").data([Wi("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ce.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var k=A.selectAll(".handle").data(t.handles,function(L){return L.type});k.exit().remove(),k.enter().append("rect").attr("class",function(L){return"handle handle--"+L.type}).attr("cursor",function(L){return Ce[L.type]}),A.each(d).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",y).filter(r).on("touchstart.brush",y).on("touchmove.brush",w).on("touchend.brush touchcancel.brush",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}h.move=function(A,C){A.selection?A.on("start.brush",function(){p(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){p(this,arguments).end()}).tween("brush",function(){var k=this,L=k.__brush,E=p(k,arguments),I=L.selection,b=t.input(typeof C=="function"?C.apply(this,arguments):C,L.extent),z=or(I,b);function F($){L.selection=$===1&&b===null?null:z($),d.call(k),E.brush()}return I!==null&&b!==null?F:F(1)}):A.each(function(){var k=this,L=arguments,E=k.__brush,I=t.input(typeof C=="function"?C.apply(k,L):C,E.extent),b=p(k,L).beforestart();sn(k),E.selection=I===null?null:I,d.call(k),b.start().brush().end()})},h.clear=function(A){h.move(A,null)};function d(){var A=Qt(this),C=Fo(this).selection;C?(A.selectAll(".selection").style("display",null).attr("x",C[0][0]).attr("y",C[0][1]).attr("width",C[1][0]-C[0][0]).attr("height",C[1][1]-C[0][1]),A.selectAll(".handle").style("display",null).attr("x",function(k){return k.type[k.type.length-1]==="e"?C[1][0]-l/2:C[0][0]-l/2}).attr("y",function(k){return k.type[0]==="s"?C[1][1]-l/2:C[0][1]-l/2}).attr("width",function(k){return k.type==="n"||k.type==="s"?C[1][0]-C[0][0]+l:l}).attr("height",function(k){return k.type==="e"||k.type==="w"?C[1][1]-C[0][1]+l:l})):A.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function p(A,C,k){var L=A.__brush.emitter;return L&&(!k||!L.clean)?L:new _(A,C,k)}function _(A,C,k){this.that=A,this.args=C,this.state=A.__brush,this.active=0,this.clean=k}_.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return--this.active===0&&(delete this.state.emitter,this.emit("end")),this},emit:function(A){zi(new Cm(h,A,t.output(this.state.selection)),s.apply,s,[A,this.that,this.args])}};function y(){if(f&&!K.touches||!i.apply(this,arguments))return;var A=this,C=K.target.__data__.type,k=(o&&K.metaKey?C="overlay":C)==="selection"?Kc:o&&K.altKey?kn:En,L=t===Br?null:Em[C],E=t===Yr?null:km[C],I=Fo(A),b=I.extent,z=I.selection,F=b[0][0],$,W,Y=b[0][1],R,X,Q=b[1][0],n,a,u=b[1][1],c,g,m=0,v=0,x,M=L&&E&&o&&K.shiftKey,P,V,O=K.touches?Mm(K.changedTouches[0].identifier):an,H=O(A),D=H,N=p(A,arguments,!0).beforestart();C==="overlay"?(z&&(x=!0),I.selection=z=[[$=t===Br?F:H[0],R=t===Yr?Y:H[1]],[n=t===Br?Q:$,c=t===Yr?u:R]]):($=z[0][0],R=z[0][1],n=z[1][0],c=z[1][1]),W=$,X=R,a=n,g=c;var B=Qt(A).attr("pointer-events","none"),q=B.selectAll(".overlay").attr("cursor",Ce[C]);if(K.touches)N.moved=rt,N.ended=j;else{var G=Qt(K.view).on("mousemove.brush",rt,!0).on("mouseup.brush",j,!0);o&&G.on("keydown.brush",J,!0).on("keyup.brush",ht,!0),Wa(K.view)}Zc(),sn(A),d.call(A),N.start();function rt(){var et=O(A);M&&!P&&!V&&(Math.abs(et[0]-D[0])>Math.abs(et[1]-D[1])?V=!0:P=!0),D=et,x=!0,Do(),U()}function U(){var et;switch(m=D[0]-H[0],v=D[1]-H[1],k){case zo:case Kc:{L&&(m=Math.max(F-$,Math.min(Q-n,m)),W=$+m,a=n+m),E&&(v=Math.max(Y-R,Math.min(u-c,v)),X=R+v,g=c+v);break}case En:{L<0?(m=Math.max(F-$,Math.min(Q-$,m)),W=$+m,a=n):L>0&&(m=Math.max(F-n,Math.min(Q-n,m)),W=$,a=n+m),E<0?(v=Math.max(Y-R,Math.min(u-R,v)),X=R+v,g=c):E>0&&(v=Math.max(Y-c,Math.min(u-c,v)),X=R,g=c+v);break}case kn:{L&&(W=Math.max(F,Math.min(Q,$-m*L)),a=Math.max(F,Math.min(Q,n+m*L))),E&&(X=Math.max(Y,Math.min(u,R-v*E)),g=Math.max(Y,Math.min(u,c+v*E)));break}}a<W&&(L*=-1,et=$,$=n,n=et,et=W,W=a,a=et,C in tl&&q.attr("cursor",Ce[C=tl[C]])),g<X&&(E*=-1,et=R,R=c,c=et,et=X,X=g,g=et,C in el&&q.attr("cursor",Ce[C=el[C]])),I.selection&&(z=I.selection),P&&(W=z[0][0],a=z[1][0]),V&&(X=z[0][1],g=z[1][1]),(z[0][0]!==W||z[0][1]!==X||z[1][0]!==a||z[1][1]!==g)&&(I.selection=[[W,X],[a,g]],d.call(A),N.brush())}function j(){if(Zc(),K.touches){if(K.touches.length)return;f&&clearTimeout(f),f=setTimeout(function(){f=null},500)}else qa(K.view,x),G.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);B.attr("pointer-events","all"),q.attr("cursor",Ce.overlay),I.selection&&(z=I.selection),Im(z)&&(I.selection=null,d.call(A)),N.end()}function J(){switch(K.keyCode){case 16:{M=L&&E;break}case 18:{k===En&&(L&&(n=a-m*L,$=W+m*L),E&&(c=g-v*E,R=X+v*E),k=kn,U());break}case 32:{(k===En||k===kn)&&(L<0?n=a-m:L>0&&($=W-m),E<0?c=g-v:E>0&&(R=X-v),k=zo,q.attr("cursor",Ce.selection),U());break}default:return}Do()}function ht(){switch(K.keyCode){case 16:{M&&(P=V=M=!1,U());break}case 18:{k===kn&&(L<0?n=a:L>0&&($=W),E<0?c=g:E>0&&(R=X),k=En,U());break}case 32:{k===zo&&(K.altKey?(L&&(n=a-m*L,$=W+m*L),E&&(c=g-v*E,R=X+v*E),k=kn):(L<0?n=a:L>0&&($=W),E<0?c=g:E>0&&(R=X),k=En),q.attr("cursor",Ce[C]),U());break}default:return}Do()}}function w(){p(this,arguments).moved()}function S(){p(this,arguments).ended()}function T(){var A=this.__brush||{selection:null};return A.extent=Rs(e.apply(this,arguments)),A.dim=t,A}return h.extent=function(A){return arguments.length?(e=typeof A=="function"?A:No(Rs(A)),h):e},h.filter=function(A){return arguments.length?(i=typeof A=="function"?A:No(!!A),h):i},h.touchable=function(A){return arguments.length?(r=typeof A=="function"?A:No(!!A),h):r},h.handleSize=function(A){return arguments.length?(l=+A,h):l},h.keyModifiers=function(A){return arguments.length?(o=!!A,h):o},h.on=function(){var A=s.on.apply(s,arguments);return A===s?h:A},h}var nl=Math.cos,il=Math.sin,Yh=Math.PI,br=Yh/2,rl=Yh*2,al=Math.max;function Fm(t){return function(e,i){return t(e.source.value+e.target.value,i.source.value+i.target.value)}}function Xm(){var t=0,e=null,i=null,r=null;function o(s){var l=s.length,f=[],h=te(l),d=[],p=[],_=p.groups=new Array(l),y=new Array(l*l),w,S,T,A,C,k;for(w=0,C=-1;++C<l;){for(S=0,k=-1;++k<l;)S+=s[C][k];f.push(S),d.push(te(l)),w+=S}for(e&&h.sort(function(W,Y){return e(f[W],f[Y])}),i&&d.forEach(function(W,Y){W.sort(function(R,X){return i(s[Y][R],s[Y][X])})}),w=al(0,rl-t*l)/w,A=w?t:rl/l,S=0,C=-1;++C<l;){for(T=S,k=-1;++k<l;){var L=h[C],E=d[L][k],I=s[L][E],b=S,z=S+=I*w;y[E*l+L]={index:L,subindex:E,startAngle:b,endAngle:z,value:I}}_[L]={index:L,startAngle:T,endAngle:S,value:f[L]},S+=A}for(C=-1;++C<l;)for(k=C-1;++k<l;){var F=y[k*l+C],$=y[C*l+k];(F.value||$.value)&&p.push(F.value<$.value?{source:$,target:F}:{source:F,target:$})}return r?p.sort(r):p}return o.padAngle=function(s){return arguments.length?(t=al(0,s),o):t},o.sortGroups=function(s){return arguments.length?(e=s,o):e},o.sortSubgroups=function(s){return arguments.length?(i=s,o):i},o.sortChords=function(s){return arguments.length?(s==null?r=null:(r=Fm(s))._=s,o):r&&r._},o}var Ym=Array.prototype.slice;function Xo(t){return function(){return t}}var Vs=Math.PI,Gs=2*Vs,en=1e-6,Bm=Gs-en;function Is(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Qe(){return new Is}Is.prototype=Qe.prototype={constructor:Is,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,i,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+i)+","+(this._y1=+r)},bezierCurveTo:function(t,e,i,r,o,s){this._+="C"+ +t+","+ +e+","+ +i+","+ +r+","+(this._x1=+o)+","+(this._y1=+s)},arcTo:function(t,e,i,r,o){t=+t,e=+e,i=+i,r=+r,o=+o;var s=this._x1,l=this._y1,f=i-t,h=r-e,d=s-t,p=l-e,_=d*d+p*p;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(_>en)if(!(Math.abs(p*f-h*d)>en)||!o)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var y=i-s,w=r-l,S=f*f+h*h,T=y*y+w*w,A=Math.sqrt(S),C=Math.sqrt(_),k=o*Math.tan((Vs-Math.acos((S+_-T)/(2*A*C)))/2),L=k/C,E=k/A;Math.abs(L-1)>en&&(this._+="L"+(t+L*d)+","+(e+L*p)),this._+="A"+o+","+o+",0,0,"+ +(p*y>d*w)+","+(this._x1=t+E*f)+","+(this._y1=e+E*h)}},arc:function(t,e,i,r,o,s){t=+t,e=+e,i=+i,s=!!s;var l=i*Math.cos(r),f=i*Math.sin(r),h=t+l,d=e+f,p=1^s,_=s?r-o:o-r;if(i<0)throw new Error("negative radius: "+i);this._x1===null?this._+="M"+h+","+d:(Math.abs(this._x1-h)>en||Math.abs(this._y1-d)>en)&&(this._+="L"+h+","+d),i&&(_<0&&(_=_%Gs+Gs),_>Bm?this._+="A"+i+","+i+",0,1,"+p+","+(t-l)+","+(e-f)+"A"+i+","+i+",0,1,"+p+","+(this._x1=h)+","+(this._y1=d):_>en&&(this._+="A"+i+","+i+",0,"+ +(_>=Vs)+","+p+","+(this._x1=t+i*Math.cos(o))+","+(this._y1=e+i*Math.sin(o))))},rect:function(t,e,i,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +i+"v"+ +r+"h"+-i+"Z"},toString:function(){return this._}};function Hm(t){return t.source}function $m(t){return t.target}function Um(t){return t.radius}function Wm(t){return t.startAngle}function qm(t){return t.endAngle}function Qm(){var t=Hm,e=$m,i=Um,r=Wm,o=qm,s=null;function l(){var f,h=Ym.call(arguments),d=t.apply(this,h),p=e.apply(this,h),_=+i.apply(this,(h[0]=d,h)),y=r.apply(this,h)-br,w=o.apply(this,h)-br,S=_*nl(y),T=_*il(y),A=+i.apply(this,(h[0]=p,h)),C=r.apply(this,h)-br,k=o.apply(this,h)-br;if(s||(s=f=Qe()),s.moveTo(S,T),s.arc(0,0,_,y,w),(y!==C||w!==k)&&(s.quadraticCurveTo(0,0,A*nl(C),A*il(C)),s.arc(0,0,A,C,k)),s.quadraticCurveTo(0,0,S,T),s.closePath(),f)return s=null,f+""||null}return l.radius=function(f){return arguments.length?(i=typeof f=="function"?f:Xo(+f),l):i},l.startAngle=function(f){return arguments.length?(r=typeof f=="function"?f:Xo(+f),l):r},l.endAngle=function(f){return arguments.length?(o=typeof f=="function"?f:Xo(+f),l):o},l.source=function(f){return arguments.length?(t=f,l):t},l.target=function(f){return arguments.length?(e=f,l):e},l.context=function(f){return arguments.length?(s=f??null,l):s},l}var re="$";function ea(){}ea.prototype=ke.prototype={constructor:ea,has:function(t){return re+t in this},get:function(t){return this[re+t]},set:function(t,e){return this[re+t]=e,this},remove:function(t){var e=re+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===re&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===re&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===re&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===re&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===re&&++t;return t},empty:function(){for(var t in this)if(t[0]===re)return!1;return!0},each:function(t){for(var e in this)e[0]===re&&t(this[e],e.slice(1),this)}};function ke(t,e){var i=new ea;if(t instanceof ea)t.each(function(f,h){i.set(h,f)});else if(Array.isArray(t)){var r=-1,o=t.length,s;if(e==null)for(;++r<o;)i.set(r,t[r]);else for(;++r<o;)i.set(e(s=t[r],r,t),s)}else if(t)for(var l in t)i.set(l,t[l]);return i}function jm(){var t=[],e=[],i,r,o;function s(f,h,d,p){if(h>=t.length)return i!=null&&f.sort(i),r!=null?r(f):f;for(var _=-1,y=f.length,w=t[h++],S,T,A=ke(),C,k=d();++_<y;)(C=A.get(S=w(T=f[_])+""))?C.push(T):A.set(S,[T]);return A.each(function(L,E){p(k,E,s(L,h,d,p))}),k}function l(f,h){if(++h>t.length)return f;var d,p=e[h-1];return r!=null&&h>=t.length?d=f.entries():(d=[],f.each(function(_,y){d.push({key:y,values:l(_,h)})})),p!=null?d.sort(function(_,y){return p(_.key,y.key)}):d}return o={object:function(f){return s(f,0,Zm,Km)},map:function(f){return s(f,0,ol,sl)},entries:function(f){return l(s(f,0,ol,sl),0)},key:function(f){return t.push(f),o},sortKeys:function(f){return e[t.length-1]=f,o},sortValues:function(f){return i=f,o},rollup:function(f){return r=f,o}}}function Zm(){return{}}function Km(t,e,i){t[e]=i}function ol(){return ke()}function sl(t,e,i){t.set(e,i)}function na(){}var Je=ke.prototype;na.prototype=Bh.prototype={constructor:na,has:Je.has,add:function(t){return t+="",this[re+t]=t,this},remove:Je.remove,clear:Je.clear,values:Je.keys,size:Je.size,empty:Je.empty,each:Je.each};function Bh(t,e){var i=new na;if(t instanceof na)t.each(function(s){i.add(s)});else if(t){var r=-1,o=t.length;if(e==null)for(;++r<o;)i.add(t[r]);else for(;++r<o;)i.add(e(t[r],r,t))}return i}function Jm(t){var e=[];for(var i in t)e.push(i);return e}function tx(t){var e=[];for(var i in t)e.push(t[i]);return e}function ex(t){var e=[];for(var i in t)e.push({key:i,value:t[i]});return e}var nx=Array.prototype,Hh=nx.slice;function ix(t,e){return t-e}function rx(t){for(var e=0,i=t.length,r=t[i-1][1]*t[0][0]-t[i-1][0]*t[0][1];++e<i;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}function Oe(t){return function(){return t}}function ax(t,e){for(var i=-1,r=e.length,o;++i<r;)if(o=ox(t,e[i]))return o;return 0}function ox(t,e){for(var i=e[0],r=e[1],o=-1,s=0,l=t.length,f=l-1;s<l;f=s++){var h=t[s],d=h[0],p=h[1],_=t[f],y=_[0],w=_[1];if(sx(h,_,e))return 0;p>r!=w>r&&i<(y-d)*(r-p)/(w-p)+d&&(o=-o)}return o}function sx(t,e,i){var r;return ux(t,e,i)&&cx(t[r=+(t[0]===e[0])],i[r],e[r])}function ux(t,e,i){return(e[0]-t[0])*(i[1]-t[1])===(i[0]-t[0])*(e[1]-t[1])}function cx(t,e,i){return t<=e&&e<=i||i<=e&&e<=t}function lx(){}var Me=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function $h(){var t=1,e=1,i=gu,r=h;function o(d){var p=i(d);if(Array.isArray(p))p=p.slice().sort(ix);else{var _=hu(d),y=_[0],w=_[1];p=un(y,w,p),p=te(Math.floor(y/p)*p,Math.floor(w/p)*p,p)}return p.map(function(S){return s(d,S)})}function s(d,p){var _=[],y=[];return l(d,p,function(w){r(w,d,p),rx(w)>0?_.push([w]):y.push(w)}),y.forEach(function(w){for(var S=0,T=_.length,A;S<T;++S)if(ax((A=_[S])[0],w)!==-1){A.push(w);return}}),{type:"MultiPolygon",value:p,coordinates:_}}function l(d,p,_){var y=new Array,w=new Array,S,T,A,C,k,L;for(S=T=-1,C=d[0]>=p,Me[C<<1].forEach(E);++S<t-1;)A=C,C=d[S+1]>=p,Me[A|C<<1].forEach(E);for(Me[C<<0].forEach(E);++T<e-1;){for(S=-1,C=d[T*t+t]>=p,k=d[T*t]>=p,Me[C<<1|k<<2].forEach(E);++S<t-1;)A=C,C=d[T*t+t+S+1]>=p,L=k,k=d[T*t+S+1]>=p,Me[A|C<<1|k<<2|L<<3].forEach(E);Me[C|k<<3].forEach(E)}for(S=-1,k=d[T*t]>=p,Me[k<<2].forEach(E);++S<t-1;)L=k,k=d[T*t+S+1]>=p,Me[k<<2|L<<3].forEach(E);Me[k<<3].forEach(E);function E(I){var b=[I[0][0]+S,I[0][1]+T],z=[I[1][0]+S,I[1][1]+T],F=f(b),$=f(z),W,Y;(W=w[F])?(Y=y[$])?(delete w[W.end],delete y[Y.start],W===Y?(W.ring.push(z),_(W.ring)):y[W.start]=w[Y.end]={start:W.start,end:Y.end,ring:W.ring.concat(Y.ring)}):(delete w[W.end],W.ring.push(z),w[W.end=$]=W):(W=y[$])?(Y=w[F])?(delete y[W.start],delete w[Y.end],W===Y?(W.ring.push(z),_(W.ring)):y[Y.start]=w[W.end]={start:Y.start,end:W.end,ring:Y.ring.concat(W.ring)}):(delete y[W.start],W.ring.unshift(b),y[W.start=F]=W):y[F]=w[$]={start:F,end:$,ring:[b,z]}}}function f(d){return d[0]*2+d[1]*(t+1)*4}function h(d,p,_){d.forEach(function(y){var w=y[0],S=y[1],T=w|0,A=S|0,C,k=p[A*t+T];w>0&&w<t&&T===w&&(C=p[A*t+T-1],y[0]=w+(_-C)/(k-C)-.5),S>0&&S<e&&A===S&&(C=p[(A-1)*t+T],y[1]=S+(_-C)/(k-C)-.5)})}return o.contour=s,o.size=function(d){if(!arguments.length)return[t,e];var p=Math.ceil(d[0]),_=Math.ceil(d[1]);if(!(p>0)||!(_>0))throw new Error("invalid size");return t=p,e=_,o},o.thresholds=function(d){return arguments.length?(i=typeof d=="function"?d:Array.isArray(d)?Oe(Hh.call(d)):Oe(d),o):i},o.smooth=function(d){return arguments.length?(r=d?h:lx,o):r===h},o}function Yo(t,e,i){for(var r=t.width,o=t.height,s=(i<<1)+1,l=0;l<o;++l)for(var f=0,h=0;f<r+i;++f)f<r&&(h+=t.data[f+l*r]),f>=i&&(f>=s&&(h-=t.data[f-s+l*r]),e.data[f-i+l*r]=h/Math.min(f+1,r-1+s-f,s))}function Bo(t,e,i){for(var r=t.width,o=t.height,s=(i<<1)+1,l=0;l<r;++l)for(var f=0,h=0;f<o+i;++f)f<o&&(h+=t.data[l+f*r]),f>=i&&(f>=s&&(h-=t.data[l+(f-s)*r]),e.data[l+(f-i)*r]=h/Math.min(f+1,o-1+s-f,s))}function fx(t){return t[0]}function hx(t){return t[1]}function dx(){return 1}function gx(){var t=fx,e=hx,i=dx,r=960,o=500,s=20,l=2,f=s*3,h=r+f*2>>l,d=o+f*2>>l,p=Oe(20);function _(C){var k=new Float32Array(h*d),L=new Float32Array(h*d);C.forEach(function(b,z,F){var $=+t(b,z,F)+f>>l,W=+e(b,z,F)+f>>l,Y=+i(b,z,F);$>=0&&$<h&&W>=0&&W<d&&(k[$+W*h]+=Y)}),Yo({width:h,height:d,data:k},{width:h,height:d,data:L},s>>l),Bo({width:h,height:d,data:L},{width:h,height:d,data:k},s>>l),Yo({width:h,height:d,data:k},{width:h,height:d,data:L},s>>l),Bo({width:h,height:d,data:L},{width:h,height:d,data:k},s>>l),Yo({width:h,height:d,data:k},{width:h,height:d,data:L},s>>l),Bo({width:h,height:d,data:L},{width:h,height:d,data:k},s>>l);var E=p(k);if(!Array.isArray(E)){var I=Bf(k);E=un(0,I,E),E=te(0,Math.floor(I/E)*E,E),E.shift()}return $h().thresholds(E).size([h,d])(k).map(y)}function y(C){return C.value*=Math.pow(2,-2*l),C.coordinates.forEach(w),C}function w(C){C.forEach(S)}function S(C){C.forEach(T)}function T(C){C[0]=C[0]*Math.pow(2,l)-f,C[1]=C[1]*Math.pow(2,l)-f}function A(){return f=s*3,h=r+f*2>>l,d=o+f*2>>l,_}return _.x=function(C){return arguments.length?(t=typeof C=="function"?C:Oe(+C),_):t},_.y=function(C){return arguments.length?(e=typeof C=="function"?C:Oe(+C),_):e},_.weight=function(C){return arguments.length?(i=typeof C=="function"?C:Oe(+C),_):i},_.size=function(C){if(!arguments.length)return[r,o];var k=Math.ceil(C[0]),L=Math.ceil(C[1]);if(!(k>=0)&&!(k>=0))throw new Error("invalid size");return r=k,o=L,A()},_.cellSize=function(C){if(!arguments.length)return 1<<l;if(!((C=+C)>=1))throw new Error("invalid cell size");return l=Math.floor(Math.log(C)/Math.LN2),A()},_.thresholds=function(C){return arguments.length?(p=typeof C=="function"?C:Array.isArray(C)?Oe(Hh.call(C)):Oe(C),_):p},_.bandwidth=function(C){if(!arguments.length)return Math.sqrt(s*(s+1));if(!((C=+C)>=0))throw new Error("invalid bandwidth");return s=Math.round((Math.sqrt(4*C*C+1)-1)/2),A()},_}var ul={},Ho={},$o=34,ui=10,Uo=13;function Uh(t){return new Function("d","return {"+t.map(function(e,i){return JSON.stringify(e)+": d["+i+'] || ""'}).join(",")+"}")}function px(t,e){var i=Uh(t);return function(r,o){return e(i(r),o,t)}}function cl(t){var e=Object.create(null),i=[];return t.forEach(function(r){for(var o in r)o in e||i.push(e[o]=o)}),i}function Wt(t,e){var i=t+"",r=i.length;return r<e?new Array(e-r+1).join(0)+i:i}function yx(t){return t<0?"-"+Wt(-t,6):t>9999?"+"+Wt(t,6):Wt(t,4)}function _x(t){var e=t.getUTCHours(),i=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":yx(t.getUTCFullYear())+"-"+Wt(t.getUTCMonth()+1,2)+"-"+Wt(t.getUTCDate(),2)+(o?"T"+Wt(e,2)+":"+Wt(i,2)+":"+Wt(r,2)+"."+Wt(o,3)+"Z":r?"T"+Wt(e,2)+":"+Wt(i,2)+":"+Wt(r,2)+"Z":i||e?"T"+Wt(e,2)+":"+Wt(i,2)+"Z":"")}function no(t){var e=new RegExp('["'+t+`
\r]`),i=t.charCodeAt(0);function r(_,y){var w,S,T=o(_,function(A,C){if(w)return w(A,C-1);S=A,w=y?px(A,y):Uh(A)});return T.columns=S||[],T}function o(_,y){var w=[],S=_.length,T=0,A=0,C,k=S<=0,L=!1;_.charCodeAt(S-1)===ui&&--S,_.charCodeAt(S-1)===Uo&&--S;function E(){if(k)return Ho;if(L)return L=!1,ul;var b,z=T,F;if(_.charCodeAt(z)===$o){for(;T++<S&&_.charCodeAt(T)!==$o||_.charCodeAt(++T)===$o;);return(b=T)>=S?k=!0:(F=_.charCodeAt(T++))===ui?L=!0:F===Uo&&(L=!0,_.charCodeAt(T)===ui&&++T),_.slice(z+1,b-1).replace(/""/g,'"')}for(;T<S;){if((F=_.charCodeAt(b=T++))===ui)L=!0;else if(F===Uo)L=!0,_.charCodeAt(T)===ui&&++T;else if(F!==i)continue;return _.slice(z,b)}return k=!0,_.slice(z,S)}for(;(C=E())!==Ho;){for(var I=[];C!==ul&&C!==Ho;)I.push(C),C=E();y&&(I=y(I,A++))==null||w.push(I)}return w}function s(_,y){return _.map(function(w){return y.map(function(S){return p(w[S])}).join(t)})}function l(_,y){return y==null&&(y=cl(_)),[y.map(p).join(t)].concat(s(_,y)).join(`
`)}function f(_,y){return y==null&&(y=cl(_)),s(_,y).join(`
`)}function h(_){return _.map(d).join(`
`)}function d(_){return _.map(p).join(t)}function p(_){return _==null?"":_ instanceof Date?_x(_):e.test(_+="")?'"'+_.replace(/"/g,'""')+'"':_}return{parse:r,parseRows:o,format:l,formatBody:f,formatRows:h,formatRow:d,formatValue:p}}var bn=no(","),Wh=bn.parse,mx=bn.parseRows,xx=bn.format,vx=bn.formatBody,wx=bn.formatRows,bx=bn.formatRow,Sx=bn.formatValue,Sn=no("	"),qh=Sn.parse,Tx=Sn.parseRows,Ax=Sn.format,Px=Sn.formatBody,Cx=Sn.formatRows,Mx=Sn.formatRow,Lx=Sn.formatValue;function Ex(t){for(var e in t){var i=t[e].trim(),r,o;if(!i)i=null;else if(i==="true")i=!0;else if(i==="false")i=!1;else if(i==="NaN")i=NaN;else if(!isNaN(r=+i))i=r;else if(o=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))kx&&o[4]&&!o[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i);else continue;t[e]=i}return t}var kx=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Rx(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function Vx(t,e){return fetch(t,e).then(Rx)}function Gx(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Ix(t,e){return fetch(t,e).then(Gx)}function Ox(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function io(t,e){return fetch(t,e).then(Ox)}function Qh(t){return function(e,i,r){return arguments.length===2&&typeof i=="function"&&(r=i,i=void 0),io(e,i).then(function(o){return t(o,r)})}}function Nx(t,e,i,r){arguments.length===3&&typeof i=="function"&&(r=i,i=void 0);var o=no(t);return io(e,i).then(function(s){return o.parse(s,r)})}var Dx=Qh(Wh),zx=Qh(qh);function Fx(t,e){return new Promise(function(i,r){var o=new Image;for(var s in e)o[s]=e[s];o.onerror=r,o.onload=function(){i(o)},o.src=t})}function Xx(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function Yx(t,e){return fetch(t,e).then(Xx)}function Gu(t){return function(e,i){return io(e,i).then(function(r){return new DOMParser().parseFromString(r,t)})}}const Bx=Gu("application/xml");var Hx=Gu("text/html"),$x=Gu("image/svg+xml");function Ux(t,e){var i;t==null&&(t=0),e==null&&(e=0);function r(){var o,s=i.length,l,f=0,h=0;for(o=0;o<s;++o)l=i[o],f+=l.x,h+=l.y;for(f=f/s-t,h=h/s-e,o=0;o<s;++o)l=i[o],l.x-=f,l.y-=h}return r.initialize=function(o){i=o},r.x=function(o){return arguments.length?(t=+o,r):t},r.y=function(o){return arguments.length?(e=+o,r):e},r}function Ct(t){return function(){return t}}function ze(){return(Math.random()-.5)*1e-6}function Wx(t){var e=+this._x.call(null,t),i=+this._y.call(null,t);return jh(this.cover(e,i),e,i,t)}function jh(t,e,i,r){if(isNaN(e)||isNaN(i))return t;var o,s=t._root,l={data:r},f=t._x0,h=t._y0,d=t._x1,p=t._y1,_,y,w,S,T,A,C,k;if(!s)return t._root=l,t;for(;s.length;)if((T=e>=(_=(f+d)/2))?f=_:d=_,(A=i>=(y=(h+p)/2))?h=y:p=y,o=s,!(s=s[C=A<<1|T]))return o[C]=l,t;if(w=+t._x.call(null,s.data),S=+t._y.call(null,s.data),e===w&&i===S)return l.next=s,o?o[C]=l:t._root=l,t;do o=o?o[C]=new Array(4):t._root=new Array(4),(T=e>=(_=(f+d)/2))?f=_:d=_,(A=i>=(y=(h+p)/2))?h=y:p=y;while((C=A<<1|T)===(k=(S>=y)<<1|w>=_));return o[k]=s,o[C]=l,t}function qx(t){var e,i,r=t.length,o,s,l=new Array(r),f=new Array(r),h=1/0,d=1/0,p=-1/0,_=-1/0;for(i=0;i<r;++i)isNaN(o=+this._x.call(null,e=t[i]))||isNaN(s=+this._y.call(null,e))||(l[i]=o,f[i]=s,o<h&&(h=o),o>p&&(p=o),s<d&&(d=s),s>_&&(_=s));if(h>p||d>_)return this;for(this.cover(h,d).cover(p,_),i=0;i<r;++i)jh(this,l[i],f[i],t[i]);return this}function Qx(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var i=this._x0,r=this._y0,o=this._x1,s=this._y1;if(isNaN(i))o=(i=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var l=o-i,f=this._root,h,d;i>t||t>=o||r>e||e>=s;)switch(d=(e<r)<<1|t<i,h=new Array(4),h[d]=f,f=h,l*=2,d){case 0:o=i+l,s=r+l;break;case 1:i=o-l,s=r+l;break;case 2:o=i+l,r=s-l;break;case 3:i=o-l,r=s-l;break}this._root&&this._root.length&&(this._root=f)}return this._x0=i,this._y0=r,this._x1=o,this._y1=s,this}function jx(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function Zx(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Xt(t,e,i,r,o){this.node=t,this.x0=e,this.y0=i,this.x1=r,this.y1=o}function Kx(t,e,i){var r,o=this._x0,s=this._y0,l,f,h,d,p=this._x1,_=this._y1,y=[],w=this._root,S,T;for(w&&y.push(new Xt(w,o,s,p,_)),i==null?i=1/0:(o=t-i,s=e-i,p=t+i,_=e+i,i*=i);S=y.pop();)if(!(!(w=S.node)||(l=S.x0)>p||(f=S.y0)>_||(h=S.x1)<o||(d=S.y1)<s))if(w.length){var A=(l+h)/2,C=(f+d)/2;y.push(new Xt(w[3],A,C,h,d),new Xt(w[2],l,C,A,d),new Xt(w[1],A,f,h,C),new Xt(w[0],l,f,A,C)),(T=(e>=C)<<1|t>=A)&&(S=y[y.length-1],y[y.length-1]=y[y.length-1-T],y[y.length-1-T]=S)}else{var k=t-+this._x.call(null,w.data),L=e-+this._y.call(null,w.data),E=k*k+L*L;if(E<i){var I=Math.sqrt(i=E);o=t-I,s=e-I,p=t+I,_=e+I,r=w.data}}return r}function Jx(t){if(isNaN(p=+this._x.call(null,t))||isNaN(_=+this._y.call(null,t)))return this;var e,i=this._root,r,o,s,l=this._x0,f=this._y0,h=this._x1,d=this._y1,p,_,y,w,S,T,A,C;if(!i)return this;if(i.length)for(;;){if((S=p>=(y=(l+h)/2))?l=y:h=y,(T=_>=(w=(f+d)/2))?f=w:d=w,e=i,!(i=i[A=T<<1|S]))return this;if(!i.length)break;(e[A+1&3]||e[A+2&3]||e[A+3&3])&&(r=e,C=A)}for(;i.data!==t;)if(o=i,!(i=i.next))return this;return(s=i.next)&&delete i.next,o?(s?o.next=s:delete o.next,this):e?(s?e[A]=s:delete e[A],(i=e[0]||e[1]||e[2]||e[3])&&i===(e[3]||e[2]||e[1]||e[0])&&!i.length&&(r?r[C]=i:this._root=i),this):(this._root=s,this)}function tv(t){for(var e=0,i=t.length;e<i;++e)this.remove(t[e]);return this}function ev(){return this._root}function nv(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function iv(t){var e=[],i,r=this._root,o,s,l,f,h;for(r&&e.push(new Xt(r,this._x0,this._y0,this._x1,this._y1));i=e.pop();)if(!t(r=i.node,s=i.x0,l=i.y0,f=i.x1,h=i.y1)&&r.length){var d=(s+f)/2,p=(l+h)/2;(o=r[3])&&e.push(new Xt(o,d,p,f,h)),(o=r[2])&&e.push(new Xt(o,s,p,d,h)),(o=r[1])&&e.push(new Xt(o,d,l,f,p)),(o=r[0])&&e.push(new Xt(o,s,l,d,p))}return this}function rv(t){var e=[],i=[],r;for(this._root&&e.push(new Xt(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var o=r.node;if(o.length){var s,l=r.x0,f=r.y0,h=r.x1,d=r.y1,p=(l+h)/2,_=(f+d)/2;(s=o[0])&&e.push(new Xt(s,l,f,p,_)),(s=o[1])&&e.push(new Xt(s,p,f,h,_)),(s=o[2])&&e.push(new Xt(s,l,_,p,d)),(s=o[3])&&e.push(new Xt(s,p,_,h,d))}i.push(r)}for(;r=i.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function av(t){return t[0]}function ov(t){return arguments.length?(this._x=t,this):this._x}function sv(t){return t[1]}function uv(t){return arguments.length?(this._y=t,this):this._y}function ro(t,e,i){var r=new Iu(e??av,i??sv,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function Iu(t,e,i,r,o,s){this._x=t,this._y=e,this._x0=i,this._y0=r,this._x1=o,this._y1=s,this._root=void 0}function ll(t){for(var e={data:t.data},i=e;t=t.next;)i=i.next={data:t.data};return e}var Ut=ro.prototype=Iu.prototype;Ut.copy=function(){var t=new Iu(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,i,r;if(!e)return t;if(!e.length)return t._root=ll(e),t;for(i=[{source:e,target:t._root=new Array(4)}];e=i.pop();)for(var o=0;o<4;++o)(r=e.source[o])&&(r.length?i.push({source:r,target:e.target[o]=new Array(4)}):e.target[o]=ll(r));return t};Ut.add=Wx;Ut.addAll=qx;Ut.cover=Qx;Ut.data=jx;Ut.extent=Zx;Ut.find=Kx;Ut.remove=Jx;Ut.removeAll=tv;Ut.root=ev;Ut.size=nv;Ut.visit=iv;Ut.visitAfter=rv;Ut.x=ov;Ut.y=uv;function cv(t){return t.x+t.vx}function lv(t){return t.y+t.vy}function fv(t){var e,i,r=1,o=1;typeof t!="function"&&(t=Ct(t==null?1:+t));function s(){for(var h,d=e.length,p,_,y,w,S,T,A=0;A<o;++A)for(p=ro(e,cv,lv).visitAfter(l),h=0;h<d;++h)_=e[h],S=i[_.index],T=S*S,y=_.x+_.vx,w=_.y+_.vy,p.visit(C);function C(k,L,E,I,b){var z=k.data,F=k.r,$=S+F;if(z){if(z.index>_.index){var W=y-z.x-z.vx,Y=w-z.y-z.vy,R=W*W+Y*Y;R<$*$&&(W===0&&(W=ze(),R+=W*W),Y===0&&(Y=ze(),R+=Y*Y),R=($-(R=Math.sqrt(R)))/R*r,_.vx+=(W*=R)*($=(F*=F)/(T+F)),_.vy+=(Y*=R)*$,z.vx-=W*($=1-$),z.vy-=Y*$)}return}return L>y+$||I<y-$||E>w+$||b<w-$}}function l(h){if(h.data)return h.r=i[h.data.index];for(var d=h.r=0;d<4;++d)h[d]&&h[d].r>h.r&&(h.r=h[d].r)}function f(){if(e){var h,d=e.length,p;for(i=new Array(d),h=0;h<d;++h)p=e[h],i[p.index]=+t(p,h,e)}}return s.initialize=function(h){e=h,f()},s.iterations=function(h){return arguments.length?(o=+h,s):o},s.strength=function(h){return arguments.length?(r=+h,s):r},s.radius=function(h){return arguments.length?(t=typeof h=="function"?h:Ct(+h),f(),s):t},s}function hv(t){return t.index}function fl(t,e){var i=t.get(e);if(!i)throw new Error("missing: "+e);return i}function dv(t){var e=hv,i=p,r,o=Ct(30),s,l,f,h,d=1;t==null&&(t=[]);function p(T){return 1/Math.min(f[T.source.index],f[T.target.index])}function _(T){for(var A=0,C=t.length;A<d;++A)for(var k=0,L,E,I,b,z,F,$;k<C;++k)L=t[k],E=L.source,I=L.target,b=I.x+I.vx-E.x-E.vx||ze(),z=I.y+I.vy-E.y-E.vy||ze(),F=Math.sqrt(b*b+z*z),F=(F-s[k])/F*T*r[k],b*=F,z*=F,I.vx-=b*($=h[k]),I.vy-=z*$,E.vx+=b*($=1-$),E.vy+=z*$}function y(){if(l){var T,A=l.length,C=t.length,k=ke(l,e),L;for(T=0,f=new Array(A);T<C;++T)L=t[T],L.index=T,typeof L.source!="object"&&(L.source=fl(k,L.source)),typeof L.target!="object"&&(L.target=fl(k,L.target)),f[L.source.index]=(f[L.source.index]||0)+1,f[L.target.index]=(f[L.target.index]||0)+1;for(T=0,h=new Array(C);T<C;++T)L=t[T],h[T]=f[L.source.index]/(f[L.source.index]+f[L.target.index]);r=new Array(C),w(),s=new Array(C),S()}}function w(){if(l)for(var T=0,A=t.length;T<A;++T)r[T]=+i(t[T],T,t)}function S(){if(l)for(var T=0,A=t.length;T<A;++T)s[T]=+o(t[T],T,t)}return _.initialize=function(T){l=T,y()},_.links=function(T){return arguments.length?(t=T,y(),_):t},_.id=function(T){return arguments.length?(e=T,_):e},_.iterations=function(T){return arguments.length?(d=+T,_):d},_.strength=function(T){return arguments.length?(i=typeof T=="function"?T:Ct(+T),w(),_):i},_.distance=function(T){return arguments.length?(o=typeof T=="function"?T:Ct(+T),S(),_):o},_}function gv(t){return t.x}function pv(t){return t.y}var yv=10,_v=Math.PI*(3-Math.sqrt(5));function mv(t){var e,i=1,r=.001,o=1-Math.pow(r,1/300),s=0,l=.6,f=ke(),h=to(p),d=vn("tick","end");t==null&&(t=[]);function p(){_(),d.call("tick",e),i<r&&(h.stop(),d.call("end",e))}function _(S){var T,A=t.length,C;S===void 0&&(S=1);for(var k=0;k<S;++k)for(i+=(s-i)*o,f.each(function(L){L(i)}),T=0;T<A;++T)C=t[T],C.fx==null?C.x+=C.vx*=l:(C.x=C.fx,C.vx=0),C.fy==null?C.y+=C.vy*=l:(C.y=C.fy,C.vy=0);return e}function y(){for(var S=0,T=t.length,A;S<T;++S){if(A=t[S],A.index=S,A.fx!=null&&(A.x=A.fx),A.fy!=null&&(A.y=A.fy),isNaN(A.x)||isNaN(A.y)){var C=yv*Math.sqrt(S),k=S*_v;A.x=C*Math.cos(k),A.y=C*Math.sin(k)}(isNaN(A.vx)||isNaN(A.vy))&&(A.vx=A.vy=0)}}function w(S){return S.initialize&&S.initialize(t),S}return y(),e={tick:_,restart:function(){return h.restart(p),e},stop:function(){return h.stop(),e},nodes:function(S){return arguments.length?(t=S,y(),f.each(w),e):t},alpha:function(S){return arguments.length?(i=+S,e):i},alphaMin:function(S){return arguments.length?(r=+S,e):r},alphaDecay:function(S){return arguments.length?(o=+S,e):+o},alphaTarget:function(S){return arguments.length?(s=+S,e):s},velocityDecay:function(S){return arguments.length?(l=1-S,e):1-l},force:function(S,T){return arguments.length>1?(T==null?f.remove(S):f.set(S,w(T)),e):f.get(S)},find:function(S,T,A){var C=0,k=t.length,L,E,I,b,z;for(A==null?A=1/0:A*=A,C=0;C<k;++C)b=t[C],L=S-b.x,E=T-b.y,I=L*L+E*E,I<A&&(z=b,A=I);return z},on:function(S,T){return arguments.length>1?(d.on(S,T),e):d.on(S)}}}function xv(){var t,e,i,r=Ct(-30),o,s=1,l=1/0,f=.81;function h(y){var w,S=t.length,T=ro(t,gv,pv).visitAfter(p);for(i=y,w=0;w<S;++w)e=t[w],T.visit(_)}function d(){if(t){var y,w=t.length,S;for(o=new Array(w),y=0;y<w;++y)S=t[y],o[S.index]=+r(S,y,t)}}function p(y){var w=0,S,T,A=0,C,k,L;if(y.length){for(C=k=L=0;L<4;++L)(S=y[L])&&(T=Math.abs(S.value))&&(w+=S.value,A+=T,C+=T*S.x,k+=T*S.y);y.x=C/A,y.y=k/A}else{S=y,S.x=S.data.x,S.y=S.data.y;do w+=o[S.data.index];while(S=S.next)}y.value=w}function _(y,w,S,T){if(!y.value)return!0;var A=y.x-e.x,C=y.y-e.y,k=T-w,L=A*A+C*C;if(k*k/f<L)return L<l&&(A===0&&(A=ze(),L+=A*A),C===0&&(C=ze(),L+=C*C),L<s&&(L=Math.sqrt(s*L)),e.vx+=A*y.value*i/L,e.vy+=C*y.value*i/L),!0;if(y.length||L>=l)return;(y.data!==e||y.next)&&(A===0&&(A=ze(),L+=A*A),C===0&&(C=ze(),L+=C*C),L<s&&(L=Math.sqrt(s*L)));do y.data!==e&&(k=o[y.data.index]*i/L,e.vx+=A*k,e.vy+=C*k);while(y=y.next)}return h.initialize=function(y){t=y,d()},h.strength=function(y){return arguments.length?(r=typeof y=="function"?y:Ct(+y),d(),h):r},h.distanceMin=function(y){return arguments.length?(s=y*y,h):Math.sqrt(s)},h.distanceMax=function(y){return arguments.length?(l=y*y,h):Math.sqrt(l)},h.theta=function(y){return arguments.length?(f=y*y,h):Math.sqrt(f)},h}function vv(t,e,i){var r,o=Ct(.1),s,l;typeof t!="function"&&(t=Ct(+t)),e==null&&(e=0),i==null&&(i=0);function f(d){for(var p=0,_=r.length;p<_;++p){var y=r[p],w=y.x-e||1e-6,S=y.y-i||1e-6,T=Math.sqrt(w*w+S*S),A=(l[p]-T)*s[p]*d/T;y.vx+=w*A,y.vy+=S*A}}function h(){if(r){var d,p=r.length;for(s=new Array(p),l=new Array(p),d=0;d<p;++d)l[d]=+t(r[d],d,r),s[d]=isNaN(l[d])?0:+o(r[d],d,r)}}return f.initialize=function(d){r=d,h()},f.strength=function(d){return arguments.length?(o=typeof d=="function"?d:Ct(+d),h(),f):o},f.radius=function(d){return arguments.length?(t=typeof d=="function"?d:Ct(+d),h(),f):t},f.x=function(d){return arguments.length?(e=+d,f):e},f.y=function(d){return arguments.length?(i=+d,f):i},f}function wv(t){var e=Ct(.1),i,r,o;typeof t!="function"&&(t=Ct(t==null?0:+t));function s(f){for(var h=0,d=i.length,p;h<d;++h)p=i[h],p.vx+=(o[h]-p.x)*r[h]*f}function l(){if(i){var f,h=i.length;for(r=new Array(h),o=new Array(h),f=0;f<h;++f)r[f]=isNaN(o[f]=+t(i[f],f,i))?0:+e(i[f],f,i)}}return s.initialize=function(f){i=f,l()},s.strength=function(f){return arguments.length?(e=typeof f=="function"?f:Ct(+f),l(),s):e},s.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ct(+f),l(),s):t},s}function bv(t){var e=Ct(.1),i,r,o;typeof t!="function"&&(t=Ct(t==null?0:+t));function s(f){for(var h=0,d=i.length,p;h<d;++h)p=i[h],p.vy+=(o[h]-p.y)*r[h]*f}function l(){if(i){var f,h=i.length;for(r=new Array(h),o=new Array(h),f=0;f<h;++f)r[f]=isNaN(o[f]=+t(i[f],f,i))?0:+e(i[f],f,i)}}return s.initialize=function(f){i=f,l()},s.strength=function(f){return arguments.length?(e=typeof f=="function"?f:Ct(+f),l(),s):e},s.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ct(+f),l(),s):t},s}function Sv(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ia(t,e){if((i=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var i,r=t.slice(0,i);return[r.length>1?r[0]+r.slice(2):r,+t.slice(i+1)]}function qn(t){return t=ia(Math.abs(t)),t?t[1]:NaN}function Tv(t,e){return function(i,r){for(var o=i.length,s=[],l=0,f=t[0],h=0;o>0&&f>0&&(h+f+1>r&&(f=Math.max(1,r-h)),s.push(i.substring(o-=f,o+f)),!((h+=f+1)>r));)f=t[l=(l+1)%t.length];return s.reverse().join(e)}}function Av(t){return function(e){return e.replace(/[0-9]/g,function(i){return t[+i]})}}var Pv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qi(t){if(!(e=Pv.exec(t)))throw new Error("invalid format: "+t);var e;return new ao({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}qi.prototype=ao.prototype;function ao(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ao.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Cv(t){t:for(var e=t.length,i=1,r=-1,o;i<e;++i)switch(t[i]){case".":r=o=i;break;case"0":r===0&&(r=i),o=i;break;default:if(!+t[i])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(o+1):t}var Zh;function Mv(t,e){var i=ia(t,e);if(!i)return t+"";var r=i[0],o=i[1],s=o-(Zh=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+ia(t,Math.max(0,e+s-1))[0]}function hl(t,e){var i=ia(t,e);if(!i)return t+"";var r=i[0],o=i[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const dl={"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:Sv,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return hl(t*100,e)},r:hl,s:Mv,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function gl(t){return t}var pl=Array.prototype.map,yl=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Kh(t){var e=t.grouping===void 0||t.thousands===void 0?gl:Tv(pl.call(t.grouping,Number),t.thousands+""),i=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?gl:Av(pl.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"-":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function d(_){_=qi(_);var y=_.fill,w=_.align,S=_.sign,T=_.symbol,A=_.zero,C=_.width,k=_.comma,L=_.precision,E=_.trim,I=_.type;I==="n"?(k=!0,I="g"):dl[I]||(L===void 0&&(L=12),E=!0,I="g"),(A||y==="0"&&w==="=")&&(A=!0,y="0",w="=");var b=T==="$"?i:T==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",z=T==="$"?r:/[%p]/.test(I)?l:"",F=dl[I],$=/[defgprs%]/.test(I);L=L===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function W(Y){var R=b,X=z,Q,n,a;if(I==="c")X=F(Y)+X,Y="";else{Y=+Y;var u=Y<0||1/Y<0;if(Y=isNaN(Y)?h:F(Math.abs(Y),L),E&&(Y=Cv(Y)),u&&+Y==0&&S!=="+"&&(u=!1),R=(u?S==="("?S:f:S==="-"||S==="("?"":S)+R,X=(I==="s"?yl[8+Zh/3]:"")+X+(u&&S==="("?")":""),$){for(Q=-1,n=Y.length;++Q<n;)if(a=Y.charCodeAt(Q),48>a||a>57){X=(a===46?o+Y.slice(Q+1):Y.slice(Q))+X,Y=Y.slice(0,Q);break}}}k&&!A&&(Y=e(Y,1/0));var c=R.length+Y.length+X.length,g=c<C?new Array(C-c+1).join(y):"";switch(k&&A&&(Y=e(g+Y,g.length?C-X.length:1/0),g=""),w){case"<":Y=R+Y+X+g;break;case"=":Y=R+g+Y+X;break;case"^":Y=g.slice(0,c=g.length>>1)+R+Y+X+g.slice(c);break;default:Y=g+R+Y+X;break}return s(Y)}return W.toString=function(){return _+""},W}function p(_,y){var w=d((_=qi(_),_.type="f",_)),S=Math.max(-8,Math.min(8,Math.floor(qn(y)/3)))*3,T=Math.pow(10,-S),A=yl[8+S/3];return function(C){return w(T*C)+A}}return{format:d,formatPrefix:p}}var Sr,oo,Ou;Jh({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function Jh(t){return Sr=Kh(t),oo=Sr.format,Ou=Sr.formatPrefix,Sr}function td(t){return Math.max(0,-qn(Math.abs(t)))}function ed(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qn(e)/3)))*3-qn(Math.abs(t)))}function nd(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qn(e)-qn(t))+1}function je(){return new ra}function ra(){this.reset()}ra.prototype={constructor:ra,reset:function(){this.s=this.t=0},add:function(t){_l(Tr,t,this.t),_l(this,Tr.s,this.s),this.s?this.t+=Tr.t:this.s=Tr.t},valueOf:function(){return this.s}};var Tr=new ra;function _l(t,e,i){var r=t.s=e+i,o=r-e,s=r-o;t.t=e-s+(i-o)}var at=1e-6,aa=1e-12,lt=Math.PI,St=lt/2,oa=lt/4,Bt=lt*2,mt=180/lt,ot=lt/180,gt=Math.abs,ii=Math.atan,Ht=Math.atan2,it=Math.cos,Ar=Math.ceil,id=Math.exp,sa=Math.log,Wo=Math.pow,tt=Math.sin,oe=Math.sign||function(t){return t>0?1:t<0?-1:0},Pt=Math.sqrt,Nu=Math.tan;function rd(t){return t>1?0:t<-1?lt:Math.acos(t)}function $t(t){return t>1?St:t<-1?-St:Math.asin(t)}function ml(t){return(t=tt(t/2))*t}function wt(){}function ua(t,e){t&&vl.hasOwnProperty(t.type)&&vl[t.type](t,e)}var xl={Feature:function(t,e){ua(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,r=-1,o=i.length;++r<o;)ua(i[r].geometry,e)}},vl={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,r=-1,o=i.length;++r<o;)t=i[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Os(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,r=-1,o=i.length;++r<o;)Os(i[r],e,0)},Polygon:function(t,e){wl(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,r=-1,o=i.length;++r<o;)wl(i[r],e)},GeometryCollection:function(t,e){for(var i=t.geometries,r=-1,o=i.length;++r<o;)ua(i[r],e)}};function Os(t,e,i){var r=-1,o=t.length-i,s;for(e.lineStart();++r<o;)s=t[r],e.point(s[0],s[1],s[2]);e.lineEnd()}function wl(t,e){var i=-1,r=t.length;for(e.polygonStart();++i<r;)Os(t[i],e,1);e.polygonEnd()}function ue(t,e){t&&xl.hasOwnProperty(t.type)?xl[t.type](t,e):ua(t,e)}var ca=je(),la=je(),ad,od,Ns,Ds,zs,Se={point:wt,lineStart:wt,lineEnd:wt,polygonStart:function(){ca.reset(),Se.lineStart=Lv,Se.lineEnd=Ev},polygonEnd:function(){var t=+ca;la.add(t<0?Bt+t:t),this.lineStart=this.lineEnd=this.point=wt},sphere:function(){la.add(Bt)}};function Lv(){Se.point=kv}function Ev(){sd(ad,od)}function kv(t,e){Se.point=sd,ad=t,od=e,t*=ot,e*=ot,Ns=t,Ds=it(e=e/2+oa),zs=tt(e)}function sd(t,e){t*=ot,e*=ot,e=e/2+oa;var i=t-Ns,r=i>=0?1:-1,o=r*i,s=it(e),l=tt(e),f=zs*l,h=Ds*s+f*it(o),d=f*r*tt(o);ca.add(Ht(d,h)),Ns=t,Ds=s,zs=l}function Rv(t){return la.reset(),ue(t,Se),la*2}function fa(t){return[Ht(t[1],t[0]),$t(t[2])]}function hn(t){var e=t[0],i=t[1],r=it(i);return[r*it(e),r*tt(e),tt(i)]}function Pr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Qn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function qo(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Cr(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ha(t){var e=Pt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var vt,qt,bt,Kt,nn,ud,cd,Xn,Vi=je(),Ne,Re,Le={point:Fs,lineStart:bl,lineEnd:Sl,polygonStart:function(){Le.point=fd,Le.lineStart=Vv,Le.lineEnd=Gv,Vi.reset(),Se.polygonStart()},polygonEnd:function(){Se.polygonEnd(),Le.point=Fs,Le.lineStart=bl,Le.lineEnd=Sl,ca<0?(vt=-(bt=180),qt=-(Kt=90)):Vi>at?Kt=90:Vi<-at&&(qt=-90),Re[0]=vt,Re[1]=bt},sphere:function(){vt=-(bt=180),qt=-(Kt=90)}};function Fs(t,e){Ne.push(Re=[vt=t,bt=t]),e<qt&&(qt=e),e>Kt&&(Kt=e)}function ld(t,e){var i=hn([t*ot,e*ot]);if(Xn){var r=Qn(Xn,i),o=[r[1],-r[0],0],s=Qn(o,r);ha(s),s=fa(s);var l=t-nn,f=l>0?1:-1,h=s[0]*mt*f,d,p=gt(l)>180;p^(f*nn<h&&h<f*t)?(d=s[1]*mt,d>Kt&&(Kt=d)):(h=(h+360)%360-180,p^(f*nn<h&&h<f*t)?(d=-s[1]*mt,d<qt&&(qt=d)):(e<qt&&(qt=e),e>Kt&&(Kt=e))),p?t<nn?Zt(vt,t)>Zt(vt,bt)&&(bt=t):Zt(t,bt)>Zt(vt,bt)&&(vt=t):bt>=vt?(t<vt&&(vt=t),t>bt&&(bt=t)):t>nn?Zt(vt,t)>Zt(vt,bt)&&(bt=t):Zt(t,bt)>Zt(vt,bt)&&(vt=t)}else Ne.push(Re=[vt=t,bt=t]);e<qt&&(qt=e),e>Kt&&(Kt=e),Xn=i,nn=t}function bl(){Le.point=ld}function Sl(){Re[0]=vt,Re[1]=bt,Le.point=Fs,Xn=null}function fd(t,e){if(Xn){var i=t-nn;Vi.add(gt(i)>180?i+(i>0?360:-360):i)}else ud=t,cd=e;Se.point(t,e),ld(t,e)}function Vv(){Se.lineStart()}function Gv(){fd(ud,cd),Se.lineEnd(),gt(Vi)>at&&(vt=-(bt=180)),Re[0]=vt,Re[1]=bt,Xn=null}function Zt(t,e){return(e-=t)<0?e+360:e}function Iv(t,e){return t[0]-e[0]}function Tl(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Ov(t){var e,i,r,o,s,l,f;if(Kt=bt=-(vt=qt=1/0),Ne=[],ue(t,Le),i=Ne.length){for(Ne.sort(Iv),e=1,r=Ne[0],s=[r];e<i;++e)o=Ne[e],Tl(r,o[0])||Tl(r,o[1])?(Zt(r[0],o[1])>Zt(r[0],r[1])&&(r[1]=o[1]),Zt(o[0],r[1])>Zt(r[0],r[1])&&(r[0]=o[0])):s.push(r=o);for(l=-1/0,i=s.length-1,e=0,r=s[i];e<=i;r=o,++e)o=s[e],(f=Zt(r[1],o[0]))>l&&(l=f,vt=o[0],bt=r[1])}return Ne=Re=null,vt===1/0||qt===1/0?[[NaN,NaN],[NaN,NaN]]:[[vt,qt],[bt,Kt]]}var xi,da,ga,pa,ya,_a,ma,xa,Xs,Ys,Bs,hd,dd,Dt,zt,Ft,le={sphere:wt,point:Du,lineStart:Al,lineEnd:Pl,polygonStart:function(){le.lineStart=zv,le.lineEnd=Fv},polygonEnd:function(){le.lineStart=Al,le.lineEnd=Pl}};function Du(t,e){t*=ot,e*=ot;var i=it(e);sr(i*it(t),i*tt(t),tt(e))}function sr(t,e,i){++xi,ga+=(t-ga)/xi,pa+=(e-pa)/xi,ya+=(i-ya)/xi}function Al(){le.point=Nv}function Nv(t,e){t*=ot,e*=ot;var i=it(e);Dt=i*it(t),zt=i*tt(t),Ft=tt(e),le.point=Dv,sr(Dt,zt,Ft)}function Dv(t,e){t*=ot,e*=ot;var i=it(e),r=i*it(t),o=i*tt(t),s=tt(e),l=Ht(Pt((l=zt*s-Ft*o)*l+(l=Ft*r-Dt*s)*l+(l=Dt*o-zt*r)*l),Dt*r+zt*o+Ft*s);da+=l,_a+=l*(Dt+(Dt=r)),ma+=l*(zt+(zt=o)),xa+=l*(Ft+(Ft=s)),sr(Dt,zt,Ft)}function Pl(){le.point=Du}function zv(){le.point=Xv}function Fv(){gd(hd,dd),le.point=Du}function Xv(t,e){hd=t,dd=e,t*=ot,e*=ot,le.point=gd;var i=it(e);Dt=i*it(t),zt=i*tt(t),Ft=tt(e),sr(Dt,zt,Ft)}function gd(t,e){t*=ot,e*=ot;var i=it(e),r=i*it(t),o=i*tt(t),s=tt(e),l=zt*s-Ft*o,f=Ft*r-Dt*s,h=Dt*o-zt*r,d=Pt(l*l+f*f+h*h),p=$t(d),_=d&&-p/d;Xs+=_*l,Ys+=_*f,Bs+=_*h,da+=p,_a+=p*(Dt+(Dt=r)),ma+=p*(zt+(zt=o)),xa+=p*(Ft+(Ft=s)),sr(Dt,zt,Ft)}function Yv(t){xi=da=ga=pa=ya=_a=ma=xa=Xs=Ys=Bs=0,ue(t,le);var e=Xs,i=Ys,r=Bs,o=e*e+i*i+r*r;return o<aa&&(e=_a,i=ma,r=xa,da<at&&(e=ga,i=pa,r=ya),o=e*e+i*i+r*r,o<aa)?[NaN,NaN]:[Ht(i,e)*mt,$t(r/Pt(o))*mt]}function Rn(t){return function(){return t}}function Hs(t,e){function i(r,o){return r=t(r,o),e(r[0],r[1])}return t.invert&&e.invert&&(i.invert=function(r,o){return r=e.invert(r,o),r&&t.invert(r[0],r[1])}),i}function $s(t,e){return[gt(t)>lt?t+Math.round(-t/Bt)*Bt:t,e]}$s.invert=$s;function zu(t,e,i){return(t%=Bt)?e||i?Hs(Ml(t),Ll(e,i)):Ml(t):e||i?Ll(e,i):$s}function Cl(t){return function(e,i){return e+=t,[e>lt?e-Bt:e<-lt?e+Bt:e,i]}}function Ml(t){var e=Cl(t);return e.invert=Cl(-t),e}function Ll(t,e){var i=it(t),r=tt(t),o=it(e),s=tt(e);function l(f,h){var d=it(h),p=it(f)*d,_=tt(f)*d,y=tt(h),w=y*i+p*r;return[Ht(_*o-w*s,p*i-y*r),$t(w*o+_*s)]}return l.invert=function(f,h){var d=it(h),p=it(f)*d,_=tt(f)*d,y=tt(h),w=y*o-_*s;return[Ht(_*o+y*s,p*i+w*r),$t(w*i-p*r)]},l}function pd(t){t=zu(t[0]*ot,t[1]*ot,t.length>2?t[2]*ot:0);function e(i){return i=t(i[0]*ot,i[1]*ot),i[0]*=mt,i[1]*=mt,i}return e.invert=function(i){return i=t.invert(i[0]*ot,i[1]*ot),i[0]*=mt,i[1]*=mt,i},e}function yd(t,e,i,r,o,s){if(i){var l=it(e),f=tt(e),h=r*i;o==null?(o=e+r*Bt,s=e-h/2):(o=El(l,o),s=El(l,s),(r>0?o<s:o>s)&&(o+=r*Bt));for(var d,p=o;r>0?p>s:p<s;p-=h)d=fa([l,-f*it(p),-f*tt(p)]),t.point(d[0],d[1])}}function El(t,e){e=hn(e),e[0]-=t,ha(e);var i=rd(-e[1]);return((-e[2]<0?-i:i)+Bt-at)%Bt}function Bv(){var t=Rn([0,0]),e=Rn(90),i=Rn(6),r,o,s={point:l};function l(h,d){r.push(h=o(h,d)),h[0]*=mt,h[1]*=mt}function f(){var h=t.apply(this,arguments),d=e.apply(this,arguments)*ot,p=i.apply(this,arguments)*ot;return r=[],o=zu(-h[0]*ot,-h[1]*ot,0).invert,yd(s,d,p,1),h={type:"Polygon",coordinates:[r]},r=o=null,h}return f.center=function(h){return arguments.length?(t=typeof h=="function"?h:Rn([+h[0],+h[1]]),f):t},f.radius=function(h){return arguments.length?(e=typeof h=="function"?h:Rn(+h),f):e},f.precision=function(h){return arguments.length?(i=typeof h=="function"?h:Rn(+h),f):i},f}function _d(){var t=[],e;return{point:function(i,r,o){e.push([i,r,o])},lineStart:function(){t.push(e=[])},lineEnd:wt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var i=t;return t=[],e=null,i}}}function Hr(t,e){return gt(t[0]-e[0])<at&&gt(t[1]-e[1])<at}function Mr(t,e,i,r){this.x=t,this.z=e,this.o=i,this.e=r,this.v=!1,this.n=this.p=null}function md(t,e,i,r,o){var s=[],l=[],f,h;if(t.forEach(function(S){if(!((T=S.length-1)<=0)){var T,A=S[0],C=S[T],k;if(Hr(A,C)){if(!A[2]&&!C[2]){for(o.lineStart(),f=0;f<T;++f)o.point((A=S[f])[0],A[1]);o.lineEnd();return}C[0]+=2*at}s.push(k=new Mr(A,S,null,!0)),l.push(k.o=new Mr(A,null,k,!1)),s.push(k=new Mr(C,S,null,!1)),l.push(k.o=new Mr(C,null,k,!0))}}),!!s.length){for(l.sort(e),kl(s),kl(l),f=0,h=l.length;f<h;++f)l[f].e=i=!i;for(var d=s[0],p,_;;){for(var y=d,w=!0;y.v;)if((y=y.n)===d)return;p=y.z,o.lineStart();do{if(y.v=y.o.v=!0,y.e){if(w)for(f=0,h=p.length;f<h;++f)o.point((_=p[f])[0],_[1]);else r(y.x,y.n.x,1,o);y=y.n}else{if(w)for(p=y.p.z,f=p.length-1;f>=0;--f)o.point((_=p[f])[0],_[1]);else r(y.x,y.p.x,-1,o);y=y.p}y=y.o,p=y.z,w=!w}while(!y.v);o.lineEnd()}}}function kl(t){if(e=t.length){for(var e,i=0,r=t[0],o;++i<e;)r.n=o=t[i],o.p=r,r=o;r.n=o=t[0],o.p=r}}var Qo=je();function jo(t){return gt(t[0])<=lt?t[0]:oe(t[0])*((gt(t[0])+lt)%Bt-lt)}function xd(t,e){var i=jo(e),r=e[1],o=tt(r),s=[tt(i),-it(i),0],l=0,f=0;Qo.reset(),o===1?r=St+at:o===-1&&(r=-St-at);for(var h=0,d=t.length;h<d;++h)if(_=(p=t[h]).length)for(var p,_,y=p[_-1],w=jo(y),S=y[1]/2+oa,T=tt(S),A=it(S),C=0;C<_;++C,w=L,T=I,A=b,y=k){var k=p[C],L=jo(k),E=k[1]/2+oa,I=tt(E),b=it(E),z=L-w,F=z>=0?1:-1,$=F*z,W=$>lt,Y=T*I;if(Qo.add(Ht(Y*F*tt($),A*b+Y*it($))),l+=W?z+F*Bt:z,W^w>=i^L>=i){var R=Qn(hn(y),hn(k));ha(R);var X=Qn(s,R);ha(X);var Q=(W^z>=0?-1:1)*$t(X[2]);(r>Q||r===Q&&(R[0]||R[1]))&&(f+=W^z>=0?1:-1)}}return(l<-at||l<at&&Qo<-at)^f&1}function vd(t,e,i,r){return function(o){var s=e(o),l=_d(),f=e(l),h=!1,d,p,_,y={point:w,lineStart:T,lineEnd:A,polygonStart:function(){y.point=C,y.lineStart=k,y.lineEnd=L,p=[],d=[]},polygonEnd:function(){y.point=w,y.lineStart=T,y.lineEnd=A,p=pu(p);var E=xd(d,r);p.length?(h||(o.polygonStart(),h=!0),md(p,$v,E,i,o)):E&&(h||(o.polygonStart(),h=!0),o.lineStart(),i(null,null,1,o),o.lineEnd()),h&&(o.polygonEnd(),h=!1),p=d=null},sphere:function(){o.polygonStart(),o.lineStart(),i(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function w(E,I){t(E,I)&&o.point(E,I)}function S(E,I){s.point(E,I)}function T(){y.point=S,s.lineStart()}function A(){y.point=w,s.lineEnd()}function C(E,I){_.push([E,I]),f.point(E,I)}function k(){f.lineStart(),_=[]}function L(){C(_[0][0],_[0][1]),f.lineEnd();var E=f.clean(),I=l.result(),b,z=I.length,F,$,W;if(_.pop(),d.push(_),_=null,!!z){if(E&1){if($=I[0],(F=$.length-1)>0){for(h||(o.polygonStart(),h=!0),o.lineStart(),b=0;b<F;++b)o.point((W=$[b])[0],W[1]);o.lineEnd()}return}z>1&&E&2&&I.push(I.pop().concat(I.shift())),p.push(I.filter(Hv))}}return y}}function Hv(t){return t.length>1}function $v(t,e){return((t=t.x)[0]<0?t[1]-St-at:St-t[1])-((e=e.x)[0]<0?e[1]-St-at:St-e[1])}const Us=vd(function(){return!0},Uv,qv,[-lt,-St]);function Uv(t){var e=NaN,i=NaN,r=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(s,l){var f=s>0?lt:-lt,h=gt(s-e);gt(h-lt)<at?(t.point(e,i=(i+l)/2>0?St:-St),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(f,i),t.point(s,i),o=0):r!==f&&h>=lt&&(gt(e-r)<at&&(e-=r*at),gt(s-f)<at&&(s-=f*at),i=Wv(e,i,s,l),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(f,i),o=0),t.point(e=s,i=l),r=f},lineEnd:function(){t.lineEnd(),e=i=NaN},clean:function(){return 2-o}}}function Wv(t,e,i,r){var o,s,l=tt(t-i);return gt(l)>at?ii((tt(e)*(s=it(r))*tt(i)-tt(r)*(o=it(e))*tt(t))/(o*s*l)):(e+r)/2}function qv(t,e,i,r){var o;if(t==null)o=i*St,r.point(-lt,o),r.point(0,o),r.point(lt,o),r.point(lt,0),r.point(lt,-o),r.point(0,-o),r.point(-lt,-o),r.point(-lt,0),r.point(-lt,o);else if(gt(t[0]-e[0])>at){var s=t[0]<e[0]?lt:-lt;o=i*s/2,r.point(-s,o),r.point(0,o),r.point(s,o)}else r.point(e[0],e[1])}function wd(t){var e=it(t),i=6*ot,r=e>0,o=gt(e)>at;function s(p,_,y,w){yd(w,t,i,y,p,_)}function l(p,_){return it(p)*it(_)>e}function f(p){var _,y,w,S,T;return{lineStart:function(){S=w=!1,T=1},point:function(A,C){var k=[A,C],L,E=l(A,C),I=r?E?0:d(A,C):E?d(A+(A<0?lt:-lt),C):0;if(!_&&(S=w=E)&&p.lineStart(),E!==w&&(L=h(_,k),(!L||Hr(_,L)||Hr(k,L))&&(k[2]=1)),E!==w)T=0,E?(p.lineStart(),L=h(k,_),p.point(L[0],L[1])):(L=h(_,k),p.point(L[0],L[1],2),p.lineEnd()),_=L;else if(o&&_&&r^E){var b;!(I&y)&&(b=h(k,_,!0))&&(T=0,r?(p.lineStart(),p.point(b[0][0],b[0][1]),p.point(b[1][0],b[1][1]),p.lineEnd()):(p.point(b[1][0],b[1][1]),p.lineEnd(),p.lineStart(),p.point(b[0][0],b[0][1],3)))}E&&(!_||!Hr(_,k))&&p.point(k[0],k[1]),_=k,w=E,y=I},lineEnd:function(){w&&p.lineEnd(),_=null},clean:function(){return T|(S&&w)<<1}}}function h(p,_,y){var w=hn(p),S=hn(_),T=[1,0,0],A=Qn(w,S),C=Pr(A,A),k=A[0],L=C-k*k;if(!L)return!y&&p;var E=e*C/L,I=-e*k/L,b=Qn(T,A),z=Cr(T,E),F=Cr(A,I);qo(z,F);var $=b,W=Pr(z,$),Y=Pr($,$),R=W*W-Y*(Pr(z,z)-1);if(!(R<0)){var X=Pt(R),Q=Cr($,(-W-X)/Y);if(qo(Q,z),Q=fa(Q),!y)return Q;var n=p[0],a=_[0],u=p[1],c=_[1],g;a<n&&(g=n,n=a,a=g);var m=a-n,v=gt(m-lt)<at,x=v||m<at;if(!v&&c<u&&(g=u,u=c,c=g),x?v?u+c>0^Q[1]<(gt(Q[0]-n)<at?u:c):u<=Q[1]&&Q[1]<=c:m>lt^(n<=Q[0]&&Q[0]<=a)){var M=Cr($,(-W+X)/Y);return qo(M,z),[Q,fa(M)]}}}function d(p,_){var y=r?t:lt-t,w=0;return p<-y?w|=1:p>y&&(w|=2),_<-y?w|=4:_>y&&(w|=8),w}return vd(l,f,s,r?[0,-t]:[-lt,t-lt])}function Qv(t,e,i,r,o,s){var l=t[0],f=t[1],h=e[0],d=e[1],p=0,_=1,y=h-l,w=d-f,S;if(S=i-l,!(!y&&S>0)){if(S/=y,y<0){if(S<p)return;S<_&&(_=S)}else if(y>0){if(S>_)return;S>p&&(p=S)}if(S=o-l,!(!y&&S<0)){if(S/=y,y<0){if(S>_)return;S>p&&(p=S)}else if(y>0){if(S<p)return;S<_&&(_=S)}if(S=r-f,!(!w&&S>0)){if(S/=w,w<0){if(S<p)return;S<_&&(_=S)}else if(w>0){if(S>_)return;S>p&&(p=S)}if(S=s-f,!(!w&&S<0)){if(S/=w,w<0){if(S>_)return;S>p&&(p=S)}else if(w>0){if(S<p)return;S<_&&(_=S)}return p>0&&(t[0]=l+p*y,t[1]=f+p*w),_<1&&(e[0]=l+_*y,e[1]=f+_*w),!0}}}}}var vi=1e9,Lr=-vi;function so(t,e,i,r){function o(d,p){return t<=d&&d<=i&&e<=p&&p<=r}function s(d,p,_,y){var w=0,S=0;if(d==null||(w=l(d,_))!==(S=l(p,_))||h(d,p)<0^_>0)do y.point(w===0||w===3?t:i,w>1?r:e);while((w=(w+_+4)%4)!==S);else y.point(p[0],p[1])}function l(d,p){return gt(d[0]-t)<at?p>0?0:3:gt(d[0]-i)<at?p>0?2:1:gt(d[1]-e)<at?p>0?1:0:p>0?3:2}function f(d,p){return h(d.x,p.x)}function h(d,p){var _=l(d,1),y=l(p,1);return _!==y?_-y:_===0?p[1]-d[1]:_===1?d[0]-p[0]:_===2?d[1]-p[1]:p[0]-d[0]}return function(d){var p=d,_=_d(),y,w,S,T,A,C,k,L,E,I,b,z={point:F,lineStart:R,lineEnd:X,polygonStart:W,polygonEnd:Y};function F(n,a){o(n,a)&&p.point(n,a)}function $(){for(var n=0,a=0,u=w.length;a<u;++a)for(var c=w[a],g=1,m=c.length,v=c[0],x,M,P=v[0],V=v[1];g<m;++g)x=P,M=V,v=c[g],P=v[0],V=v[1],M<=r?V>r&&(P-x)*(r-M)>(V-M)*(t-x)&&++n:V<=r&&(P-x)*(r-M)<(V-M)*(t-x)&&--n;return n}function W(){p=_,y=[],w=[],b=!0}function Y(){var n=$(),a=b&&n,u=(y=pu(y)).length;(a||u)&&(d.polygonStart(),a&&(d.lineStart(),s(null,null,1,d),d.lineEnd()),u&&md(y,f,n,s,d),d.polygonEnd()),p=d,y=w=S=null}function R(){z.point=Q,w&&w.push(S=[]),I=!0,E=!1,k=L=NaN}function X(){y&&(Q(T,A),C&&E&&_.rejoin(),y.push(_.result())),z.point=F,E&&p.lineEnd()}function Q(n,a){var u=o(n,a);if(w&&S.push([n,a]),I)T=n,A=a,C=u,I=!1,u&&(p.lineStart(),p.point(n,a));else if(u&&E)p.point(n,a);else{var c=[k=Math.max(Lr,Math.min(vi,k)),L=Math.max(Lr,Math.min(vi,L))],g=[n=Math.max(Lr,Math.min(vi,n)),a=Math.max(Lr,Math.min(vi,a))];Qv(c,g,t,e,i,r)?(E||(p.lineStart(),p.point(c[0],c[1])),p.point(g[0],g[1]),u||p.lineEnd(),b=!1):u&&(p.lineStart(),p.point(n,a),b=!1)}k=n,L=a,E=u}return z}}function jv(){var t=0,e=0,i=960,r=500,o,s,l;return l={stream:function(f){return o&&s===f?o:o=so(t,e,i,r)(s=f)},extent:function(f){return arguments.length?(t=+f[0][0],e=+f[0][1],i=+f[1][0],r=+f[1][1],o=s=null,l):[[t,e],[i,r]]}}}var Ws=je(),qs,$r,Ur,jn={sphere:wt,point:wt,lineStart:Zv,lineEnd:wt,polygonStart:wt,polygonEnd:wt};function Zv(){jn.point=Jv,jn.lineEnd=Kv}function Kv(){jn.point=jn.lineEnd=wt}function Jv(t,e){t*=ot,e*=ot,qs=t,$r=tt(e),Ur=it(e),jn.point=tw}function tw(t,e){t*=ot,e*=ot;var i=tt(e),r=it(e),o=gt(t-qs),s=it(o),l=tt(o),f=r*l,h=Ur*i-$r*r*s,d=$r*i+Ur*r*s;Ws.add(Ht(Pt(f*f+h*h),d)),qs=t,$r=i,Ur=r}function bd(t){return Ws.reset(),ue(t,jn),+Ws}var Qs=[null,null],ew={type:"LineString",coordinates:Qs};function va(t,e){return Qs[0]=t,Qs[1]=e,bd(ew)}var Rl={Feature:function(t,e){return wa(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,r=-1,o=i.length;++r<o;)if(wa(i[r].geometry,e))return!0;return!1}},Vl={Sphere:function(){return!0},Point:function(t,e){return Gl(t.coordinates,e)},MultiPoint:function(t,e){for(var i=t.coordinates,r=-1,o=i.length;++r<o;)if(Gl(i[r],e))return!0;return!1},LineString:function(t,e){return Il(t.coordinates,e)},MultiLineString:function(t,e){for(var i=t.coordinates,r=-1,o=i.length;++r<o;)if(Il(i[r],e))return!0;return!1},Polygon:function(t,e){return Ol(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,r=-1,o=i.length;++r<o;)if(Ol(i[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var i=t.geometries,r=-1,o=i.length;++r<o;)if(wa(i[r],e))return!0;return!1}};function wa(t,e){return t&&Vl.hasOwnProperty(t.type)?Vl[t.type](t,e):!1}function Gl(t,e){return va(t,e)===0}function Il(t,e){for(var i,r,o,s=0,l=t.length;s<l;s++){if(r=va(t[s],e),r===0||s>0&&(o=va(t[s],t[s-1]),o>0&&i<=o&&r<=o&&(i+r-o)*(1-Math.pow((i-r)/o,2))<aa*o))return!0;i=r}return!1}function Ol(t,e){return!!xd(t.map(nw),Sd(e))}function nw(t){return t=t.map(Sd),t.pop(),t}function Sd(t){return[t[0]*ot,t[1]*ot]}function iw(t,e){return(t&&Rl.hasOwnProperty(t.type)?Rl[t.type]:wa)(t,e)}function Nl(t,e,i){var r=te(t,e-at,i).concat(e);return function(o){return r.map(function(s){return[o,s]})}}function Dl(t,e,i){var r=te(t,e-at,i).concat(e);return function(o){return r.map(function(s){return[s,o]})}}function Td(){var t,e,i,r,o,s,l,f,h=10,d=h,p=90,_=360,y,w,S,T,A=2.5;function C(){return{type:"MultiLineString",coordinates:k()}}function k(){return te(Ar(r/p)*p,i,p).map(S).concat(te(Ar(f/_)*_,l,_).map(T)).concat(te(Ar(e/h)*h,t,h).filter(function(L){return gt(L%p)>at}).map(y)).concat(te(Ar(s/d)*d,o,d).filter(function(L){return gt(L%_)>at}).map(w))}return C.lines=function(){return k().map(function(L){return{type:"LineString",coordinates:L}})},C.outline=function(){return{type:"Polygon",coordinates:[S(r).concat(T(l).slice(1),S(i).reverse().slice(1),T(f).reverse().slice(1))]}},C.extent=function(L){return arguments.length?C.extentMajor(L).extentMinor(L):C.extentMinor()},C.extentMajor=function(L){return arguments.length?(r=+L[0][0],i=+L[1][0],f=+L[0][1],l=+L[1][1],r>i&&(L=r,r=i,i=L),f>l&&(L=f,f=l,l=L),C.precision(A)):[[r,f],[i,l]]},C.extentMinor=function(L){return arguments.length?(e=+L[0][0],t=+L[1][0],s=+L[0][1],o=+L[1][1],e>t&&(L=e,e=t,t=L),s>o&&(L=s,s=o,o=L),C.precision(A)):[[e,s],[t,o]]},C.step=function(L){return arguments.length?C.stepMajor(L).stepMinor(L):C.stepMinor()},C.stepMajor=function(L){return arguments.length?(p=+L[0],_=+L[1],C):[p,_]},C.stepMinor=function(L){return arguments.length?(h=+L[0],d=+L[1],C):[h,d]},C.precision=function(L){return arguments.length?(A=+L,y=Nl(s,o,90),w=Dl(e,t,A),S=Nl(f,l,90),T=Dl(r,i,A),C):A},C.extentMajor([[-180,-90+at],[180,90-at]]).extentMinor([[-180,-80-at],[180,80+at]])}function rw(){return Td()()}function aw(t,e){var i=t[0]*ot,r=t[1]*ot,o=e[0]*ot,s=e[1]*ot,l=it(r),f=tt(r),h=it(s),d=tt(s),p=l*it(i),_=l*tt(i),y=h*it(o),w=h*tt(o),S=2*$t(Pt(ml(s-r)+l*h*ml(o-i))),T=tt(S),A=S?function(C){var k=tt(C*=S)/T,L=tt(S-C)/T,E=L*p+k*y,I=L*_+k*w,b=L*f+k*d;return[Ht(I,E)*mt,Ht(b,Pt(E*E+I*I))*mt]}:function(){return[i*mt,r*mt]};return A.distance=S,A}function Qi(t){return t}var Zo=je(),js=je(),Ad,Pd,Zs,Ks,De={point:wt,lineStart:wt,lineEnd:wt,polygonStart:function(){De.lineStart=ow,De.lineEnd=uw},polygonEnd:function(){De.lineStart=De.lineEnd=De.point=wt,Zo.add(gt(js)),js.reset()},result:function(){var t=Zo/2;return Zo.reset(),t}};function ow(){De.point=sw}function sw(t,e){De.point=Cd,Ad=Zs=t,Pd=Ks=e}function Cd(t,e){js.add(Ks*t-Zs*e),Zs=t,Ks=e}function uw(){Cd(Ad,Pd)}const zl=De;var Zn=1/0,ba=Zn,ji=-Zn,Sa=ji,cw={point:lw,lineStart:wt,lineEnd:wt,polygonStart:wt,polygonEnd:wt,result:function(){var t=[[Zn,ba],[ji,Sa]];return ji=Sa=-(ba=Zn=1/0),t}};function lw(t,e){t<Zn&&(Zn=t),t>ji&&(ji=t),e<ba&&(ba=e),e>Sa&&(Sa=e)}const Ta=cw;var Js=0,tu=0,wi=0,Aa=0,Pa=0,In=0,eu=0,nu=0,bi=0,Md,Ld,me,xe,ce={point:dn,lineStart:Fl,lineEnd:Xl,polygonStart:function(){ce.lineStart=dw,ce.lineEnd=gw},polygonEnd:function(){ce.point=dn,ce.lineStart=Fl,ce.lineEnd=Xl},result:function(){var t=bi?[eu/bi,nu/bi]:In?[Aa/In,Pa/In]:wi?[Js/wi,tu/wi]:[NaN,NaN];return Js=tu=wi=Aa=Pa=In=eu=nu=bi=0,t}};function dn(t,e){Js+=t,tu+=e,++wi}function Fl(){ce.point=fw}function fw(t,e){ce.point=hw,dn(me=t,xe=e)}function hw(t,e){var i=t-me,r=e-xe,o=Pt(i*i+r*r);Aa+=o*(me+t)/2,Pa+=o*(xe+e)/2,In+=o,dn(me=t,xe=e)}function Xl(){ce.point=dn}function dw(){ce.point=pw}function gw(){Ed(Md,Ld)}function pw(t,e){ce.point=Ed,dn(Md=me=t,Ld=xe=e)}function Ed(t,e){var i=t-me,r=e-xe,o=Pt(i*i+r*r);Aa+=o*(me+t)/2,Pa+=o*(xe+e)/2,In+=o,o=xe*t-me*e,eu+=o*(me+t),nu+=o*(xe+e),bi+=o*3,dn(me=t,xe=e)}const Yl=ce;function kd(t){this._context=t}kd.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Bt);break}}},result:wt};var iu=je(),Ko,Rd,Vd,Si,Ti,Ca={point:wt,lineStart:function(){Ca.point=yw},lineEnd:function(){Ko&&Gd(Rd,Vd),Ca.point=wt},polygonStart:function(){Ko=!0},polygonEnd:function(){Ko=null},result:function(){var t=+iu;return iu.reset(),t}};function yw(t,e){Ca.point=Gd,Rd=Si=t,Vd=Ti=e}function Gd(t,e){Si-=t,Ti-=e,iu.add(Pt(Si*Si+Ti*Ti)),Si=t,Ti=e}const Bl=Ca;function Id(){this._string=[]}Id.prototype={_radius:4.5,_circle:Hl(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=Hl(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function Hl(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function _w(t,e){var i=4.5,r,o;function s(l){return l&&(typeof i=="function"&&o.pointRadius(+i.apply(this,arguments)),ue(l,r(o))),o.result()}return s.area=function(l){return ue(l,r(zl)),zl.result()},s.measure=function(l){return ue(l,r(Bl)),Bl.result()},s.bounds=function(l){return ue(l,r(Ta)),Ta.result()},s.centroid=function(l){return ue(l,r(Yl)),Yl.result()},s.projection=function(l){return arguments.length?(r=l==null?(t=null,Qi):(t=l).stream,s):t},s.context=function(l){return arguments.length?(o=l==null?(e=null,new Id):new kd(e=l),typeof i!="function"&&o.pointRadius(i),s):e},s.pointRadius=function(l){return arguments.length?(i=typeof l=="function"?l:(o.pointRadius(+l),+l),s):i},s.projection(t).context(e)}function mw(t){return{stream:ur(t)}}function ur(t){return function(e){var i=new ru;for(var r in t)i[r]=t[r];return i.stream=e,i}}function ru(){}ru.prototype={constructor:ru,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Fu(t,e,i){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),ue(i,t.stream(Ta)),e(Ta.result()),r!=null&&t.clipExtent(r),t}function uo(t,e,i){return Fu(t,function(r){var o=e[1][0]-e[0][0],s=e[1][1]-e[0][1],l=Math.min(o/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),f=+e[0][0]+(o-l*(r[1][0]+r[0][0]))/2,h=+e[0][1]+(s-l*(r[1][1]+r[0][1]))/2;t.scale(150*l).translate([f,h])},i)}function Xu(t,e,i){return uo(t,[[0,0],e],i)}function Yu(t,e,i){return Fu(t,function(r){var o=+e,s=o/(r[1][0]-r[0][0]),l=(o-s*(r[1][0]+r[0][0]))/2,f=-s*r[0][1];t.scale(150*s).translate([l,f])},i)}function Bu(t,e,i){return Fu(t,function(r){var o=+e,s=o/(r[1][1]-r[0][1]),l=-s*r[0][0],f=(o-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([l,f])},i)}var $l=16,xw=it(30*ot);function Ul(t,e){return+e?ww(t,e):vw(t)}function vw(t){return ur({point:function(e,i){e=t(e,i),this.stream.point(e[0],e[1])}})}function ww(t,e){function i(r,o,s,l,f,h,d,p,_,y,w,S,T,A){var C=d-r,k=p-o,L=C*C+k*k;if(L>4*e&&T--){var E=l+y,I=f+w,b=h+S,z=Pt(E*E+I*I+b*b),F=$t(b/=z),$=gt(gt(b)-1)<at||gt(s-_)<at?(s+_)/2:Ht(I,E),W=t($,F),Y=W[0],R=W[1],X=Y-r,Q=R-o,n=k*X-C*Q;(n*n/L>e||gt((C*X+k*Q)/L-.5)>.3||l*y+f*w+h*S<xw)&&(i(r,o,s,l,f,h,Y,R,$,E/=z,I/=z,b,T,A),A.point(Y,R),i(Y,R,$,E,I,b,d,p,_,y,w,S,T,A))}}return function(r){var o,s,l,f,h,d,p,_,y,w,S,T,A={point:C,lineStart:k,lineEnd:E,polygonStart:function(){r.polygonStart(),A.lineStart=I},polygonEnd:function(){r.polygonEnd(),A.lineStart=k}};function C(F,$){F=t(F,$),r.point(F[0],F[1])}function k(){_=NaN,A.point=L,r.lineStart()}function L(F,$){var W=hn([F,$]),Y=t(F,$);i(_,y,p,w,S,T,_=Y[0],y=Y[1],p=F,w=W[0],S=W[1],T=W[2],$l,r),r.point(_,y)}function E(){A.point=C,r.lineEnd()}function I(){k(),A.point=b,A.lineEnd=z}function b(F,$){L(o=F,$),s=_,l=y,f=w,h=S,d=T,A.point=L}function z(){i(_,y,p,w,S,T,s,l,o,f,h,d,$l,r),A.lineEnd=E,E()}return A}}var bw=ur({point:function(t,e){this.stream.point(t*ot,e*ot)}});function Sw(t){return ur({point:function(e,i){var r=t(e,i);return this.stream.point(r[0],r[1])}})}function Tw(t,e,i,r,o){function s(l,f){return l*=r,f*=o,[e+t*l,i-t*f]}return s.invert=function(l,f){return[(l-e)/t*r,(i-f)/t*o]},s}function Wl(t,e,i,r,o,s){var l=it(s),f=tt(s),h=l*t,d=f*t,p=l/t,_=f/t,y=(f*i-l*e)/t,w=(f*e+l*i)/t;function S(T,A){return T*=r,A*=o,[h*T-d*A+e,i-d*T-h*A]}return S.invert=function(T,A){return[r*(p*T-_*A+y),o*(w-_*T-p*A)]},S}function Te(t){return Hu(function(){return t})()}function Hu(t){var e,i=150,r=480,o=250,s=0,l=0,f=0,h=0,d=0,p,_=0,y=1,w=1,S=null,T=Us,A=null,C,k,L,E=Qi,I=.5,b,z,F,$,W;function Y(n){return F(n[0]*ot,n[1]*ot)}function R(n){return n=F.invert(n[0],n[1]),n&&[n[0]*mt,n[1]*mt]}Y.stream=function(n){return $&&W===n?$:$=bw(Sw(p)(T(b(E(W=n)))))},Y.preclip=function(n){return arguments.length?(T=n,S=void 0,Q()):T},Y.postclip=function(n){return arguments.length?(E=n,A=C=k=L=null,Q()):E},Y.clipAngle=function(n){return arguments.length?(T=+n?wd(S=n*ot):(S=null,Us),Q()):S*mt},Y.clipExtent=function(n){return arguments.length?(E=n==null?(A=C=k=L=null,Qi):so(A=+n[0][0],C=+n[0][1],k=+n[1][0],L=+n[1][1]),Q()):A==null?null:[[A,C],[k,L]]},Y.scale=function(n){return arguments.length?(i=+n,X()):i},Y.translate=function(n){return arguments.length?(r=+n[0],o=+n[1],X()):[r,o]},Y.center=function(n){return arguments.length?(s=n[0]%360*ot,l=n[1]%360*ot,X()):[s*mt,l*mt]},Y.rotate=function(n){return arguments.length?(f=n[0]%360*ot,h=n[1]%360*ot,d=n.length>2?n[2]%360*ot:0,X()):[f*mt,h*mt,d*mt]},Y.angle=function(n){return arguments.length?(_=n%360*ot,X()):_*mt},Y.reflectX=function(n){return arguments.length?(y=n?-1:1,X()):y<0},Y.reflectY=function(n){return arguments.length?(w=n?-1:1,X()):w<0},Y.precision=function(n){return arguments.length?(b=Ul(z,I=n*n),Q()):Pt(I)},Y.fitExtent=function(n,a){return uo(Y,n,a)},Y.fitSize=function(n,a){return Xu(Y,n,a)},Y.fitWidth=function(n,a){return Yu(Y,n,a)},Y.fitHeight=function(n,a){return Bu(Y,n,a)};function X(){var n=Wl(i,0,0,y,w,_).apply(null,e(s,l)),a=(_?Wl:Tw)(i,r-n[0],o-n[1],y,w,_);return p=zu(f,h,d),z=Hs(e,a),F=Hs(p,z),b=Ul(z,I),Q()}function Q(){return $=W=null,Y}return function(){return e=t.apply(this,arguments),Y.invert=e.invert&&R,X()}}function $u(t){var e=0,i=lt/3,r=Hu(t),o=r(e,i);return o.parallels=function(s){return arguments.length?r(e=s[0]*ot,i=s[1]*ot):[e*mt,i*mt]},o}function Aw(t){var e=it(t);function i(r,o){return[r*e,tt(o)/e]}return i.invert=function(r,o){return[r/e,$t(o*e)]},i}function Od(t,e){var i=tt(t),r=(i+tt(e))/2;if(gt(r)<at)return Aw(t);var o=1+i*(2*r-i),s=Pt(o)/r;function l(f,h){var d=Pt(o-2*r*tt(h))/r;return[d*tt(f*=r),s-d*it(f)]}return l.invert=function(f,h){var d=s-h,p=Ht(f,gt(d))*oe(d);return d*r<0&&(p-=lt*oe(f)*oe(d)),[p/r,$t((o-(f*f+d*d)*r*r)/(2*r))]},l}function Ma(){return $u(Od).scale(155.424).center([0,33.6442])}function Nd(){return Ma().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Pw(t){var e=t.length;return{point:function(i,r){for(var o=-1;++o<e;)t[o].point(i,r)},sphere:function(){for(var i=-1;++i<e;)t[i].sphere()},lineStart:function(){for(var i=-1;++i<e;)t[i].lineStart()},lineEnd:function(){for(var i=-1;++i<e;)t[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<e;)t[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<e;)t[i].polygonEnd()}}}function Cw(){var t,e,i=Nd(),r,o=Ma().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,l=Ma().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,h,d={point:function(y,w){h=[y,w]}};function p(y){var w=y[0],S=y[1];return h=null,r.point(w,S),h||(s.point(w,S),h)||(f.point(w,S),h)}p.invert=function(y){var w=i.scale(),S=i.translate(),T=(y[0]-S[0])/w,A=(y[1]-S[1])/w;return(A>=.12&&A<.234&&T>=-.425&&T<-.214?o:A>=.166&&A<.234&&T>=-.214&&T<-.115?l:i).invert(y)},p.stream=function(y){return t&&e===y?t:t=Pw([i.stream(e=y),o.stream(y),l.stream(y)])},p.precision=function(y){return arguments.length?(i.precision(y),o.precision(y),l.precision(y),_()):i.precision()},p.scale=function(y){return arguments.length?(i.scale(y),o.scale(y*.35),l.scale(y),p.translate(i.translate())):i.scale()},p.translate=function(y){if(!arguments.length)return i.translate();var w=i.scale(),S=+y[0],T=+y[1];return r=i.translate(y).clipExtent([[S-.455*w,T-.238*w],[S+.455*w,T+.238*w]]).stream(d),s=o.translate([S-.307*w,T+.201*w]).clipExtent([[S-.425*w+at,T+.12*w+at],[S-.214*w-at,T+.234*w-at]]).stream(d),f=l.translate([S-.205*w,T+.212*w]).clipExtent([[S-.214*w+at,T+.166*w+at],[S-.115*w-at,T+.234*w-at]]).stream(d),_()},p.fitExtent=function(y,w){return uo(p,y,w)},p.fitSize=function(y,w){return Xu(p,y,w)},p.fitWidth=function(y,w){return Yu(p,y,w)},p.fitHeight=function(y,w){return Bu(p,y,w)};function _(){return t=e=null,p}return p.scale(1070)}function Dd(t){return function(e,i){var r=it(e),o=it(i),s=t(r*o);return[s*o*tt(e),s*tt(i)]}}function cr(t){return function(e,i){var r=Pt(e*e+i*i),o=t(r),s=tt(o),l=it(o);return[Ht(e*s,r*l),$t(r&&i*s/r)]}}var Uu=Dd(function(t){return Pt(2/(1+t))});Uu.invert=cr(function(t){return 2*$t(t/2)});function Mw(){return Te(Uu).scale(124.75).clipAngle(180-.001)}var Wu=Dd(function(t){return(t=rd(t))&&t/tt(t)});Wu.invert=cr(function(t){return t});function Lw(){return Te(Wu).scale(79.4188).clipAngle(180-.001)}function lr(t,e){return[t,sa(Nu((St+e)/2))]}lr.invert=function(t,e){return[t,2*ii(id(e))-St]};function Ew(){return zd(lr).scale(961/Bt)}function zd(t){var e=Te(t),i=e.center,r=e.scale,o=e.translate,s=e.clipExtent,l=null,f,h,d;e.scale=function(_){return arguments.length?(r(_),p()):r()},e.translate=function(_){return arguments.length?(o(_),p()):o()},e.center=function(_){return arguments.length?(i(_),p()):i()},e.clipExtent=function(_){return arguments.length?(_==null?l=f=h=d=null:(l=+_[0][0],f=+_[0][1],h=+_[1][0],d=+_[1][1]),p()):l==null?null:[[l,f],[h,d]]};function p(){var _=lt*r(),y=e(pd(e.rotate()).invert([0,0]));return s(l==null?[[y[0]-_,y[1]-_],[y[0]+_,y[1]+_]]:t===lr?[[Math.max(y[0]-_,l),f],[Math.min(y[0]+_,h),d]]:[[l,Math.max(y[1]-_,f)],[h,Math.min(y[1]+_,d)]])}return p()}function Er(t){return Nu((St+t)/2)}function Fd(t,e){var i=it(t),r=t===e?tt(t):sa(i/it(e))/sa(Er(e)/Er(t)),o=i*Wo(Er(t),r)/r;if(!r)return lr;function s(l,f){o>0?f<-St+at&&(f=-St+at):f>St-at&&(f=St-at);var h=o/Wo(Er(f),r);return[h*tt(r*l),o-h*it(r*l)]}return s.invert=function(l,f){var h=o-f,d=oe(r)*Pt(l*l+h*h),p=Ht(l,gt(h))*oe(h);return h*r<0&&(p-=lt*oe(l)*oe(h)),[p/r,2*ii(Wo(o/d,1/r))-St]},s}function kw(){return $u(Fd).scale(109.5).parallels([30,30])}function Zi(t,e){return[t,e]}Zi.invert=Zi;function Rw(){return Te(Zi).scale(152.63)}function Xd(t,e){var i=it(t),r=t===e?tt(t):(i-it(e))/(e-t),o=i/r+t;if(gt(r)<at)return Zi;function s(l,f){var h=o-f,d=r*l;return[h*tt(d),o-h*it(d)]}return s.invert=function(l,f){var h=o-f,d=Ht(l,gt(h))*oe(h);return h*r<0&&(d-=lt*oe(l)*oe(h)),[d/r,o-oe(r)*Pt(l*l+h*h)]},s}function Vw(){return $u(Xd).scale(131.154).center([0,13.9389])}var Gi=1.340264,Ii=-.081106,Oi=893e-6,Ni=.003796,La=Pt(3)/2,Gw=12;function qu(t,e){var i=$t(La*tt(e)),r=i*i,o=r*r*r;return[t*it(i)/(La*(Gi+3*Ii*r+o*(7*Oi+9*Ni*r))),i*(Gi+Ii*r+o*(Oi+Ni*r))]}qu.invert=function(t,e){for(var i=e,r=i*i,o=r*r*r,s=0,l,f,h;s<Gw&&(f=i*(Gi+Ii*r+o*(Oi+Ni*r))-e,h=Gi+3*Ii*r+o*(7*Oi+9*Ni*r),i-=l=f/h,r=i*i,o=r*r*r,!(gt(l)<aa));++s);return[La*t*(Gi+3*Ii*r+o*(7*Oi+9*Ni*r))/it(i),$t(tt(i)/La)]};function Iw(){return Te(qu).scale(177.158)}function Qu(t,e){var i=it(e),r=it(t)*i;return[i*tt(t)/r,tt(e)/r]}Qu.invert=cr(ii);function Ow(){return Te(Qu).scale(144.049).clipAngle(60)}function Nw(){var t=1,e=0,i=0,r=1,o=1,s=0,l,f,h=null,d,p,_,y=1,w=1,S=ur({point:function(E,I){var b=L([E,I]);this.stream.point(b[0],b[1])}}),T=Qi,A,C;function k(){return y=t*r,w=t*o,A=C=null,L}function L(E){var I=E[0]*y,b=E[1]*w;if(s){var z=b*l-I*f;I=I*l+b*f,b=z}return[I+e,b+i]}return L.invert=function(E){var I=E[0]-e,b=E[1]-i;if(s){var z=b*l+I*f;I=I*l-b*f,b=z}return[I/y,b/w]},L.stream=function(E){return A&&C===E?A:A=S(T(C=E))},L.postclip=function(E){return arguments.length?(T=E,h=d=p=_=null,k()):T},L.clipExtent=function(E){return arguments.length?(T=E==null?(h=d=p=_=null,Qi):so(h=+E[0][0],d=+E[0][1],p=+E[1][0],_=+E[1][1]),k()):h==null?null:[[h,d],[p,_]]},L.scale=function(E){return arguments.length?(t=+E,k()):t},L.translate=function(E){return arguments.length?(e=+E[0],i=+E[1],k()):[e,i]},L.angle=function(E){return arguments.length?(s=E%360*ot,f=tt(s),l=it(s),k()):s*mt},L.reflectX=function(E){return arguments.length?(r=E?-1:1,k()):r<0},L.reflectY=function(E){return arguments.length?(o=E?-1:1,k()):o<0},L.fitExtent=function(E,I){return uo(L,E,I)},L.fitSize=function(E,I){return Xu(L,E,I)},L.fitWidth=function(E,I){return Yu(L,E,I)},L.fitHeight=function(E,I){return Bu(L,E,I)},L}function ju(t,e){var i=e*e,r=i*i;return[t*(.8707-.131979*i+r*(-.013791+r*(.003971*i-.001529*r))),e*(1.007226+i*(.015085+r*(-.044475+.028874*i-.005916*r)))]}ju.invert=function(t,e){var i=e,r=25,o;do{var s=i*i,l=s*s;i-=o=(i*(1.007226+s*(.015085+l*(-.044475+.028874*s-.005916*l)))-e)/(1.007226+s*(.015085*3+l*(-.044475*7+.028874*9*s-.005916*11*l)))}while(gt(o)>at&&--r>0);return[t/(.8707+(s=i*i)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),i]};function Dw(){return Te(ju).scale(175.295)}function Zu(t,e){return[it(e)*tt(t),tt(e)]}Zu.invert=cr($t);function zw(){return Te(Zu).scale(249.5).clipAngle(90+at)}function Ku(t,e){var i=it(e),r=1+it(t)*i;return[i*tt(t)/r,tt(e)/r]}Ku.invert=cr(function(t){return 2*ii(t)});function Fw(){return Te(Ku).scale(250).clipAngle(142)}function Ju(t,e){return[sa(Nu((St+e)/2)),-t]}Ju.invert=function(t,e){return[-e,2*ii(id(t))-St]};function Xw(){var t=zd(Ju),e=t.center,i=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?i([r[0],r[1],r.length>2?r[2]+90:90]):(r=i(),[r[0],r[1],r[2]-90])},i([0,0,90]).scale(159.155)}function Yw(t,e){return t.parent===e.parent?1:2}function Bw(t){return t.reduce(Hw,0)/t.length}function Hw(t,e){return t+e.x}function $w(t){return 1+t.reduce(Uw,0)}function Uw(t,e){return Math.max(t,e.y)}function Ww(t){for(var e;e=t.children;)t=e[0];return t}function qw(t){for(var e;e=t.children;)t=e[e.length-1];return t}function Qw(){var t=Yw,e=1,i=1,r=!1;function o(s){var l,f=0;s.eachAfter(function(y){var w=y.children;w?(y.x=Bw(w),y.y=$w(w)):(y.x=l?f+=t(y,l):0,y.y=0,l=y)});var h=Ww(s),d=qw(s),p=h.x-t(h,d)/2,_=d.x+t(d,h)/2;return s.eachAfter(r?function(y){y.x=(y.x-s.x)*e,y.y=(s.y-y.y)*i}:function(y){y.x=(y.x-p)/(_-p)*e,y.y=(1-(s.y?y.y/s.y:1))*i})}return o.separation=function(s){return arguments.length?(t=s,o):t},o.size=function(s){return arguments.length?(r=!1,e=+s[0],i=+s[1],o):r?null:[e,i]},o.nodeSize=function(s){return arguments.length?(r=!0,e=+s[0],i=+s[1],o):r?[e,i]:null},o}function jw(t){var e=0,i=t.children,r=i&&i.length;if(!r)e=1;else for(;--r>=0;)e+=i[r].value;t.value=e}function Zw(){return this.eachAfter(jw)}function Kw(t){var e=this,i,r=[e],o,s,l;do for(i=r.reverse(),r=[];e=i.pop();)if(t(e),o=e.children,o)for(s=0,l=o.length;s<l;++s)r.push(o[s]);while(r.length);return this}function Jw(t){for(var e=this,i=[e],r,o;e=i.pop();)if(t(e),r=e.children,r)for(o=r.length-1;o>=0;--o)i.push(r[o]);return this}function tb(t){for(var e=this,i=[e],r=[],o,s,l;e=i.pop();)if(r.push(e),o=e.children,o)for(s=0,l=o.length;s<l;++s)i.push(o[s]);for(;e=r.pop();)t(e);return this}function eb(t){return this.eachAfter(function(e){for(var i=+t(e.data)||0,r=e.children,o=r&&r.length;--o>=0;)i+=r[o].value;e.value=i})}function nb(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function ib(t){for(var e=this,i=rb(e,t),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;t!==i;)r.splice(o,0,t),t=t.parent;return r}function rb(t,e){if(t===e)return t;var i=t.ancestors(),r=e.ancestors(),o=null;for(t=i.pop(),e=r.pop();t===e;)o=t,t=i.pop(),e=r.pop();return o}function ab(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function ob(){var t=[];return this.each(function(e){t.push(e)}),t}function sb(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function ub(){var t=this,e=[];return t.each(function(i){i!==t&&e.push({source:i.parent,target:i})}),e}function tc(t,e){var i=new Kn(t),r=+t.value&&(i.value=t.value),o,s=[i],l,f,h,d;for(e==null&&(e=lb);o=s.pop();)if(r&&(o.value=+o.data.value),(f=e(o.data))&&(d=f.length))for(o.children=new Array(d),h=d-1;h>=0;--h)s.push(l=o.children[h]=new Kn(f[h])),l.parent=o,l.depth=o.depth+1;return i.eachBefore(Yd)}function cb(){return tc(this).eachBefore(fb)}function lb(t){return t.children}function fb(t){t.data=t.data.data}function Yd(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Kn(t){this.data=t,this.depth=this.height=0,this.parent=null}Kn.prototype=tc.prototype={constructor:Kn,count:Zw,each:Kw,eachAfter:tb,eachBefore:Jw,sum:eb,sort:nb,path:ib,ancestors:ab,descendants:ob,leaves:sb,links:ub,copy:cb};var hb=Array.prototype.slice;function db(t){for(var e=t.length,i,r;e;)r=Math.random()*e--|0,i=t[e],t[e]=t[r],t[r]=i;return t}function Bd(t){for(var e=0,i=(t=db(hb.call(t))).length,r=[],o,s;e<i;)o=t[e],s&&Hd(s,o)?++e:(s=pb(r=gb(r,o)),e=0);return s}function gb(t,e){var i,r;if(Jo(e,t))return[e];for(i=0;i<t.length;++i)if(kr(e,t[i])&&Jo(Ai(t[i],e),t))return[t[i],e];for(i=0;i<t.length-1;++i)for(r=i+1;r<t.length;++r)if(kr(Ai(t[i],t[r]),e)&&kr(Ai(t[i],e),t[r])&&kr(Ai(t[r],e),t[i])&&Jo($d(t[i],t[r],e),t))return[t[i],t[r],e];throw new Error}function kr(t,e){var i=t.r-e.r,r=e.x-t.x,o=e.y-t.y;return i<0||i*i<r*r+o*o}function Hd(t,e){var i=t.r-e.r+1e-6,r=e.x-t.x,o=e.y-t.y;return i>0&&i*i>r*r+o*o}function Jo(t,e){for(var i=0;i<e.length;++i)if(!Hd(t,e[i]))return!1;return!0}function pb(t){switch(t.length){case 1:return yb(t[0]);case 2:return Ai(t[0],t[1]);case 3:return $d(t[0],t[1],t[2])}}function yb(t){return{x:t.x,y:t.y,r:t.r}}function Ai(t,e){var i=t.x,r=t.y,o=t.r,s=e.x,l=e.y,f=e.r,h=s-i,d=l-r,p=f-o,_=Math.sqrt(h*h+d*d);return{x:(i+s+h/_*p)/2,y:(r+l+d/_*p)/2,r:(_+o+f)/2}}function $d(t,e,i){var r=t.x,o=t.y,s=t.r,l=e.x,f=e.y,h=e.r,d=i.x,p=i.y,_=i.r,y=r-l,w=r-d,S=o-f,T=o-p,A=h-s,C=_-s,k=r*r+o*o-s*s,L=k-l*l-f*f+h*h,E=k-d*d-p*p+_*_,I=w*S-y*T,b=(S*E-T*L)/(I*2)-r,z=(T*A-S*C)/I,F=(w*L-y*E)/(I*2)-o,$=(y*C-w*A)/I,W=z*z+$*$-1,Y=2*(s+b*z+F*$),R=b*b+F*F-s*s,X=-(W?(Y+Math.sqrt(Y*Y-4*W*R))/(2*W):R/Y);return{x:r+b+z*X,y:o+F+$*X,r:X}}function ql(t,e,i){var r=t.x-e.x,o,s,l=t.y-e.y,f,h,d=r*r+l*l;d?(s=e.r+i.r,s*=s,h=t.r+i.r,h*=h,s>h?(o=(d+h-s)/(2*d),f=Math.sqrt(Math.max(0,h/d-o*o)),i.x=t.x-o*r-f*l,i.y=t.y-o*l+f*r):(o=(d+s-h)/(2*d),f=Math.sqrt(Math.max(0,s/d-o*o)),i.x=e.x+o*r-f*l,i.y=e.y+o*l+f*r)):(i.x=e.x+i.r,i.y=e.y)}function Ql(t,e){var i=t.r+e.r-1e-6,r=e.x-t.x,o=e.y-t.y;return i>0&&i*i>r*r+o*o}function jl(t){var e=t._,i=t.next._,r=e.r+i.r,o=(e.x*i.r+i.x*e.r)/r,s=(e.y*i.r+i.y*e.r)/r;return o*o+s*s}function Rr(t){this._=t,this.next=null,this.previous=null}function Ud(t){if(!(o=t.length))return 0;var e,i,r,o,s,l,f,h,d,p,_;if(e=t[0],e.x=0,e.y=0,!(o>1))return e.r;if(i=t[1],e.x=-i.r,i.x=e.r,i.y=0,!(o>2))return e.r+i.r;ql(i,e,r=t[2]),e=new Rr(e),i=new Rr(i),r=new Rr(r),e.next=r.previous=i,i.next=e.previous=r,r.next=i.previous=e;t:for(f=3;f<o;++f){ql(e._,i._,r=t[f]),r=new Rr(r),h=i.next,d=e.previous,p=i._.r,_=e._.r;do if(p<=_){if(Ql(h._,r._)){i=h,e.next=i,i.previous=e,--f;continue t}p+=h._.r,h=h.next}else{if(Ql(d._,r._)){e=d,e.next=i,i.previous=e,--f;continue t}_+=d._.r,d=d.previous}while(h!==d.next);for(r.previous=e,r.next=i,e.next=i.previous=i=r,s=jl(e);(r=r.next)!==i;)(l=jl(r))<s&&(e=r,s=l);i=e.next}for(e=[i._],r=i;(r=r.next)!==i;)e.push(r._);for(r=Bd(e),f=0;f<o;++f)e=t[f],e.x-=r.x,e.y-=r.y;return r.r}function _b(t){return Ud(t),t}function mb(t){return t==null?null:Ea(t)}function Ea(t){if(typeof t!="function")throw new Error;return t}function rn(){return 0}function Gn(t){return function(){return t}}function xb(t){return Math.sqrt(t.value)}function vb(){var t=null,e=1,i=1,r=rn;function o(s){return s.x=e/2,s.y=i/2,t?s.eachBefore(Zl(t)).eachAfter(ts(r,.5)).eachBefore(Kl(1)):s.eachBefore(Zl(xb)).eachAfter(ts(rn,1)).eachAfter(ts(r,s.r/Math.min(e,i))).eachBefore(Kl(Math.min(e,i)/(2*s.r))),s}return o.radius=function(s){return arguments.length?(t=mb(s),o):t},o.size=function(s){return arguments.length?(e=+s[0],i=+s[1],o):[e,i]},o.padding=function(s){return arguments.length?(r=typeof s=="function"?s:Gn(+s),o):r},o}function Zl(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function ts(t,e){return function(i){if(r=i.children){var r,o,s=r.length,l=t(i)*e||0,f;if(l)for(o=0;o<s;++o)r[o].r+=l;if(f=Ud(r),l)for(o=0;o<s;++o)r[o].r-=l;i.r=f+l}}}function Kl(t){return function(e){var i=e.parent;e.r*=t,i&&(e.x=i.x+t*e.x,e.y=i.y+t*e.y)}}function Wd(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function fr(t,e,i,r,o){for(var s=t.children,l,f=-1,h=s.length,d=t.value&&(r-e)/t.value;++f<h;)l=s[f],l.y0=i,l.y1=o,l.x0=e,l.x1=e+=l.value*d}function wb(){var t=1,e=1,i=0,r=!1;function o(l){var f=l.height+1;return l.x0=l.y0=i,l.x1=t,l.y1=e/f,l.eachBefore(s(e,f)),r&&l.eachBefore(Wd),l}function s(l,f){return function(h){h.children&&fr(h,h.x0,l*(h.depth+1)/f,h.x1,l*(h.depth+2)/f);var d=h.x0,p=h.y0,_=h.x1-i,y=h.y1-i;_<d&&(d=_=(d+_)/2),y<p&&(p=y=(p+y)/2),h.x0=d,h.y0=p,h.x1=_,h.y1=y}}return o.round=function(l){return arguments.length?(r=!!l,o):r},o.size=function(l){return arguments.length?(t=+l[0],e=+l[1],o):[t,e]},o.padding=function(l){return arguments.length?(i=+l,o):i},o}var Jl="$",bb={depth:-1},tf={};function Sb(t){return t.id}function Tb(t){return t.parentId}function Ab(){var t=Sb,e=Tb;function i(r){var o,s,l=r.length,f,h,d,p=new Array(l),_,y,w={};for(s=0;s<l;++s)o=r[s],d=p[s]=new Kn(o),(_=t(o,s,r))!=null&&(_+="")&&(y=Jl+(d.id=_),w[y]=y in w?tf:d);for(s=0;s<l;++s)if(d=p[s],_=e(r[s],s,r),_==null||!(_+="")){if(f)throw new Error("multiple roots");f=d}else{if(h=w[Jl+_],!h)throw new Error("missing: "+_);if(h===tf)throw new Error("ambiguous: "+_);h.children?h.children.push(d):h.children=[d],d.parent=h}if(!f)throw new Error("no root");if(f.parent=bb,f.eachBefore(function(S){S.depth=S.parent.depth+1,--l}).eachBefore(Yd),f.parent=null,l>0)throw new Error("cycle");return f}return i.id=function(r){return arguments.length?(t=Ea(r),i):t},i.parentId=function(r){return arguments.length?(e=Ea(r),i):e},i}function Pb(t,e){return t.parent===e.parent?1:2}function es(t){var e=t.children;return e?e[0]:t.t}function ns(t){var e=t.children;return e?e[e.length-1]:t.t}function Cb(t,e,i){var r=i/(e.i-t.i);e.c-=r,e.s+=i,t.c+=r,e.z+=i,e.m+=i}function Mb(t){for(var e=0,i=0,r=t.children,o=r.length,s;--o>=0;)s=r[o],s.z+=e,s.m+=e,e+=s.s+(i+=s.c)}function Lb(t,e,i){return t.a.parent===e.parent?t.a:i}function Wr(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Wr.prototype=Object.create(Kn.prototype);function Eb(t){for(var e=new Wr(t,0),i,r=[e],o,s,l,f;i=r.pop();)if(s=i._.children)for(i.children=new Array(f=s.length),l=f-1;l>=0;--l)r.push(o=i.children[l]=new Wr(s[l],l)),o.parent=i;return(e.parent=new Wr(null,0)).children=[e],e}function kb(){var t=Pb,e=1,i=1,r=null;function o(d){var p=Eb(d);if(p.eachAfter(s),p.parent.m=-p.z,p.eachBefore(l),r)d.eachBefore(h);else{var _=d,y=d,w=d;d.eachBefore(function(k){k.x<_.x&&(_=k),k.x>y.x&&(y=k),k.depth>w.depth&&(w=k)});var S=_===y?1:t(_,y)/2,T=S-_.x,A=e/(y.x+S+T),C=i/(w.depth||1);d.eachBefore(function(k){k.x=(k.x+T)*A,k.y=k.depth*C})}return d}function s(d){var p=d.children,_=d.parent.children,y=d.i?_[d.i-1]:null;if(p){Mb(d);var w=(p[0].z+p[p.length-1].z)/2;y?(d.z=y.z+t(d._,y._),d.m=d.z-w):d.z=w}else y&&(d.z=y.z+t(d._,y._));d.parent.A=f(d,y,d.parent.A||_[0])}function l(d){d._.x=d.z+d.parent.m,d.m+=d.parent.m}function f(d,p,_){if(p){for(var y=d,w=d,S=p,T=y.parent.children[0],A=y.m,C=w.m,k=S.m,L=T.m,E;S=ns(S),y=es(y),S&&y;)T=es(T),w=ns(w),w.a=d,E=S.z+k-y.z-A+t(S._,y._),E>0&&(Cb(Lb(S,d,_),d,E),A+=E,C+=E),k+=S.m,A+=y.m,L+=T.m,C+=w.m;S&&!ns(w)&&(w.t=S,w.m+=k-C),y&&!es(T)&&(T.t=y,T.m+=A-L,_=d)}return _}function h(d){d.x*=e,d.y=d.depth*i}return o.separation=function(d){return arguments.length?(t=d,o):t},o.size=function(d){return arguments.length?(r=!1,e=+d[0],i=+d[1],o):r?null:[e,i]},o.nodeSize=function(d){return arguments.length?(r=!0,e=+d[0],i=+d[1],o):r?[e,i]:null},o}function co(t,e,i,r,o){for(var s=t.children,l,f=-1,h=s.length,d=t.value&&(o-i)/t.value;++f<h;)l=s[f],l.x0=e,l.x1=r,l.y0=i,l.y1=i+=l.value*d}var qd=(1+Math.sqrt(5))/2;function Qd(t,e,i,r,o,s){for(var l=[],f=e.children,h,d,p=0,_=0,y=f.length,w,S,T=e.value,A,C,k,L,E,I,b;p<y;){w=o-i,S=s-r;do A=f[_++].value;while(!A&&_<y);for(C=k=A,I=Math.max(S/w,w/S)/(T*t),b=A*A*I,E=Math.max(k/b,b/C);_<y;++_){if(A+=d=f[_].value,d<C&&(C=d),d>k&&(k=d),b=A*A*I,L=Math.max(k/b,b/C),L>E){A-=d;break}E=L}l.push(h={value:A,dice:w<S,children:f.slice(p,_)}),h.dice?fr(h,i,r,o,T?r+=S*A/T:s):co(h,i,r,T?i+=w*A/T:o,s),T-=A,p=_}return l}const jd=function t(e){function i(r,o,s,l,f){Qd(e,r,o,s,l,f)}return i.ratio=function(r){return t((r=+r)>1?r:1)},i}(qd);function Rb(){var t=jd,e=!1,i=1,r=1,o=[0],s=rn,l=rn,f=rn,h=rn,d=rn;function p(y){return y.x0=y.y0=0,y.x1=i,y.y1=r,y.eachBefore(_),o=[0],e&&y.eachBefore(Wd),y}function _(y){var w=o[y.depth],S=y.x0+w,T=y.y0+w,A=y.x1-w,C=y.y1-w;A<S&&(S=A=(S+A)/2),C<T&&(T=C=(T+C)/2),y.x0=S,y.y0=T,y.x1=A,y.y1=C,y.children&&(w=o[y.depth+1]=s(y)/2,S+=d(y)-w,T+=l(y)-w,A-=f(y)-w,C-=h(y)-w,A<S&&(S=A=(S+A)/2),C<T&&(T=C=(T+C)/2),t(y,S,T,A,C))}return p.round=function(y){return arguments.length?(e=!!y,p):e},p.size=function(y){return arguments.length?(i=+y[0],r=+y[1],p):[i,r]},p.tile=function(y){return arguments.length?(t=Ea(y),p):t},p.padding=function(y){return arguments.length?p.paddingInner(y).paddingOuter(y):p.paddingInner()},p.paddingInner=function(y){return arguments.length?(s=typeof y=="function"?y:Gn(+y),p):s},p.paddingOuter=function(y){return arguments.length?p.paddingTop(y).paddingRight(y).paddingBottom(y).paddingLeft(y):p.paddingTop()},p.paddingTop=function(y){return arguments.length?(l=typeof y=="function"?y:Gn(+y),p):l},p.paddingRight=function(y){return arguments.length?(f=typeof y=="function"?y:Gn(+y),p):f},p.paddingBottom=function(y){return arguments.length?(h=typeof y=="function"?y:Gn(+y),p):h},p.paddingLeft=function(y){return arguments.length?(d=typeof y=="function"?y:Gn(+y),p):d},p}function Vb(t,e,i,r,o){var s=t.children,l,f=s.length,h,d=new Array(f+1);for(d[0]=h=l=0;l<f;++l)d[l+1]=h+=s[l].value;p(0,f,t.value,e,i,r,o);function p(_,y,w,S,T,A,C){if(_>=y-1){var k=s[_];k.x0=S,k.y0=T,k.x1=A,k.y1=C;return}for(var L=d[_],E=w/2+L,I=_+1,b=y-1;I<b;){var z=I+b>>>1;d[z]<E?I=z+1:b=z}E-d[I-1]<d[I]-E&&_+1<I&&--I;var F=d[I]-L,$=w-F;if(A-S>C-T){var W=(S*$+A*F)/w;p(_,I,F,S,T,W,C),p(I,y,$,W,T,A,C)}else{var Y=(T*$+C*F)/w;p(_,I,F,S,T,A,Y),p(I,y,$,S,Y,A,C)}}}function Gb(t,e,i,r,o){(t.depth&1?co:fr)(t,e,i,r,o)}const Ib=function t(e){function i(r,o,s,l,f){if((h=r._squarify)&&h.ratio===e)for(var h,d,p,_,y=-1,w,S=h.length,T=r.value;++y<S;){for(d=h[y],p=d.children,_=d.value=0,w=p.length;_<w;++_)d.value+=p[_].value;d.dice?fr(d,o,s,l,s+=(f-s)*d.value/T):co(d,o,s,o+=(l-o)*d.value/T,f),T-=d.value}else r._squarify=h=Qd(e,r,o,s,l,f),h.ratio=e}return i.ratio=function(r){return t((r=+r)>1?r:1)},i}(qd);function Ob(t){for(var e=-1,i=t.length,r,o=t[i-1],s=0;++e<i;)r=o,o=t[e],s+=r[1]*o[0]-r[0]*o[1];return s/2}function Nb(t){for(var e=-1,i=t.length,r=0,o=0,s,l=t[i-1],f,h=0;++e<i;)s=l,l=t[e],h+=f=s[0]*l[1]-l[0]*s[1],r+=(s[0]+l[0])*f,o+=(s[1]+l[1])*f;return h*=3,[r/h,o/h]}function Db(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(e[1]-t[1])*(i[0]-t[0])}function zb(t,e){return t[0]-e[0]||t[1]-e[1]}function ef(t){for(var e=t.length,i=[0,1],r=2,o=2;o<e;++o){for(;r>1&&Db(t[i[r-2]],t[i[r-1]],t[o])<=0;)--r;i[r++]=o}return i.slice(0,r)}function Fb(t){if((i=t.length)<3)return null;var e,i,r=new Array(i),o=new Array(i);for(e=0;e<i;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(zb),e=0;e<i;++e)o[e]=[r[e][0],-r[e][1]];var s=ef(r),l=ef(o),f=l[0]===s[0],h=l[l.length-1]===s[s.length-1],d=[];for(e=s.length-1;e>=0;--e)d.push(t[r[s[e]][2]]);for(e=+f;e<l.length-h;++e)d.push(t[r[l[e]][2]]);return d}function Xb(t,e){for(var i=t.length,r=t[i-1],o=e[0],s=e[1],l=r[0],f=r[1],h,d,p=!1,_=0;_<i;++_)r=t[_],h=r[0],d=r[1],d>s!=f>s&&o<(l-h)*(s-d)/(f-d)+h&&(p=!p),l=h,f=d;return p}function Yb(t){for(var e=-1,i=t.length,r=t[i-1],o,s,l=r[0],f=r[1],h=0;++e<i;)o=l,s=f,r=t[e],l=r[0],f=r[1],o-=l,s-=f,h+=Math.sqrt(o*o+s*s);return h}function ri(){return Math.random()}const Bb=function t(e){function i(r,o){return r=r==null?0:+r,o=o==null?1:+o,arguments.length===1?(o=r,r=0):o-=r,function(){return e()*o+r}}return i.source=t,i}(ri),Zd=function t(e){function i(r,o){var s,l;return r=r==null?0:+r,o=o==null?1:+o,function(){var f;if(s!=null)f=s,s=null;else do s=e()*2-1,f=e()*2-1,l=s*s+f*f;while(!l||l>1);return r+o*f*Math.sqrt(-2*Math.log(l)/l)}}return i.source=t,i}(ri),Hb=function t(e){function i(){var r=Zd.source(e).apply(this,arguments);return function(){return Math.exp(r())}}return i.source=t,i}(ri),Kd=function t(e){function i(r){return function(){for(var o=0,s=0;s<r;++s)o+=e();return o}}return i.source=t,i}(ri),$b=function t(e){function i(r){var o=Kd.source(e)(r);return function(){return o()/r}}return i.source=t,i}(ri),Ub=function t(e){function i(r){return function(){return-Math.log(1-e())/r}}return i.source=t,i}(ri);function ge(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ge(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t);break}return this}var Jd=Array.prototype,ka=Jd.map,gn=Jd.slice,au={name:"implicit"};function ec(){var t=ke(),e=[],i=[],r=au;function o(s){var l=s+"",f=t.get(l);if(!f){if(r!==au)return r;t.set(l,f=e.push(s))}return i[(f-1)%i.length]}return o.domain=function(s){if(!arguments.length)return e.slice();e=[],t=ke();for(var l=-1,f=s.length,h,d;++l<f;)t.has(d=(h=s[l])+"")||t.set(d,e.push(h));return o},o.range=function(s){return arguments.length?(i=gn.call(s),o):i.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.copy=function(){return ec(e,i).unknown(r)},ge.apply(o,arguments),o}function nc(){var t=ec().unknown(void 0),e=t.domain,i=t.range,r=[0,1],o,s,l=!1,f=0,h=0,d=.5;delete t.unknown;function p(){var _=e().length,y=r[1]<r[0],w=r[y-0],S=r[1-y];o=(S-w)/Math.max(1,_-f+h*2),l&&(o=Math.floor(o)),w+=(S-w-o*(_-f))*d,s=o*(1-f),l&&(w=Math.round(w),s=Math.round(s));var T=te(_).map(function(A){return w+o*A});return i(y?T.reverse():T)}return t.domain=function(_){return arguments.length?(e(_),p()):e()},t.range=function(_){return arguments.length?(r=[+_[0],+_[1]],p()):r.slice()},t.rangeRound=function(_){return r=[+_[0],+_[1]],l=!0,p()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(_){return arguments.length?(l=!!_,p()):l},t.padding=function(_){return arguments.length?(f=Math.min(1,h=+_),p()):f},t.paddingInner=function(_){return arguments.length?(f=Math.min(1,_),p()):f},t.paddingOuter=function(_){return arguments.length?(h=+_,p()):h},t.align=function(_){return arguments.length?(d=Math.max(0,Math.min(1,_)),p()):d},t.copy=function(){return nc(e(),r).round(l).paddingInner(f).paddingOuter(h).align(d)},ge.apply(p(),arguments)}function tg(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return tg(e())},t}function Wb(){return tg(nc.apply(null,arguments).paddingInner(1))}function qb(t){return function(){return t}}function ou(t){return+t}var nf=[0,1];function Rt(t){return t}function su(t,e){return(e-=t=+t)?function(i){return(i-t)/e}:qb(isNaN(e)?NaN:.5)}function rf(t){var e=t[0],i=t[t.length-1],r;return e>i&&(r=e,e=i,i=r),function(o){return Math.max(e,Math.min(i,o))}}function Qb(t,e,i){var r=t[0],o=t[1],s=e[0],l=e[1];return o<r?(r=su(o,r),s=i(l,s)):(r=su(r,o),s=i(s,l)),function(f){return s(r(f))}}function jb(t,e,i){var r=Math.min(t.length,e.length)-1,o=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)o[l]=su(t[l],t[l+1]),s[l]=i(e[l],e[l+1]);return function(f){var h=Xe(t,f,1,r)-1;return s[h](o[h](f))}}function hr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function lo(){var t=nf,e=nf,i=or,r,o,s,l=Rt,f,h,d;function p(){return f=Math.min(t.length,e.length)>2?jb:Qb,h=d=null,_}function _(y){return isNaN(y=+y)?s:(h||(h=f(t.map(r),e,i)))(r(l(y)))}return _.invert=function(y){return l(o((d||(d=f(e,t.map(r),ae)))(y)))},_.domain=function(y){return arguments.length?(t=ka.call(y,ou),l===Rt||(l=rf(t)),p()):t.slice()},_.range=function(y){return arguments.length?(e=gn.call(y),p()):e.slice()},_.rangeRound=function(y){return e=gn.call(y),i=Sh,p()},_.clamp=function(y){return arguments.length?(l=y?rf(t):Rt,_):l!==Rt},_.interpolate=function(y){return arguments.length?(i=y,p()):i},_.unknown=function(y){return arguments.length?(s=y,_):s},function(y,w){return r=y,o=w,p()}}function eg(t,e){return lo()(t,e)}function ng(t,e,i,r){var o=un(t,e,i),s;switch(r=qi(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=ed(o,l))&&(r.precision=s),Ou(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=nd(o,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=td(o))&&(r.precision=s-(r.type==="%")*2);break}}return oo(r)}function Tn(t){var e=t.domain;return t.ticks=function(i){var r=e();return du(r[0],r[r.length-1],i??10)},t.tickFormat=function(i,r){var o=e();return ng(o[0],o[o.length-1],i??10,r)},t.nice=function(i){i==null&&(i=10);var r=e(),o=0,s=r.length-1,l=r[o],f=r[s],h;return f<l&&(h=l,l=f,f=h,h=o,o=s,s=h),h=Ri(l,f,i),h>0?(l=Math.floor(l/h)*h,f=Math.ceil(f/h)*h,h=Ri(l,f,i)):h<0&&(l=Math.ceil(l*h)/h,f=Math.floor(f*h)/h,h=Ri(l,f,i)),h>0?(r[o]=Math.floor(l/h)*h,r[s]=Math.ceil(f/h)*h,e(r)):h<0&&(r[o]=Math.ceil(l*h)/h,r[s]=Math.floor(f*h)/h,e(r)),t},t}function ig(){var t=eg(Rt,Rt);return t.copy=function(){return hr(t,ig())},ge.apply(t,arguments),Tn(t)}function rg(t){var e;function i(r){return isNaN(r=+r)?e:r}return i.invert=i,i.domain=i.range=function(r){return arguments.length?(t=ka.call(r,ou),i):t.slice()},i.unknown=function(r){return arguments.length?(e=r,i):e},i.copy=function(){return rg(t).unknown(e)},t=arguments.length?ka.call(t,ou):[0,1],Tn(i)}function ag(t,e){t=t.slice();var i=0,r=t.length-1,o=t[i],s=t[r],l;return s<o&&(l=i,i=r,r=l,l=o,o=s,s=l),t[i]=e.floor(o),t[r]=e.ceil(s),t}function af(t){return Math.log(t)}function of(t){return Math.exp(t)}function Zb(t){return-Math.log(-t)}function Kb(t){return-Math.exp(-t)}function Jb(t){return isFinite(t)?+("1e"+t):t<0?0:t}function t2(t){return t===10?Jb:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function e2(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function sf(t){return function(e){return-t(-e)}}function ic(t){var e=t(af,of),i=e.domain,r=10,o,s;function l(){return o=e2(r),s=t2(r),i()[0]<0?(o=sf(o),s=sf(s),t(Zb,Kb)):t(af,of),e}return e.base=function(f){return arguments.length?(r=+f,l()):r},e.domain=function(f){return arguments.length?(i(f),l()):i()},e.ticks=function(f){var h=i(),d=h[0],p=h[h.length-1],_;(_=p<d)&&(y=d,d=p,p=y);var y=o(d),w=o(p),S,T,A,C=f==null?10:+f,k=[];if(!(r%1)&&w-y<C){if(y=Math.round(y)-1,w=Math.round(w)+1,d>0){for(;y<w;++y)for(T=1,S=s(y);T<r;++T)if(A=S*T,!(A<d)){if(A>p)break;k.push(A)}}else for(;y<w;++y)for(T=r-1,S=s(y);T>=1;--T)if(A=S*T,!(A<d)){if(A>p)break;k.push(A)}}else k=du(y,w,Math.min(w-y,C)).map(s);return _?k.reverse():k},e.tickFormat=function(f,h){if(h==null&&(h=r===10?".0e":","),typeof h!="function"&&(h=oo(h)),f===1/0)return h;f==null&&(f=10);var d=Math.max(1,r*f/e.ticks().length);return function(p){var _=p/s(Math.round(o(p)));return _*r<r-.5&&(_*=r),_<=d?h(p):""}},e.nice=function(){return i(ag(i(),{floor:function(f){return s(Math.floor(o(f)))},ceil:function(f){return s(Math.ceil(o(f)))}}))},e}function og(){var t=ic(lo()).domain([1,10]);return t.copy=function(){return hr(t,og()).base(t.base())},ge.apply(t,arguments),t}function uf(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function cf(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function rc(t){var e=1,i=t(uf(e),cf(e));return i.constant=function(r){return arguments.length?t(uf(e=+r),cf(e)):e},Tn(i)}function sg(){var t=rc(lo());return t.copy=function(){return hr(t,sg()).constant(t.constant())},ge.apply(t,arguments)}function lf(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function n2(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function i2(t){return t<0?-t*t:t*t}function ac(t){var e=t(Rt,Rt),i=1;function r(){return i===1?t(Rt,Rt):i===.5?t(n2,i2):t(lf(i),lf(1/i))}return e.exponent=function(o){return arguments.length?(i=+o,r()):i},Tn(e)}function oc(){var t=ac(lo());return t.copy=function(){return hr(t,oc()).exponent(t.exponent())},ge.apply(t,arguments),t}function r2(){return oc.apply(null,arguments).exponent(.5)}function ug(){var t=[],e=[],i=[],r;function o(){var l=0,f=Math.max(1,e.length);for(i=new Array(f-1);++l<f;)i[l-1]=Di(t,l/f);return s}function s(l){return isNaN(l=+l)?r:e[Xe(i,l)]}return s.invertExtent=function(l){var f=e.indexOf(l);return f<0?[NaN,NaN]:[f>0?i[f-1]:t[0],f<i.length?i[f]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(var f=0,h=l.length,d;f<h;++f)d=l[f],d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(We),o()},s.range=function(l){return arguments.length?(e=gn.call(l),o()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return i.slice()},s.copy=function(){return ug().domain(t).range(e).unknown(r)},ge.apply(s,arguments)}function cg(){var t=0,e=1,i=1,r=[.5],o=[0,1],s;function l(h){return h<=h?o[Xe(r,h,0,i)]:s}function f(){var h=-1;for(r=new Array(i);++h<i;)r[h]=((h+1)*e-(h-i)*t)/(i+1);return l}return l.domain=function(h){return arguments.length?(t=+h[0],e=+h[1],f()):[t,e]},l.range=function(h){return arguments.length?(i=(o=gn.call(h)).length-1,f()):o.slice()},l.invertExtent=function(h){var d=o.indexOf(h);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=i?[r[i-1],e]:[r[d-1],r[d]]},l.unknown=function(h){return arguments.length&&(s=h),l},l.thresholds=function(){return r.slice()},l.copy=function(){return cg().domain([t,e]).range(o).unknown(s)},ge.apply(Tn(l),arguments)}function lg(){var t=[.5],e=[0,1],i,r=1;function o(s){return s<=s?e[Xe(t,s,0,r)]:i}return o.domain=function(s){return arguments.length?(t=gn.call(s),r=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(s){return arguments.length?(e=gn.call(s),r=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},o.unknown=function(s){return arguments.length?(i=s,o):i},o.copy=function(){return lg().domain(t).range(e).unknown(i)},ge.apply(o,arguments)}var is=new Date,rs=new Date;function Mt(t,e,i,r){function o(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return o.floor=function(s){return t(s=new Date(+s)),s},o.ceil=function(s){return t(s=new Date(s-1)),e(s,1),t(s),s},o.round=function(s){var l=o(s),f=o.ceil(s);return s-l<f-s?l:f},o.offset=function(s,l){return e(s=new Date(+s),l==null?1:Math.floor(l)),s},o.range=function(s,l,f){var h=[],d;if(s=o.ceil(s),f=f==null?1:Math.floor(f),!(s<l)||!(f>0))return h;do h.push(d=new Date(+s)),e(s,f),t(s);while(d<s&&s<l);return h},o.filter=function(s){return Mt(function(l){if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},function(l,f){if(l>=l)if(f<0)for(;++f<=0;)for(;e(l,-1),!s(l););else for(;--f>=0;)for(;e(l,1),!s(l););})},i&&(o.count=function(s,l){return is.setTime(+s),rs.setTime(+l),t(is),t(rs),Math.floor(i(is,rs))},o.every=function(s){return s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?o.filter(r?function(l){return r(l)%s===0}:function(l){return o.count(0,l)%s===0}):o}),o}var Ra=Mt(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Ra.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Mt(function(e){e.setTime(Math.floor(e/t)*t)},function(e,i){e.setTime(+e+i*t)},function(e,i){return(i-e)/t}):Ra};const Va=Ra;var ff=Ra.range,Ga=1e3,pn=6e4,Ia=36e5,fg=864e5,hg=6048e5,dg=Mt(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*Ga)},function(t,e){return(e-t)/Ga},function(t){return t.getUTCSeconds()});const Oa=dg;var hf=dg.range,gg=Mt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ga)},function(t,e){t.setTime(+t+e*pn)},function(t,e){return(e-t)/pn},function(t){return t.getMinutes()});const pg=gg;var a2=gg.range,yg=Mt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ga-t.getMinutes()*pn)},function(t,e){t.setTime(+t+e*Ia)},function(t,e){return(e-t)/Ia},function(t){return t.getHours()});const _g=yg;var o2=yg.range,mg=Mt(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*pn)/fg},function(t){return t.getDate()-1});const fo=mg;var s2=mg.range;function An(t){return Mt(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,i){e.setDate(e.getDate()+i*7)},function(e,i){return(i-e-(i.getTimezoneOffset()-e.getTimezoneOffset())*pn)/hg})}var Ki=An(0),Ji=An(1),xg=An(2),vg=An(3),yn=An(4),wg=An(5),bg=An(6),df=Ki.range,u2=Ji.range,c2=xg.range,l2=vg.range,f2=yn.range,h2=wg.range,d2=bg.range,Sg=Mt(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});const Tg=Sg;var g2=Sg.range,sc=Mt(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});sc.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Mt(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,i){e.setFullYear(e.getFullYear()+i*t)})};const _n=sc;var p2=sc.range,Ag=Mt(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*pn)},function(t,e){return(e-t)/pn},function(t){return t.getUTCMinutes()});const Pg=Ag;var y2=Ag.range,Cg=Mt(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*Ia)},function(t,e){return(e-t)/Ia},function(t){return t.getUTCHours()});const Mg=Cg;var _2=Cg.range,Lg=Mt(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/fg},function(t){return t.getUTCDate()-1});const ho=Lg;var m2=Lg.range;function Pn(t){return Mt(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,i){e.setUTCDate(e.getUTCDate()+i*7)},function(e,i){return(i-e)/hg})}var tr=Pn(0),er=Pn(1),Eg=Pn(2),kg=Pn(3),mn=Pn(4),Rg=Pn(5),Vg=Pn(6),gf=tr.range,x2=er.range,v2=Eg.range,w2=kg.range,b2=mn.range,S2=Rg.range,T2=Vg.range,Gg=Mt(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});const Ig=Gg;var A2=Gg.range,uc=Mt(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});uc.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Mt(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,i){e.setUTCFullYear(e.getUTCFullYear()+i*t)})};const xn=uc;var P2=uc.range;function as(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function os(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ci(t,e,i){return{y:t,m:e,d:i,H:0,M:0,S:0,L:0}}function Og(t){var e=t.dateTime,i=t.date,r=t.time,o=t.periods,s=t.days,l=t.shortDays,f=t.months,h=t.shortMonths,d=li(o),p=fi(o),_=li(s),y=fi(s),w=li(l),S=fi(l),T=li(f),A=fi(f),C=li(h),k=fi(h),L={a:u,A:c,b:g,B:m,c:null,d:vf,e:vf,f:Q2,g:aS,G:sS,H:U2,I:W2,j:q2,L:Ng,m:j2,M:Z2,p:v,q:x,Q:Sf,s:Tf,S:K2,u:J2,U:tS,V:eS,w:nS,W:iS,x:null,X:null,y:rS,Y:oS,Z:uS,"%":bf},E={a:M,A:P,b:V,B:O,c:null,d:wf,e:wf,f:hS,g:bS,G:TS,H:cS,I:lS,j:fS,L:zg,m:dS,M:gS,p:H,q:D,Q:Sf,s:Tf,S:pS,u:yS,U:_S,V:mS,w:xS,W:vS,x:null,X:null,y:wS,Y:SS,Z:AS,"%":bf},I={a:W,A:Y,b:R,B:X,c:Q,d:mf,e:mf,f:Y2,g:_f,G:yf,H:xf,I:xf,j:D2,L:X2,m:N2,M:z2,p:$,q:O2,Q:H2,s:$2,S:F2,u:k2,U:R2,V:V2,w:E2,W:G2,x:n,X:a,y:_f,Y:yf,Z:I2,"%":B2};L.x=b(i,L),L.X=b(r,L),L.c=b(e,L),E.x=b(i,E),E.X=b(r,E),E.c=b(e,E);function b(N,B){return function(q){var G=[],rt=-1,U=0,j=N.length,J,ht,et;for(q instanceof Date||(q=new Date(+q));++rt<j;)N.charCodeAt(rt)===37&&(G.push(N.slice(U,rt)),(ht=pf[J=N.charAt(++rt)])!=null?J=N.charAt(++rt):ht=J==="e"?" ":"0",(et=B[J])&&(J=et(q,ht)),G.push(J),U=rt+1);return G.push(N.slice(U,rt)),G.join("")}}function z(N,B){return function(q){var G=ci(1900,void 0,1),rt=F(G,N,q+="",0),U,j;if(rt!=q.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(B&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(U=os(ci(G.y,0,1)),j=U.getUTCDay(),U=j>4||j===0?er.ceil(U):er(U),U=ho.offset(U,(G.V-1)*7),G.y=U.getUTCFullYear(),G.m=U.getUTCMonth(),G.d=U.getUTCDate()+(G.w+6)%7):(U=as(ci(G.y,0,1)),j=U.getDay(),U=j>4||j===0?Ji.ceil(U):Ji(U),U=fo.offset(U,(G.V-1)*7),G.y=U.getFullYear(),G.m=U.getMonth(),G.d=U.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),j="Z"in G?os(ci(G.y,0,1)).getUTCDay():as(ci(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(j+5)%7:G.w+G.U*7-(j+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,os(G)):as(G)}}function F(N,B,q,G){for(var rt=0,U=B.length,j=q.length,J,ht;rt<U;){if(G>=j)return-1;if(J=B.charCodeAt(rt++),J===37){if(J=B.charAt(rt++),ht=I[J in pf?B.charAt(rt++):J],!ht||(G=ht(N,q,G))<0)return-1}else if(J!=q.charCodeAt(G++))return-1}return G}function $(N,B,q){var G=d.exec(B.slice(q));return G?(N.p=p[G[0].toLowerCase()],q+G[0].length):-1}function W(N,B,q){var G=w.exec(B.slice(q));return G?(N.w=S[G[0].toLowerCase()],q+G[0].length):-1}function Y(N,B,q){var G=_.exec(B.slice(q));return G?(N.w=y[G[0].toLowerCase()],q+G[0].length):-1}function R(N,B,q){var G=C.exec(B.slice(q));return G?(N.m=k[G[0].toLowerCase()],q+G[0].length):-1}function X(N,B,q){var G=T.exec(B.slice(q));return G?(N.m=A[G[0].toLowerCase()],q+G[0].length):-1}function Q(N,B,q){return F(N,e,B,q)}function n(N,B,q){return F(N,i,B,q)}function a(N,B,q){return F(N,r,B,q)}function u(N){return l[N.getDay()]}function c(N){return s[N.getDay()]}function g(N){return h[N.getMonth()]}function m(N){return f[N.getMonth()]}function v(N){return o[+(N.getHours()>=12)]}function x(N){return 1+~~(N.getMonth()/3)}function M(N){return l[N.getUTCDay()]}function P(N){return s[N.getUTCDay()]}function V(N){return h[N.getUTCMonth()]}function O(N){return f[N.getUTCMonth()]}function H(N){return o[+(N.getUTCHours()>=12)]}function D(N){return 1+~~(N.getUTCMonth()/3)}return{format:function(N){var B=b(N+="",L);return B.toString=function(){return N},B},parse:function(N){var B=z(N+="",!1);return B.toString=function(){return N},B},utcFormat:function(N){var B=b(N+="",E);return B.toString=function(){return N},B},utcParse:function(N){var B=z(N+="",!0);return B.toString=function(){return N},B}}}var pf={"-":"",_:" ",0:"0"},Et=/^\s*\d+/,C2=/^%/,M2=/[\\^$*+?|[\]().{}]/g;function pt(t,e,i){var r=t<0?"-":"",o=(r?-t:t)+"",s=o.length;return r+(s<i?new Array(i-s+1).join(e)+o:o)}function L2(t){return t.replace(M2,"\\$&")}function li(t){return new RegExp("^(?:"+t.map(L2).join("|")+")","i")}function fi(t){for(var e={},i=-1,r=t.length;++i<r;)e[t[i].toLowerCase()]=i;return e}function E2(t,e,i){var r=Et.exec(e.slice(i,i+1));return r?(t.w=+r[0],i+r[0].length):-1}function k2(t,e,i){var r=Et.exec(e.slice(i,i+1));return r?(t.u=+r[0],i+r[0].length):-1}function R2(t,e,i){var r=Et.exec(e.slice(i,i+2));return r?(t.U=+r[0],i+r[0].length):-1}function V2(t,e,i){var r=Et.exec(e.slice(i,i+2));return r?(t.V=+r[0],i+r[0].length):-1}function G2(t,e,i){var r=Et.exec(e.slice(i,i+2));return r?(t.W=+r[0],i+r[0].length):-1}function yf(t,e,i){var r=Et.exec(e.slice(i,i+4));return r?(t.y=+r[0],i+r[0].length):-1}function _f(t,e,i){var r=Et.exec(e.slice(i,i+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),i+r[0].length):-1}function I2(t,e,i){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(i,i+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),i+r[0].length):-1}function O2(t,e,i){var r=Et.exec(e.slice(i,i+1));return r?(t.q=r[0]*3-3,i+r[0].length):-1}function N2(t,e,i){var r=Et.exec(e.slice(i,i+2));return r?(t.m=r[0]-1,i+r[0].length):-1}function mf(t,e,i){var r=Et.exec(e.slice(i,i+2));return r?(t.d=+r[0],i+r[0].length):-1}function D2(t,e,i){var r=Et.exec(e.slice(i,i+3));return r?(t.m=0,t.d=+r[0],i+r[0].length):-1}function xf(t,e,i){var r=Et.exec(e.slice(i,i+2));return r?(t.H=+r[0],i+r[0].length):-1}function z2(t,e,i){var r=Et.exec(e.slice(i,i+2));return r?(t.M=+r[0],i+r[0].length):-1}function F2(t,e,i){var r=Et.exec(e.slice(i,i+2));return r?(t.S=+r[0],i+r[0].length):-1}function X2(t,e,i){var r=Et.exec(e.slice(i,i+3));return r?(t.L=+r[0],i+r[0].length):-1}function Y2(t,e,i){var r=Et.exec(e.slice(i,i+6));return r?(t.L=Math.floor(r[0]/1e3),i+r[0].length):-1}function B2(t,e,i){var r=C2.exec(e.slice(i,i+1));return r?i+r[0].length:-1}function H2(t,e,i){var r=Et.exec(e.slice(i));return r?(t.Q=+r[0],i+r[0].length):-1}function $2(t,e,i){var r=Et.exec(e.slice(i));return r?(t.s=+r[0],i+r[0].length):-1}function vf(t,e){return pt(t.getDate(),e,2)}function U2(t,e){return pt(t.getHours(),e,2)}function W2(t,e){return pt(t.getHours()%12||12,e,2)}function q2(t,e){return pt(1+fo.count(_n(t),t),e,3)}function Ng(t,e){return pt(t.getMilliseconds(),e,3)}function Q2(t,e){return Ng(t,e)+"000"}function j2(t,e){return pt(t.getMonth()+1,e,2)}function Z2(t,e){return pt(t.getMinutes(),e,2)}function K2(t,e){return pt(t.getSeconds(),e,2)}function J2(t){var e=t.getDay();return e===0?7:e}function tS(t,e){return pt(Ki.count(_n(t)-1,t),e,2)}function Dg(t){var e=t.getDay();return e>=4||e===0?yn(t):yn.ceil(t)}function eS(t,e){return t=Dg(t),pt(yn.count(_n(t),t)+(_n(t).getDay()===4),e,2)}function nS(t){return t.getDay()}function iS(t,e){return pt(Ji.count(_n(t)-1,t),e,2)}function rS(t,e){return pt(t.getFullYear()%100,e,2)}function aS(t,e){return t=Dg(t),pt(t.getFullYear()%100,e,2)}function oS(t,e){return pt(t.getFullYear()%1e4,e,4)}function sS(t,e){var i=t.getDay();return t=i>=4||i===0?yn(t):yn.ceil(t),pt(t.getFullYear()%1e4,e,4)}function uS(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pt(e/60|0,"0",2)+pt(e%60,"0",2)}function wf(t,e){return pt(t.getUTCDate(),e,2)}function cS(t,e){return pt(t.getUTCHours(),e,2)}function lS(t,e){return pt(t.getUTCHours()%12||12,e,2)}function fS(t,e){return pt(1+ho.count(xn(t),t),e,3)}function zg(t,e){return pt(t.getUTCMilliseconds(),e,3)}function hS(t,e){return zg(t,e)+"000"}function dS(t,e){return pt(t.getUTCMonth()+1,e,2)}function gS(t,e){return pt(t.getUTCMinutes(),e,2)}function pS(t,e){return pt(t.getUTCSeconds(),e,2)}function yS(t){var e=t.getUTCDay();return e===0?7:e}function _S(t,e){return pt(tr.count(xn(t)-1,t),e,2)}function Fg(t){var e=t.getUTCDay();return e>=4||e===0?mn(t):mn.ceil(t)}function mS(t,e){return t=Fg(t),pt(mn.count(xn(t),t)+(xn(t).getUTCDay()===4),e,2)}function xS(t){return t.getUTCDay()}function vS(t,e){return pt(er.count(xn(t)-1,t),e,2)}function wS(t,e){return pt(t.getUTCFullYear()%100,e,2)}function bS(t,e){return t=Fg(t),pt(t.getUTCFullYear()%100,e,2)}function SS(t,e){return pt(t.getUTCFullYear()%1e4,e,4)}function TS(t,e){var i=t.getUTCDay();return t=i>=4||i===0?mn(t):mn.ceil(t),pt(t.getUTCFullYear()%1e4,e,4)}function AS(){return"+0000"}function bf(){return"%"}function Sf(t){return+t}function Tf(t){return Math.floor(+t/1e3)}var Vn,cc,Xg,go,lc;Yg({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Yg(t){return Vn=Og(t),cc=Vn.format,Xg=Vn.parse,go=Vn.utcFormat,lc=Vn.utcParse,Vn}var Bg="%Y-%m-%dT%H:%M:%S.%LZ";function PS(t){return t.toISOString()}var CS=Date.prototype.toISOString?PS:go(Bg);const MS=CS;function LS(t){var e=new Date(t);return isNaN(e)?null:e}var ES=+new Date("2000-01-01T00:00:00.000Z")?LS:lc(Bg);const kS=ES;var Pi=1e3,Ci=Pi*60,Mi=Ci*60,nr=Mi*24,RS=nr*7,Af=nr*30,ss=nr*365;function VS(t){return new Date(t)}function GS(t){return t instanceof Date?+t:+new Date(+t)}function fc(t,e,i,r,o,s,l,f,h){var d=eg(Rt,Rt),p=d.invert,_=d.domain,y=h(".%L"),w=h(":%S"),S=h("%I:%M"),T=h("%I %p"),A=h("%a %d"),C=h("%b %d"),k=h("%B"),L=h("%Y"),E=[[l,1,Pi],[l,5,5*Pi],[l,15,15*Pi],[l,30,30*Pi],[s,1,Ci],[s,5,5*Ci],[s,15,15*Ci],[s,30,30*Ci],[o,1,Mi],[o,3,3*Mi],[o,6,6*Mi],[o,12,12*Mi],[r,1,nr],[r,2,2*nr],[i,1,RS],[e,1,Af],[e,3,3*Af],[t,1,ss]];function I(z){return(l(z)<z?y:s(z)<z?w:o(z)<z?S:r(z)<z?T:e(z)<z?i(z)<z?A:C:t(z)<z?k:L)(z)}function b(z,F,$,W){if(z==null&&(z=10),typeof z=="number"){var Y=Math.abs($-F)/z,R=fu(function(X){return X[2]}).right(E,Y);R===E.length?(W=un(F/ss,$/ss,z),z=t):R?(R=E[Y/E[R-1][2]<E[R][2]/Y?R-1:R],W=R[1],z=R[0]):(W=Math.max(un(F,$,z),1),z=f)}return W==null?z:z.every(W)}return d.invert=function(z){return new Date(p(z))},d.domain=function(z){return arguments.length?_(ka.call(z,GS)):_().map(VS)},d.ticks=function(z,F){var $=_(),W=$[0],Y=$[$.length-1],R=Y<W,X;return R&&(X=W,W=Y,Y=X),X=b(z,W,Y,F),X=X?X.range(W,Y+1):[],R?X.reverse():X},d.tickFormat=function(z,F){return F==null?I:h(F)},d.nice=function(z,F){var $=_();return(z=b(z,$[0],$[$.length-1],F))?_(ag($,z)):d},d.copy=function(){return hr(d,fc(t,e,i,r,o,s,l,f,h))},d}function IS(){return ge.apply(fc(_n,Tg,Ki,fo,_g,pg,Oa,Va,cc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function OS(){return ge.apply(fc(xn,Ig,tr,ho,Mg,Pg,Oa,Va,go).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function po(){var t=0,e=1,i,r,o,s,l=Rt,f=!1,h;function d(p){return isNaN(p=+p)?h:l(o===0?.5:(p=(s(p)-i)*o,f?Math.max(0,Math.min(1,p)):p))}return d.domain=function(p){return arguments.length?(i=s(t=+p[0]),r=s(e=+p[1]),o=i===r?0:1/(r-i),d):[t,e]},d.clamp=function(p){return arguments.length?(f=!!p,d):f},d.interpolator=function(p){return arguments.length?(l=p,d):l},d.unknown=function(p){return arguments.length?(h=p,d):h},function(p){return s=p,i=p(t),r=p(e),o=i===r?0:1/(r-i),d}}function Ze(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Hg(){var t=Tn(po()(Rt));return t.copy=function(){return Ze(t,Hg())},Ge.apply(t,arguments)}function $g(){var t=ic(po()).domain([1,10]);return t.copy=function(){return Ze(t,$g()).base(t.base())},Ge.apply(t,arguments)}function Ug(){var t=rc(po());return t.copy=function(){return Ze(t,Ug()).constant(t.constant())},Ge.apply(t,arguments)}function hc(){var t=ac(po());return t.copy=function(){return Ze(t,hc()).exponent(t.exponent())},Ge.apply(t,arguments)}function NS(){return hc.apply(null,arguments).exponent(.5)}function Wg(){var t=[],e=Rt;function i(r){if(!isNaN(r=+r))return e((Xe(t,r)-1)/(t.length-1))}return i.domain=function(r){if(!arguments.length)return t.slice();t=[];for(var o=0,s=r.length,l;o<s;++o)l=r[o],l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(We),i},i.interpolator=function(r){return arguments.length?(e=r,i):e},i.copy=function(){return Wg(e).domain(t)},Ge.apply(i,arguments)}function yo(){var t=0,e=.5,i=1,r,o,s,l,f,h=Rt,d,p=!1,_;function y(w){return isNaN(w=+w)?_:(w=.5+((w=+d(w))-o)*(w<o?l:f),h(p?Math.max(0,Math.min(1,w)):w))}return y.domain=function(w){return arguments.length?(r=d(t=+w[0]),o=d(e=+w[1]),s=d(i=+w[2]),l=r===o?0:.5/(o-r),f=o===s?0:.5/(s-o),y):[t,e,i]},y.clamp=function(w){return arguments.length?(p=!!w,y):p},y.interpolator=function(w){return arguments.length?(h=w,y):h},y.unknown=function(w){return arguments.length?(_=w,y):_},function(w){return d=w,r=w(t),o=w(e),s=w(i),l=r===o?0:.5/(o-r),f=o===s?0:.5/(s-o),y}}function qg(){var t=Tn(yo()(Rt));return t.copy=function(){return Ze(t,qg())},Ge.apply(t,arguments)}function Qg(){var t=ic(yo()).domain([.1,1,10]);return t.copy=function(){return Ze(t,Qg()).base(t.base())},Ge.apply(t,arguments)}function jg(){var t=rc(yo());return t.copy=function(){return Ze(t,jg()).constant(t.constant())},Ge.apply(t,arguments)}function dc(){var t=ac(yo());return t.copy=function(){return Ze(t,dc()).exponent(t.exponent())},Ge.apply(t,arguments)}function DS(){return dc.apply(null,arguments).exponent(.5)}function ct(t){for(var e=t.length/6|0,i=new Array(e),r=0;r<e;)i[r]="#"+t.slice(r*6,++r*6);return i}const zS=ct("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),FS=ct("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),XS=ct("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),YS=ct("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),BS=ct("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),HS=ct("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),$S=ct("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),US=ct("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),WS=ct("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),qS=ct("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function xt(t){return mh(t[t.length-1])}var Zg=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ct);const QS=xt(Zg);var Kg=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ct);const jS=xt(Kg);var Jg=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ct);const ZS=xt(Jg);var tp=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ct);const KS=xt(tp);var ep=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ct);const JS=xt(ep);var np=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ct);const tT=xt(np);var ip=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ct);const eT=xt(ip);var rp=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ct);const nT=xt(rp);var ap=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ct);const iT=xt(ap);var op=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ct);const rT=xt(op);var sp=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ct);const aT=xt(sp);var up=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ct);const oT=xt(up);var cp=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ct);const sT=xt(cp);var lp=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ct);const uT=xt(lp);var fp=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ct);const cT=xt(fp);var hp=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ct);const lT=xt(hp);var dp=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ct);const fT=xt(dp);var gp=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ct);const hT=xt(gp);var pp=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ct);const dT=xt(pp);var yp=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ct);const gT=xt(yp);var _p=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ct);const pT=xt(_p);var mp=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ct);const yT=xt(mp);var xp=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ct);const _T=xt(xp);var vp=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ct);const mT=xt(vp);var wp=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ct);const xT=xt(wp);var bp=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ct);const vT=xt(bp);var Sp=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ct);const wT=xt(Sp);function bT(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const ST=Ka(he(300,.5,0),he(-240,.5,1));var TT=Ka(he(-100,.75,.35),he(80,1.5,.8)),AT=Ka(he(260,.75,.35),he(80,1.5,.8)),Vr=he();function PT(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Vr.h=360*t-100,Vr.s=1.5-1.5*e,Vr.l=.8-.9*e,Vr+""}var Gr=$n(),CT=Math.PI/3,MT=Math.PI*2/3;function LT(t){var e;return t=(.5-t)*Math.PI,Gr.r=255*(e=Math.sin(t))*e,Gr.g=255*(e=Math.sin(t+CT))*e,Gr.b=255*(e=Math.sin(t+MT))*e,Gr+""}function ET(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function _o(t){var e=t.length;return function(i){return t[Math.max(0,Math.min(e-1,Math.floor(i*e)))]}}const kT=_o(ct("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var RT=_o(ct("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),VT=_o(ct("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),GT=_o(ct("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function ft(t){return function(){return t}}var Pf=Math.abs,It=Math.atan2,tn=Math.cos,IT=Math.max,us=Math.min,ye=Math.sin,On=Math.sqrt,Ot=1e-12,$e=Math.PI,Na=$e/2,Fe=2*$e;function OT(t){return t>1?0:t<-1?$e:Math.acos(t)}function Cf(t){return t>=1?Na:t<=-1?-Na:Math.asin(t)}function NT(t){return t.innerRadius}function DT(t){return t.outerRadius}function zT(t){return t.startAngle}function FT(t){return t.endAngle}function XT(t){return t&&t.padAngle}function YT(t,e,i,r,o,s,l,f){var h=i-t,d=r-e,p=l-o,_=f-s,y=_*h-p*d;if(!(y*y<Ot))return y=(p*(e-s)-_*(t-o))/y,[t+y*h,e+y*d]}function Ir(t,e,i,r,o,s,l){var f=t-i,h=e-r,d=(l?s:-s)/On(f*f+h*h),p=d*h,_=-d*f,y=t+p,w=e+_,S=i+p,T=r+_,A=(y+S)/2,C=(w+T)/2,k=S-y,L=T-w,E=k*k+L*L,I=o-s,b=y*T-S*w,z=(L<0?-1:1)*On(IT(0,I*I*E-b*b)),F=(b*L-k*z)/E,$=(-b*k-L*z)/E,W=(b*L+k*z)/E,Y=(-b*k+L*z)/E,R=F-A,X=$-C,Q=W-A,n=Y-C;return R*R+X*X>Q*Q+n*n&&(F=W,$=Y),{cx:F,cy:$,x01:-p,y01:-_,x11:F*(o/I-1),y11:$*(o/I-1)}}function BT(){var t=NT,e=DT,i=ft(0),r=null,o=zT,s=FT,l=XT,f=null;function h(){var d,p,_=+t.apply(this,arguments),y=+e.apply(this,arguments),w=o.apply(this,arguments)-Na,S=s.apply(this,arguments)-Na,T=Pf(S-w),A=S>w;if(f||(f=d=Qe()),y<_&&(p=y,y=_,_=p),!(y>Ot))f.moveTo(0,0);else if(T>Fe-Ot)f.moveTo(y*tn(w),y*ye(w)),f.arc(0,0,y,w,S,!A),_>Ot&&(f.moveTo(_*tn(S),_*ye(S)),f.arc(0,0,_,S,w,A));else{var C=w,k=S,L=w,E=S,I=T,b=T,z=l.apply(this,arguments)/2,F=z>Ot&&(r?+r.apply(this,arguments):On(_*_+y*y)),$=us(Pf(y-_)/2,+i.apply(this,arguments)),W=$,Y=$,R,X;if(F>Ot){var Q=Cf(F/_*ye(z)),n=Cf(F/y*ye(z));(I-=Q*2)>Ot?(Q*=A?1:-1,L+=Q,E-=Q):(I=0,L=E=(w+S)/2),(b-=n*2)>Ot?(n*=A?1:-1,C+=n,k-=n):(b=0,C=k=(w+S)/2)}var a=y*tn(C),u=y*ye(C),c=_*tn(E),g=_*ye(E);if($>Ot){var m=y*tn(k),v=y*ye(k),x=_*tn(L),M=_*ye(L),P;if(T<$e&&(P=YT(a,u,x,M,m,v,c,g))){var V=a-P[0],O=u-P[1],H=m-P[0],D=v-P[1],N=1/ye(OT((V*H+O*D)/(On(V*V+O*O)*On(H*H+D*D)))/2),B=On(P[0]*P[0]+P[1]*P[1]);W=us($,(_-B)/(N-1)),Y=us($,(y-B)/(N+1))}}b>Ot?Y>Ot?(R=Ir(x,M,a,u,y,Y,A),X=Ir(m,v,c,g,y,Y,A),f.moveTo(R.cx+R.x01,R.cy+R.y01),Y<$?f.arc(R.cx,R.cy,Y,It(R.y01,R.x01),It(X.y01,X.x01),!A):(f.arc(R.cx,R.cy,Y,It(R.y01,R.x01),It(R.y11,R.x11),!A),f.arc(0,0,y,It(R.cy+R.y11,R.cx+R.x11),It(X.cy+X.y11,X.cx+X.x11),!A),f.arc(X.cx,X.cy,Y,It(X.y11,X.x11),It(X.y01,X.x01),!A))):(f.moveTo(a,u),f.arc(0,0,y,C,k,!A)):f.moveTo(a,u),!(_>Ot)||!(I>Ot)?f.lineTo(c,g):W>Ot?(R=Ir(c,g,m,v,_,-W,A),X=Ir(a,u,x,M,_,-W,A),f.lineTo(R.cx+R.x01,R.cy+R.y01),W<$?f.arc(R.cx,R.cy,W,It(R.y01,R.x01),It(X.y01,X.x01),!A):(f.arc(R.cx,R.cy,W,It(R.y01,R.x01),It(R.y11,R.x11),!A),f.arc(0,0,_,It(R.cy+R.y11,R.cx+R.x11),It(X.cy+X.y11,X.cx+X.x11),A),f.arc(X.cx,X.cy,W,It(X.y11,X.x11),It(X.y01,X.x01),!A))):f.arc(0,0,_,E,L,A)}if(f.closePath(),d)return f=null,d+""||null}return h.centroid=function(){var d=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,p=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-$e/2;return[tn(p)*d,ye(p)*d]},h.innerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:ft(+d),h):t},h.outerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:ft(+d),h):e},h.cornerRadius=function(d){return arguments.length?(i=typeof d=="function"?d:ft(+d),h):i},h.padRadius=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ft(+d),h):r},h.startAngle=function(d){return arguments.length?(o=typeof d=="function"?d:ft(+d),h):o},h.endAngle=function(d){return arguments.length?(s=typeof d=="function"?d:ft(+d),h):s},h.padAngle=function(d){return arguments.length?(l=typeof d=="function"?d:ft(+d),h):l},h.context=function(d){return arguments.length?(f=d??null,h):f},h}function Tp(t){this._context=t}Tp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function mo(t){return new Tp(t)}function gc(t){return t[0]}function pc(t){return t[1]}function yc(){var t=gc,e=pc,i=ft(!0),r=null,o=mo,s=null;function l(f){var h,d=f.length,p,_=!1,y;for(r==null&&(s=o(y=Qe())),h=0;h<=d;++h)!(h<d&&i(p=f[h],h,f))===_&&((_=!_)?s.lineStart():s.lineEnd()),_&&s.point(+t(p,h,f),+e(p,h,f));if(y)return s=null,y+""||null}return l.x=function(f){return arguments.length?(t=typeof f=="function"?f:ft(+f),l):t},l.y=function(f){return arguments.length?(e=typeof f=="function"?f:ft(+f),l):e},l.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ft(!!f),l):i},l.curve=function(f){return arguments.length?(o=f,r!=null&&(s=o(r)),l):o},l.context=function(f){return arguments.length?(f==null?r=s=null:s=o(r=f),l):r},l}function Ap(){var t=gc,e=null,i=ft(0),r=pc,o=ft(!0),s=null,l=mo,f=null;function h(p){var _,y,w,S=p.length,T,A=!1,C,k=new Array(S),L=new Array(S);for(s==null&&(f=l(C=Qe())),_=0;_<=S;++_){if(!(_<S&&o(T=p[_],_,p))===A)if(A=!A)y=_,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),w=_-1;w>=y;--w)f.point(k[w],L[w]);f.lineEnd(),f.areaEnd()}A&&(k[_]=+t(T,_,p),L[_]=+i(T,_,p),f.point(e?+e(T,_,p):k[_],r?+r(T,_,p):L[_]))}if(C)return f=null,C+""||null}function d(){return yc().defined(o).curve(l).context(s)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:ft(+p),e=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:ft(+p),h):t},h.x1=function(p){return arguments.length?(e=p==null?null:typeof p=="function"?p:ft(+p),h):e},h.y=function(p){return arguments.length?(i=typeof p=="function"?p:ft(+p),r=null,h):i},h.y0=function(p){return arguments.length?(i=typeof p=="function"?p:ft(+p),h):i},h.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:ft(+p),h):r},h.lineX0=h.lineY0=function(){return d().x(t).y(i)},h.lineY1=function(){return d().x(t).y(r)},h.lineX1=function(){return d().x(e).y(i)},h.defined=function(p){return arguments.length?(o=typeof p=="function"?p:ft(!!p),h):o},h.curve=function(p){return arguments.length?(l=p,s!=null&&(f=l(s)),h):l},h.context=function(p){return arguments.length?(p==null?s=f=null:f=l(s=p),h):s},h}function HT(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function $T(t){return t}function UT(){var t=$T,e=HT,i=null,r=ft(0),o=ft(Fe),s=ft(0);function l(f){var h,d=f.length,p,_,y=0,w=new Array(d),S=new Array(d),T=+r.apply(this,arguments),A=Math.min(Fe,Math.max(-Fe,o.apply(this,arguments)-T)),C,k=Math.min(Math.abs(A)/d,s.apply(this,arguments)),L=k*(A<0?-1:1),E;for(h=0;h<d;++h)(E=S[w[h]=h]=+t(f[h],h,f))>0&&(y+=E);for(e!=null?w.sort(function(I,b){return e(S[I],S[b])}):i!=null&&w.sort(function(I,b){return i(f[I],f[b])}),h=0,_=y?(A-d*L)/y:0;h<d;++h,T=C)p=w[h],E=S[p],C=T+(E>0?E*_:0)+L,S[p]={data:f[p],index:h,value:E,startAngle:T,endAngle:C,padAngle:k};return S}return l.value=function(f){return arguments.length?(t=typeof f=="function"?f:ft(+f),l):t},l.sortValues=function(f){return arguments.length?(e=f,i=null,l):e},l.sort=function(f){return arguments.length?(i=f,e=null,l):i},l.startAngle=function(f){return arguments.length?(r=typeof f=="function"?f:ft(+f),l):r},l.endAngle=function(f){return arguments.length?(o=typeof f=="function"?f:ft(+f),l):o},l.padAngle=function(f){return arguments.length?(s=typeof f=="function"?f:ft(+f),l):s},l}var Pp=_c(mo);function Cp(t){this._curve=t}Cp.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function _c(t){function e(i){return new Cp(t(i))}return e._curve=t,e}function Li(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(i){return arguments.length?e(_c(i)):e()._curve},t}function Mf(){return Li(yc().curve(Pp))}function Lf(){var t=Ap().curve(Pp),e=t.curve,i=t.lineX0,r=t.lineX1,o=t.lineY0,s=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Li(i())},delete t.lineX0,t.lineEndAngle=function(){return Li(r())},delete t.lineX1,t.lineInnerRadius=function(){return Li(o())},delete t.lineY0,t.lineOuterRadius=function(){return Li(s())},delete t.lineY1,t.curve=function(l){return arguments.length?e(_c(l)):e()._curve},t}function Ei(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}var uu=Array.prototype.slice;function WT(t){return t.source}function qT(t){return t.target}function mc(t){var e=WT,i=qT,r=gc,o=pc,s=null;function l(){var f,h=uu.call(arguments),d=e.apply(this,h),p=i.apply(this,h);if(s||(s=f=Qe()),t(s,+r.apply(this,(h[0]=d,h)),+o.apply(this,h),+r.apply(this,(h[0]=p,h)),+o.apply(this,h)),f)return s=null,f+""||null}return l.source=function(f){return arguments.length?(e=f,l):e},l.target=function(f){return arguments.length?(i=f,l):i},l.x=function(f){return arguments.length?(r=typeof f=="function"?f:ft(+f),l):r},l.y=function(f){return arguments.length?(o=typeof f=="function"?f:ft(+f),l):o},l.context=function(f){return arguments.length?(s=f??null,l):s},l}function QT(t,e,i,r,o){t.moveTo(e,i),t.bezierCurveTo(e=(e+r)/2,i,e,o,r,o)}function jT(t,e,i,r,o){t.moveTo(e,i),t.bezierCurveTo(e,i=(i+o)/2,r,i,r,o)}function ZT(t,e,i,r,o){var s=Ei(e,i),l=Ei(e,i=(i+o)/2),f=Ei(r,i),h=Ei(r,o);t.moveTo(s[0],s[1]),t.bezierCurveTo(l[0],l[1],f[0],f[1],h[0],h[1])}function KT(){return mc(QT)}function JT(){return mc(jT)}function tA(){var t=mc(ZT);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const xc={draw:function(t,e){var i=Math.sqrt(e/$e);t.moveTo(i,0),t.arc(0,0,i,0,Fe)}},Mp={draw:function(t,e){var i=Math.sqrt(e/5)/2;t.moveTo(-3*i,-i),t.lineTo(-i,-i),t.lineTo(-i,-3*i),t.lineTo(i,-3*i),t.lineTo(i,-i),t.lineTo(3*i,-i),t.lineTo(3*i,i),t.lineTo(i,i),t.lineTo(i,3*i),t.lineTo(-i,3*i),t.lineTo(-i,i),t.lineTo(-3*i,i),t.closePath()}};var Lp=Math.sqrt(1/3),eA=Lp*2;const Ep={draw:function(t,e){var i=Math.sqrt(e/eA),r=i*Lp;t.moveTo(0,-i),t.lineTo(r,0),t.lineTo(0,i),t.lineTo(-r,0),t.closePath()}};var nA=.8908130915292852,kp=Math.sin($e/10)/Math.sin(7*$e/10),iA=Math.sin(Fe/10)*kp,rA=-Math.cos(Fe/10)*kp;const Rp={draw:function(t,e){var i=Math.sqrt(e*nA),r=iA*i,o=rA*i;t.moveTo(0,-i),t.lineTo(r,o);for(var s=1;s<5;++s){var l=Fe*s/5,f=Math.cos(l),h=Math.sin(l);t.lineTo(h*i,-f*i),t.lineTo(f*r-h*o,h*r+f*o)}t.closePath()}},Vp={draw:function(t,e){var i=Math.sqrt(e),r=-i/2;t.rect(r,r,i,i)}};var cs=Math.sqrt(3);const Gp={draw:function(t,e){var i=-Math.sqrt(e/(cs*3));t.moveTo(0,i*2),t.lineTo(-cs*i,-i),t.lineTo(cs*i,-i),t.closePath()}};var ne=-.5,ie=Math.sqrt(3)/2,cu=1/Math.sqrt(12),aA=(cu/2+1)*3;const Ip={draw:function(t,e){var i=Math.sqrt(e/aA),r=i/2,o=i*cu,s=r,l=i*cu+i,f=-s,h=l;t.moveTo(r,o),t.lineTo(s,l),t.lineTo(f,h),t.lineTo(ne*r-ie*o,ie*r+ne*o),t.lineTo(ne*s-ie*l,ie*s+ne*l),t.lineTo(ne*f-ie*h,ie*f+ne*h),t.lineTo(ne*r+ie*o,ne*o-ie*r),t.lineTo(ne*s+ie*l,ne*l-ie*s),t.lineTo(ne*f+ie*h,ne*h-ie*f),t.closePath()}};var oA=[xc,Mp,Ep,Vp,Rp,Gp,Ip];function sA(){var t=ft(xc),e=ft(64),i=null;function r(){var o;if(i||(i=o=Qe()),t.apply(this,arguments).draw(i,+e.apply(this,arguments)),o)return i=null,o+""||null}return r.type=function(o){return arguments.length?(t=typeof o=="function"?o:ft(o),r):t},r.size=function(o){return arguments.length?(e=typeof o=="function"?o:ft(+o),r):e},r.context=function(o){return arguments.length?(i=o??null,r):i},r}function Ue(){}function Da(t,e,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+i)/6)}function xo(t){this._context=t}xo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Da(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Da(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uA(t){return new xo(t)}function Op(t){this._context=t}Op.prototype={areaStart:Ue,areaEnd:Ue,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Da(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cA(t){return new Op(t)}function Np(t){this._context=t}Np.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(i,r):this._context.moveTo(i,r);break;case 3:this._point=4;default:Da(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lA(t){return new Np(t)}function Dp(t,e){this._basis=new xo(t),this._beta=e}Dp.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,i=t.length-1;if(i>0)for(var r=t[0],o=e[0],s=t[i]-r,l=e[i]-o,f=-1,h;++f<=i;)h=f/i,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+h*s),this._beta*e[f]+(1-this._beta)*(o+h*l));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const fA=function t(e){function i(r){return e===1?new xo(r):new Dp(r,e)}return i.beta=function(r){return t(+r)},i}(.85);function za(t,e,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function vc(t,e){this._context=t,this._k=(1-e)/6}vc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:za(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:za(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const hA=function t(e){function i(r){return new vc(r,e)}return i.tension=function(r){return t(+r)},i}(0);function wc(t,e){this._context=t,this._k=(1-e)/6}wc.prototype={areaStart:Ue,areaEnd:Ue,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:za(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const dA=function t(e){function i(r){return new wc(r,e)}return i.tension=function(r){return t(+r)},i}(0);function bc(t,e){this._context=t,this._k=(1-e)/6}bc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:za(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const gA=function t(e){function i(r){return new bc(r,e)}return i.tension=function(r){return t(+r)},i}(0);function Sc(t,e,i){var r=t._x1,o=t._y1,s=t._x2,l=t._y2;if(t._l01_a>Ot){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,h=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/h,o=(o*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/h}if(t._l23_a>Ot){var d=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,p=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*d+t._x1*t._l23_2a-e*t._l12_2a)/p,l=(l*d+t._y1*t._l23_2a-i*t._l12_2a)/p}t._context.bezierCurveTo(r,o,s,l,t._x2,t._y2)}function zp(t,e){this._context=t,this._alpha=e}zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Sc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const pA=function t(e){function i(r){return e?new zp(r,e):new vc(r,0)}return i.alpha=function(r){return t(+r)},i}(.5);function Fp(t,e){this._context=t,this._alpha=e}Fp.prototype={areaStart:Ue,areaEnd:Ue,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Sc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const yA=function t(e){function i(r){return e?new Fp(r,e):new wc(r,0)}return i.alpha=function(r){return t(+r)},i}(.5);function Xp(t,e){this._context=t,this._alpha=e}Xp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Sc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const _A=function t(e){function i(r){return e?new Xp(r,e):new bc(r,0)}return i.alpha=function(r){return t(+r)},i}(.5);function Yp(t){this._context=t}Yp.prototype={areaStart:Ue,areaEnd:Ue,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function mA(t){return new Yp(t)}function Ef(t){return t<0?-1:1}function kf(t,e,i){var r=t._x1-t._x0,o=e-t._x1,s=(t._y1-t._y0)/(r||o<0&&-0),l=(i-t._y1)/(o||r<0&&-0),f=(s*o+l*r)/(r+o);return(Ef(s)+Ef(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(f))||0}function Rf(t,e){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-e)/2:e}function ls(t,e,i){var r=t._x0,o=t._y0,s=t._x1,l=t._y1,f=(s-r)/3;t._context.bezierCurveTo(r+f,o+f*e,s-f,l-f*i,s,l)}function Fa(t){this._context=t}Fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ls(this,this._t0,Rf(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var i=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ls(this,Rf(this,i=kf(this,t,e)),i);break;default:ls(this,this._t0,i=kf(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=i}}};function Bp(t){this._context=new Hp(t)}(Bp.prototype=Object.create(Fa.prototype)).point=function(t,e){Fa.prototype.point.call(this,e,t)};function Hp(t){this._context=t}Hp.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,i,r,o,s){this._context.bezierCurveTo(e,t,r,i,s,o)}};function xA(t){return new Fa(t)}function vA(t){return new Bp(t)}function $p(t){this._context=t}$p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),i===2)this._context.lineTo(t[1],e[1]);else for(var r=Vf(t),o=Vf(e),s=0,l=1;l<i;++s,++l)this._context.bezierCurveTo(r[0][s],o[0][s],r[1][s],o[1][s],t[l],e[l]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Vf(t){var e,i=t.length-1,r,o=new Array(i),s=new Array(i),l=new Array(i);for(o[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<i-1;++e)o[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(o[i-1]=2,s[i-1]=7,l[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)r=o[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(o[i-1]=l[i-1]/s[i-1],e=i-2;e>=0;--e)o[e]=(l[e]-o[e+1])/s[e];for(s[i-1]=(t[i]+o[i-1])/2,e=0;e<i-1;++e)s[e]=2*t[e+1]-o[e+1];return[o,s]}function wA(t){return new $p(t)}function vo(t,e){this._context=t,this._t=e}vo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,e)}break}}this._x=t,this._y=e}};function bA(t){return new vo(t,.5)}function SA(t){return new vo(t,0)}function TA(t){return new vo(t,1)}function Jn(t,e){if((l=t.length)>1)for(var i=1,r,o,s=t[e[0]],l,f=s.length;i<l;++i)for(o=s,s=t[e[i]],r=0;r<f;++r)s[r][1]+=s[r][0]=isNaN(o[r][1])?o[r][0]:o[r][1]}function ti(t){for(var e=t.length,i=new Array(e);--e>=0;)i[e]=e;return i}function AA(t,e){return t[e]}function PA(){var t=ft([]),e=ti,i=Jn,r=AA;function o(s){var l=t.apply(this,arguments),f,h=s.length,d=l.length,p=new Array(d),_;for(f=0;f<d;++f){for(var y=l[f],w=p[f]=new Array(h),S=0,T;S<h;++S)w[S]=T=[0,+r(s[S],y,S,s)],T.data=s[S];w.key=y}for(f=0,_=e(p);f<d;++f)p[_[f]].index=f;return i(p,_),p}return o.keys=function(s){return arguments.length?(t=typeof s=="function"?s:ft(uu.call(s)),o):t},o.value=function(s){return arguments.length?(r=typeof s=="function"?s:ft(+s),o):r},o.order=function(s){return arguments.length?(e=s==null?ti:typeof s=="function"?s:ft(uu.call(s)),o):e},o.offset=function(s){return arguments.length?(i=s??Jn,o):i},o}function CA(t,e){if((r=t.length)>0){for(var i,r,o=0,s=t[0].length,l;o<s;++o){for(l=i=0;i<r;++i)l+=t[i][o][1]||0;if(l)for(i=0;i<r;++i)t[i][o][1]/=l}Jn(t,e)}}function MA(t,e){if((h=t.length)>0)for(var i,r=0,o,s,l,f,h,d=t[e[0]].length;r<d;++r)for(l=f=0,i=0;i<h;++i)(s=(o=t[e[i]][r])[1]-o[0])>0?(o[0]=l,o[1]=l+=s):s<0?(o[1]=f,o[0]=f+=s):(o[0]=0,o[1]=s)}function LA(t,e){if((o=t.length)>0){for(var i=0,r=t[e[0]],o,s=r.length;i<s;++i){for(var l=0,f=0;l<o;++l)f+=t[l][i][1]||0;r[i][1]+=r[i][0]=-f/2}Jn(t,e)}}function EA(t,e){if(!(!((l=t.length)>0)||!((s=(o=t[e[0]]).length)>0))){for(var i=0,r=1,o,s,l;r<s;++r){for(var f=0,h=0,d=0;f<l;++f){for(var p=t[e[f]],_=p[r][1]||0,y=p[r-1][1]||0,w=(_-y)/2,S=0;S<f;++S){var T=t[e[S]],A=T[r][1]||0,C=T[r-1][1]||0;w+=A-C}h+=_,d+=w*_}o[r-1][1]+=o[r-1][0]=i,h&&(i-=d/h)}o[r-1][1]+=o[r-1][0]=i,Jn(t,e)}}function Up(t){var e=t.map(kA);return ti(t).sort(function(i,r){return e[i]-e[r]})}function kA(t){for(var e=-1,i=0,r=t.length,o,s=-1/0;++e<r;)(o=+t[e][1])>s&&(s=o,i=e);return i}function Wp(t){var e=t.map(qp);return ti(t).sort(function(i,r){return e[i]-e[r]})}function qp(t){for(var e=0,i=-1,r=t.length,o;++i<r;)(o=+t[i][1])&&(e+=o);return e}function RA(t){return Wp(t).reverse()}function VA(t){var e=t.length,i,r,o=t.map(qp),s=Up(t),l=0,f=0,h=[],d=[];for(i=0;i<e;++i)r=s[i],l<f?(l+=o[r],h.push(r)):(f+=o[r],d.push(r));return d.reverse().concat(h)}function GA(t){return ti(t).reverse()}function Gf(t){return function(){return t}}function IA(t){return t[0]}function OA(t){return t[1]}function Xa(){this._=null}function wo(t){t.U=t.C=t.L=t.R=t.P=t.N=null}Xa.prototype={constructor:Xa,insert:function(t,e){var i,r,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;i=t}else this._?(t=If(this._),e.P=null,e.N=t,t.P=t.L=e,i=t):(e.P=e.N=null,this._=e,i=null);for(e.L=e.R=null,e.U=i,e.C=!0,t=e;i&&i.C;)r=i.U,i===r.L?(o=r.R,o&&o.C?(i.C=o.C=!1,r.C=!0,t=r):(t===i.R&&(hi(this,i),t=i,i=t.U),i.C=!1,r.C=!0,di(this,r))):(o=r.L,o&&o.C?(i.C=o.C=!1,r.C=!0,t=r):(t===i.L&&(di(this,i),t=i,i=t.U),i.C=!1,r.C=!0,hi(this,r))),i=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e=t.U,i,r=t.L,o=t.R,s,l;if(r?o?s=If(o):s=r:s=o,e?e.L===t?e.L=s:e.R=s:this._=s,r&&o?(l=s.C,s.C=t.C,s.L=r,r.U=s,s!==o?(e=s.U,s.U=t.U,t=s.R,e.L=t,s.R=o,o.U=s):(s.U=e,e=s,t=s.R)):(l=t.C,t=s),t&&(t.U=e),!l){if(t&&t.C){t.C=!1;return}do{if(t===this._)break;if(t===e.L){if(i=e.R,i.C&&(i.C=!1,e.C=!0,hi(this,e),i=e.R),i.L&&i.L.C||i.R&&i.R.C){(!i.R||!i.R.C)&&(i.L.C=!1,i.C=!0,di(this,i),i=e.R),i.C=e.C,e.C=i.R.C=!1,hi(this,e),t=this._;break}}else if(i=e.L,i.C&&(i.C=!1,e.C=!0,di(this,e),i=e.L),i.L&&i.L.C||i.R&&i.R.C){(!i.L||!i.L.C)&&(i.R.C=!1,i.C=!0,hi(this,i),i=e.L),i.C=e.C,e.C=i.L.C=!1,di(this,e),t=this._;break}i.C=!0,t=e,e=e.U}while(!t.C);t&&(t.C=!1)}}};function hi(t,e){var i=e,r=e.R,o=i.U;o?o.L===i?o.L=r:o.R=r:t._=r,r.U=o,i.U=r,i.R=r.L,i.R&&(i.R.U=i),r.L=i}function di(t,e){var i=e,r=e.L,o=i.U;o?o.L===i?o.L=r:o.R=r:t._=r,r.U=o,i.U=r,i.L=r.R,i.L&&(i.L.U=i),r.R=i}function If(t){for(;t.L;)t=t.L;return t}function ki(t,e,i,r){var o=[null,null],s=Nt.push(o)-1;return o.left=t,o.right=e,i&&Ya(o,t,e,i),r&&Ya(o,e,t,r),Jt[t.index].halfedges.push(s),Jt[e.index].halfedges.push(s),o}function gi(t,e,i){var r=[e,i];return r.left=t,r}function Ya(t,e,i,r){!t[0]&&!t[1]?(t[0]=r,t.left=e,t.right=i):t.left===i?t[1]=r:t[0]=r}function NA(t,e,i,r,o){var s=t[0],l=t[1],f=s[0],h=s[1],d=l[0],p=l[1],_=0,y=1,w=d-f,S=p-h,T;if(T=e-f,!(!w&&T>0)){if(T/=w,w<0){if(T<_)return;T<y&&(y=T)}else if(w>0){if(T>y)return;T>_&&(_=T)}if(T=r-f,!(!w&&T<0)){if(T/=w,w<0){if(T>y)return;T>_&&(_=T)}else if(w>0){if(T<_)return;T<y&&(y=T)}if(T=i-h,!(!S&&T>0)){if(T/=S,S<0){if(T<_)return;T<y&&(y=T)}else if(S>0){if(T>y)return;T>_&&(_=T)}if(T=o-h,!(!S&&T<0)){if(T/=S,S<0){if(T>y)return;T>_&&(_=T)}else if(S>0){if(T<_)return;T<y&&(y=T)}return!(_>0)&&!(y<1)||(_>0&&(t[0]=[f+_*w,h+_*S]),y<1&&(t[1]=[f+y*w,h+y*S])),!0}}}}}function DA(t,e,i,r,o){var s=t[1];if(s)return!0;var l=t[0],f=t.left,h=t.right,d=f[0],p=f[1],_=h[0],y=h[1],w=(d+_)/2,S=(p+y)/2,T,A;if(y===p){if(w<e||w>=r)return;if(d>_){if(!l)l=[w,i];else if(l[1]>=o)return;s=[w,o]}else{if(!l)l=[w,o];else if(l[1]<i)return;s=[w,i]}}else if(T=(d-_)/(y-p),A=S-T*w,T<-1||T>1)if(d>_){if(!l)l=[(i-A)/T,i];else if(l[1]>=o)return;s=[(o-A)/T,o]}else{if(!l)l=[(o-A)/T,o];else if(l[1]<i)return;s=[(i-A)/T,i]}else if(p<y){if(!l)l=[e,T*e+A];else if(l[0]>=r)return;s=[r,T*r+A]}else{if(!l)l=[r,T*r+A];else if(l[0]<e)return;s=[e,T*e+A]}return t[0]=l,t[1]=s,!0}function zA(t,e,i,r){for(var o=Nt.length,s;o--;)(!DA(s=Nt[o],t,e,i,r)||!NA(s,t,e,i,r)||!(Math.abs(s[0][0]-s[1][0])>_t||Math.abs(s[0][1]-s[1][1])>_t))&&delete Nt[o]}function FA(t){return Jt[t.index]={site:t,halfedges:[]}}function XA(t,e){var i=t.site,r=e.left,o=e.right;return i===o&&(o=r,r=i),o?Math.atan2(o[1]-r[1],o[0]-r[0]):(i===r?(r=e[1],o=e[0]):(r=e[0],o=e[1]),Math.atan2(r[0]-o[0],o[1]-r[1]))}function Qp(t,e){return e[+(e.left!==t.site)]}function YA(t,e){return e[+(e.left===t.site)]}function BA(){for(var t=0,e=Jt.length,i,r,o,s;t<e;++t)if((i=Jt[t])&&(s=(r=i.halfedges).length)){var l=new Array(s),f=new Array(s);for(o=0;o<s;++o)l[o]=o,f[o]=XA(i,Nt[r[o]]);for(l.sort(function(h,d){return f[d]-f[h]}),o=0;o<s;++o)f[o]=r[l[o]];for(o=0;o<s;++o)r[o]=f[o]}}function HA(t,e,i,r){var o=Jt.length,s,l,f,h,d,p,_,y,w,S,T,A,C=!0;for(s=0;s<o;++s)if(l=Jt[s]){for(f=l.site,d=l.halfedges,h=d.length;h--;)Nt[d[h]]||d.splice(h,1);for(h=0,p=d.length;h<p;)S=YA(l,Nt[d[h]]),T=S[0],A=S[1],_=Qp(l,Nt[d[++h%p]]),y=_[0],w=_[1],(Math.abs(T-y)>_t||Math.abs(A-w)>_t)&&(d.splice(h,0,Nt.push(gi(f,S,Math.abs(T-t)<_t&&r-A>_t?[t,Math.abs(y-t)<_t?w:r]:Math.abs(A-r)<_t&&i-T>_t?[Math.abs(w-r)<_t?y:i,r]:Math.abs(T-i)<_t&&A-e>_t?[i,Math.abs(y-i)<_t?w:e]:Math.abs(A-e)<_t&&T-t>_t?[Math.abs(w-e)<_t?y:t,e]:null))-1),++p);p&&(C=!1)}if(C){var k,L,E,I=1/0;for(s=0,C=null;s<o;++s)(l=Jt[s])&&(f=l.site,k=f[0]-t,L=f[1]-e,E=k*k+L*L,E<I&&(I=E,C=l));if(C){var b=[t,e],z=[t,r],F=[i,r],$=[i,e];C.halfedges.push(Nt.push(gi(f=C.site,b,z))-1,Nt.push(gi(f,z,F))-1,Nt.push(gi(f,F,$))-1,Nt.push(gi(f,$,b))-1)}}for(s=0;s<o;++s)(l=Jt[s])&&(l.halfedges.length||delete Jt[s])}var jp=[],Tc;function $A(){wo(this),this.x=this.y=this.arc=this.site=this.cy=null}function Nn(t){var e=t.P,i=t.N;if(!(!e||!i)){var r=e.site,o=t.site,s=i.site;if(r!==s){var l=o[0],f=o[1],h=r[0]-l,d=r[1]-f,p=s[0]-l,_=s[1]-f,y=2*(h*_-d*p);if(!(y>=-jA)){var w=h*h+d*d,S=p*p+_*_,T=(_*w-d*S)/y,A=(h*S-p*w)/y,C=jp.pop()||new $A;C.arc=t,C.site=o,C.x=T+l,C.y=(C.cy=A+f)+Math.sqrt(T*T+A*A),t.circle=C;for(var k=null,L=ir._;L;)if(C.y<L.y||C.y===L.y&&C.x<=L.x)if(L.L)L=L.L;else{k=L.P;break}else if(L.R)L=L.R;else{k=L;break}ir.insert(k,C),k||(Tc=C)}}}}function Yn(t){var e=t.circle;e&&(e.P||(Tc=e.N),ir.remove(e),jp.push(e),wo(e),t.circle=null)}var Zp=[];function UA(){wo(this),this.edge=this.site=this.circle=null}function Of(t){var e=Zp.pop()||new UA;return e.site=t,e}function fs(t){Yn(t),Bn.remove(t),Zp.push(t),wo(t)}function WA(t){var e=t.circle,i=e.x,r=e.cy,o=[i,r],s=t.P,l=t.N,f=[t];fs(t);for(var h=s;h.circle&&Math.abs(i-h.circle.x)<_t&&Math.abs(r-h.circle.cy)<_t;)s=h.P,f.unshift(h),fs(h),h=s;f.unshift(h),Yn(h);for(var d=l;d.circle&&Math.abs(i-d.circle.x)<_t&&Math.abs(r-d.circle.cy)<_t;)l=d.N,f.push(d),fs(d),d=l;f.push(d),Yn(d);var p=f.length,_;for(_=1;_<p;++_)d=f[_],h=f[_-1],Ya(d.edge,h.site,d.site,o);h=f[0],d=f[p-1],d.edge=ki(h.site,d.site,null,o),Nn(h),Nn(d)}function qA(t){for(var e=t[0],i=t[1],r,o,s,l,f=Bn._;f;)if(s=Kp(f,i)-e,s>_t)f=f.L;else if(l=e-QA(f,i),l>_t){if(!f.R){r=f;break}f=f.R}else{s>-_t?(r=f.P,o=f):l>-_t?(r=f,o=f.N):r=o=f;break}FA(t);var h=Of(t);if(Bn.insert(r,h),!(!r&&!o)){if(r===o){Yn(r),o=Of(r.site),Bn.insert(h,o),h.edge=o.edge=ki(r.site,h.site),Nn(r),Nn(o);return}if(!o){h.edge=ki(r.site,h.site);return}Yn(r),Yn(o);var d=r.site,p=d[0],_=d[1],y=t[0]-p,w=t[1]-_,S=o.site,T=S[0]-p,A=S[1]-_,C=2*(y*A-w*T),k=y*y+w*w,L=T*T+A*A,E=[(A*k-w*L)/C+p,(y*L-T*k)/C+_];Ya(o.edge,d,S,E),h.edge=ki(d,t,null,E),o.edge=ki(t,S,null,E),Nn(r),Nn(o)}}function Kp(t,e){var i=t.site,r=i[0],o=i[1],s=o-e;if(!s)return r;var l=t.P;if(!l)return-1/0;i=l.site;var f=i[0],h=i[1],d=h-e;if(!d)return f;var p=f-r,_=1/s-1/d,y=p/d;return _?(-y+Math.sqrt(y*y-2*_*(p*p/(-2*d)-h+d/2+o-s/2)))/_+r:(r+f)/2}function QA(t,e){var i=t.N;if(i)return Kp(i,e);var r=t.site;return r[1]===e?r[0]:1/0}var _t=1e-6,jA=1e-12,Bn,Jt,ir,Nt;function ZA(t,e,i){return(t[0]-i[0])*(e[1]-t[1])-(t[0]-e[0])*(i[1]-t[1])}function KA(t,e){return e[1]-t[1]||e[0]-t[0]}function lu(t,e){var i=t.sort(KA).pop(),r,o,s;for(Nt=[],Jt=new Array(t.length),Bn=new Xa,ir=new Xa;;)if(s=Tc,i&&(!s||i[1]<s.y||i[1]===s.y&&i[0]<s.x))(i[0]!==r||i[1]!==o)&&(qA(i),r=i[0],o=i[1]),i=t.pop();else if(s)WA(s.arc);else break;if(BA(),e){var l=+e[0][0],f=+e[0][1],h=+e[1][0],d=+e[1][1];zA(l,f,h,d),HA(l,f,h,d)}this.edges=Nt,this.cells=Jt,Bn=ir=Nt=Jt=null}lu.prototype={constructor:lu,polygons:function(){var t=this.edges;return this.cells.map(function(e){var i=e.halfedges.map(function(r){return Qp(e,t[r])});return i.data=e.site.data,i})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(i,r){if(f=(s=i.halfedges).length)for(var o=i.site,s,l=-1,f,h,d=e[s[f-1]],p=d.left===o?d.right:d.left;++l<f;)h=p,d=e[s[l]],p=d.left===o?d.right:d.left,h&&p&&r<h.index&&r<p.index&&ZA(o,h,p)<0&&t.push([o.data,h.data,p.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,i){for(var r=this,o,s=r._found||0,l=r.cells.length,f;!(f=r.cells[s]);)if(++s>=l)return null;var h=t-f.site[0],d=e-f.site[1],p=h*h+d*d;do f=r.cells[o=s],s=null,f.halfedges.forEach(function(_){var y=r.edges[_],w=y.left;if(!((w===f.site||!w)&&!(w=y.right))){var S=t-w[0],T=e-w[1],A=S*S+T*T;A<p&&(p=A,s=w.index)}});while(s!==null);return r._found=o,i==null||p<=i*i?f.site:null}};function JA(){var t=IA,e=OA,i=null;function r(o){return new lu(o.map(function(s,l){var f=[Math.round(t(s,l,o)/_t)*_t,Math.round(e(s,l,o)/_t)*_t];return f.index=l,f.data=s,f}),i)}return r.polygons=function(o){return r(o).polygons()},r.links=function(o){return r(o).links()},r.triangles=function(o){return r(o).triangles()},r.x=function(o){return arguments.length?(t=typeof o=="function"?o:Gf(+o),r):t},r.y=function(o){return arguments.length?(e=typeof o=="function"?o:Gf(+o),r):e},r.extent=function(o){return arguments.length?(i=o==null?null:[[+o[0][0],+o[0][1]],[+o[1][0],+o[1][1]]],r):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},r.size=function(o){return arguments.length?(i=o==null?null:[[0,0],[+o[0],+o[1]]],r):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},r}function Or(t){return function(){return t}}function t3(t,e,i){this.target=t,this.type=e,this.transform=i}function Ee(t,e,i){this.k=t,this.x=e,this.y=i}Ee.prototype={constructor:Ee,scale:function(t){return t===1?this:new Ee(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ee(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bo=new Ee(1,0,0);Jp.prototype=Ee.prototype;function Jp(t){for(;!t.__zoom;)if(!(t=t.parentNode))return bo;return t.__zoom}function hs(){K.stopImmediatePropagation()}function pi(){K.preventDefault(),K.stopImmediatePropagation()}function e3(){return!K.ctrlKey&&!K.button}function n3(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Nf(){return this.__zoom||bo}function i3(){return-K.deltaY*(K.deltaMode===1?.05:K.deltaMode?1:.002)}function r3(){return navigator.maxTouchPoints||"ontouchstart"in this}function a3(t,e,i){var r=t.invertX(e[0][0])-i[0][0],o=t.invertX(e[1][0])-i[1][0],s=t.invertY(e[0][1])-i[0][1],l=t.invertY(e[1][1])-i[1][1];return t.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l))}function o3(){var t=e3,e=n3,i=a3,r=i3,o=r3,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],f=250,h=Mh,d=vn("start","zoom","end"),p,_,y=500,w=150,S=0;function T(R){R.property("__zoom",Nf).on("wheel.zoom",b).on("mousedown.zoom",z).on("dblclick.zoom",F).filter(o).on("touchstart.zoom",$).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",Y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}T.transform=function(R,X,Q){var n=R.selection?R.selection():R;n.property("__zoom",Nf),R!==n?L(R,X,Q):n.interrupt().each(function(){E(this,arguments).start().zoom(null,typeof X=="function"?X.apply(this,arguments):X).end()})},T.scaleBy=function(R,X,Q){T.scaleTo(R,function(){var n=this.__zoom.k,a=typeof X=="function"?X.apply(this,arguments):X;return n*a},Q)},T.scaleTo=function(R,X,Q){T.transform(R,function(){var n=e.apply(this,arguments),a=this.__zoom,u=Q==null?k(n):typeof Q=="function"?Q.apply(this,arguments):Q,c=a.invert(u),g=typeof X=="function"?X.apply(this,arguments):X;return i(C(A(a,g),u,c),n,l)},Q)},T.translateBy=function(R,X,Q){T.transform(R,function(){return i(this.__zoom.translate(typeof X=="function"?X.apply(this,arguments):X,typeof Q=="function"?Q.apply(this,arguments):Q),e.apply(this,arguments),l)})},T.translateTo=function(R,X,Q,n){T.transform(R,function(){var a=e.apply(this,arguments),u=this.__zoom,c=n==null?k(a):typeof n=="function"?n.apply(this,arguments):n;return i(bo.translate(c[0],c[1]).scale(u.k).translate(typeof X=="function"?-X.apply(this,arguments):-X,typeof Q=="function"?-Q.apply(this,arguments):-Q),a,l)},n)};function A(R,X){return X=Math.max(s[0],Math.min(s[1],X)),X===R.k?R:new Ee(X,R.x,R.y)}function C(R,X,Q){var n=X[0]-Q[0]*R.k,a=X[1]-Q[1]*R.k;return n===R.x&&a===R.y?R:new Ee(R.k,n,a)}function k(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function L(R,X,Q){R.on("start.zoom",function(){E(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).end()}).tween("zoom",function(){var n=this,a=arguments,u=E(n,a),c=e.apply(n,a),g=Q==null?k(c):typeof Q=="function"?Q.apply(n,a):Q,m=Math.max(c[1][0]-c[0][0],c[1][1]-c[0][1]),v=n.__zoom,x=typeof X=="function"?X.apply(n,a):X,M=h(v.invert(g).concat(m/v.k),x.invert(g).concat(m/x.k));return function(P){if(P===1)P=x;else{var V=M(P),O=m/V[2];P=new Ee(O,g[0]-V[0]*O,g[1]-V[1]*O)}u.zoom(null,P)}})}function E(R,X,Q){return!Q&&R.__zooming||new I(R,X)}function I(R,X){this.that=R,this.args=X,this.active=0,this.extent=e.apply(R,X),this.taps=0}I.prototype={start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,X){return this.mouse&&R!=="mouse"&&(this.mouse[1]=X.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=X.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=X.invert(this.touch1[0])),this.that.__zoom=X,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){zi(new t3(T,R,this.that.__zoom),d.apply,d,[R,this.that,this.args])}};function b(){if(!t.apply(this,arguments))return;var R=E(this,arguments),X=this.__zoom,Q=Math.max(s[0],Math.min(s[1],X.k*Math.pow(2,r.apply(this,arguments)))),n=an(this);if(R.wheel)(R.mouse[0][0]!==n[0]||R.mouse[0][1]!==n[1])&&(R.mouse[1]=X.invert(R.mouse[0]=n)),clearTimeout(R.wheel);else{if(X.k===Q)return;R.mouse=[n,X.invert(n)],sn(this),R.start()}pi(),R.wheel=setTimeout(a,w),R.zoom("mouse",i(C(A(X,Q),R.mouse[0],R.mouse[1]),R.extent,l));function a(){R.wheel=null,R.end()}}function z(){if(_||!t.apply(this,arguments))return;var R=E(this,arguments,!0),X=Qt(K.view).on("mousemove.zoom",u,!0).on("mouseup.zoom",c,!0),Q=an(this),n=K.clientX,a=K.clientY;Wa(K.view),hs(),R.mouse=[Q,this.__zoom.invert(Q)],sn(this),R.start();function u(){if(pi(),!R.moved){var g=K.clientX-n,m=K.clientY-a;R.moved=g*g+m*m>S}R.zoom("mouse",i(C(R.that.__zoom,R.mouse[0]=an(R.that),R.mouse[1]),R.extent,l))}function c(){X.on("mousemove.zoom mouseup.zoom",null),qa(K.view,R.moved),pi(),R.end()}}function F(){if(t.apply(this,arguments)){var R=this.__zoom,X=an(this),Q=R.invert(X),n=R.k*(K.shiftKey?.5:2),a=i(C(A(R,n),X,Q),e.apply(this,arguments),l);pi(),f>0?Qt(this).transition().duration(f).call(L,a,X):Qt(this).call(T.transform,a)}}function $(){if(t.apply(this,arguments)){var R=K.touches,X=R.length,Q=E(this,arguments,K.changedTouches.length===X),n,a,u,c;for(hs(),a=0;a<X;++a)u=R[a],c=Fi(this,R,u.identifier),c=[c,this.__zoom.invert(c),u.identifier],Q.touch0?!Q.touch1&&Q.touch0[2]!==c[2]&&(Q.touch1=c,Q.taps=0):(Q.touch0=c,n=!0,Q.taps=1+!!p);p&&(p=clearTimeout(p)),n&&(Q.taps<2&&(p=setTimeout(function(){p=null},y)),sn(this),Q.start())}}function W(){if(this.__zooming){var R=E(this,arguments),X=K.changedTouches,Q=X.length,n,a,u,c;for(pi(),p&&(p=clearTimeout(p)),R.taps=0,n=0;n<Q;++n)a=X[n],u=Fi(this,X,a.identifier),R.touch0&&R.touch0[2]===a.identifier?R.touch0[0]=u:R.touch1&&R.touch1[2]===a.identifier&&(R.touch1[0]=u);if(a=R.that.__zoom,R.touch1){var g=R.touch0[0],m=R.touch0[1],v=R.touch1[0],x=R.touch1[1],M=(M=v[0]-g[0])*M+(M=v[1]-g[1])*M,P=(P=x[0]-m[0])*P+(P=x[1]-m[1])*P;a=A(a,Math.sqrt(M/P)),u=[(g[0]+v[0])/2,(g[1]+v[1])/2],c=[(m[0]+x[0])/2,(m[1]+x[1])/2]}else if(R.touch0)u=R.touch0[0],c=R.touch0[1];else return;R.zoom("touch",i(C(a,u,c),R.extent,l))}}function Y(){if(this.__zooming){var R=E(this,arguments),X=K.changedTouches,Q=X.length,n,a;for(hs(),_&&clearTimeout(_),_=setTimeout(function(){_=null},y),n=0;n<Q;++n)a=X[n],R.touch0&&R.touch0[2]===a.identifier?delete R.touch0:R.touch1&&R.touch1[2]===a.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2){var u=Qt(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return T.wheelDelta=function(R){return arguments.length?(r=typeof R=="function"?R:Or(+R),T):r},T.filter=function(R){return arguments.length?(t=typeof R=="function"?R:Or(!!R),T):t},T.touchable=function(R){return arguments.length?(o=typeof R=="function"?R:Or(!!R),T):o},T.extent=function(R){return arguments.length?(e=typeof R=="function"?R:Or([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),T):e},T.scaleExtent=function(R){return arguments.length?(s[0]=+R[0],s[1]=+R[1],T):[s[0],s[1]]},T.translateExtent=function(R){return arguments.length?(l[0][0]=+R[0][0],l[1][0]=+R[1][0],l[0][1]=+R[0][1],l[1][1]=+R[1][1],T):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},T.constrain=function(R){return arguments.length?(i=R,T):i},T.duration=function(R){return arguments.length?(f=+R,T):f},T.interpolate=function(R){return arguments.length?(h=R,T):h},T.on=function(){var R=d.on.apply(d,arguments);return R===d?T:R},T.clickDistance=function(R){return arguments.length?(S=(R=+R)*R,T):Math.sqrt(S)},T}const s3=Object.freeze(Object.defineProperty({__proto__:null,FormatSpecifier:ao,active:Pm,arc:BT,area:Ap,areaRadial:Lf,ascending:We,autoType:Ex,axisBottom:V0,axisLeft:G0,axisRight:R0,axisTop:k0,bisect:Xe,bisectLeft:s0,bisectRight:Xe,bisector:fu,blob:Vx,brush:zm,brushSelection:Om,brushX:Nm,brushY:Dm,buffer:Ix,chord:Xm,clientPoint:Ua,cluster:Qw,color:Be,contourDensity:gx,contours:$h,create:i1,creator:Ha,cross:c0,csv:Dx,csvFormat:xx,csvFormatBody:vx,csvFormatRow:bx,csvFormatRows:wx,csvFormatValue:Sx,csvParse:Wh,csvParseRows:mx,cubehelix:he,curveBasis:uA,curveBasisClosed:cA,curveBasisOpen:lA,curveBundle:fA,curveCardinal:hA,curveCardinalClosed:dA,curveCardinalOpen:gA,curveCatmullRom:pA,curveCatmullRomClosed:yA,curveCatmullRomOpen:_A,curveLinear:mo,curveLinearClosed:mA,curveMonotoneX:xA,curveMonotoneY:vA,curveNatural:wA,curveStep:bA,curveStepAfter:TA,curveStepBefore:SA,customEvent:zi,descending:l0,deviation:Xf,dispatch:vn,drag:f1,dragDisable:Wa,dragEnable:qa,dsv:Nx,dsvFormat:no,easeBack:Qc,easeBackIn:xm,easeBackInOut:Qc,easeBackOut:vm,easeBounce:Ui,easeBounceIn:_m,easeBounceInOut:mm,easeBounceOut:Ui,easeCircle:qc,easeCircleIn:sm,easeCircleInOut:qc,easeCircleOut:um,easeCubic:Ls,easeCubicIn:J_,easeCubicInOut:Ls,easeCubicOut:tm,easeElastic:jc,easeElasticIn:wm,easeElasticInOut:bm,easeElasticOut:jc,easeExp:Wc,easeExpIn:am,easeExpInOut:Wc,easeExpOut:om,easeLinear:j_,easePoly:$c,easePolyIn:em,easePolyInOut:$c,easePolyOut:nm,easeQuad:Hc,easeQuadIn:Z_,easeQuadInOut:Hc,easeQuadOut:K_,easeSin:Uc,easeSinIn:im,easeSinInOut:Uc,easeSinOut:rm,entries:ex,get event(){return K},extent:hu,forceCenter:Ux,forceCollide:fv,forceLink:dv,forceManyBody:xv,forceRadial:vv,forceSimulation:mv,forceX:wv,forceY:bv,get format(){return oo},formatDefaultLocale:Jh,formatLocale:Kh,get formatPrefix(){return Ou},formatSpecifier:qi,geoAlbers:Nd,geoAlbersUsa:Cw,geoArea:Rv,geoAzimuthalEqualArea:Mw,geoAzimuthalEqualAreaRaw:Uu,geoAzimuthalEquidistant:Lw,geoAzimuthalEquidistantRaw:Wu,geoBounds:Ov,geoCentroid:Yv,geoCircle:Bv,geoClipAntimeridian:Us,geoClipCircle:wd,geoClipExtent:jv,geoClipRectangle:so,geoConicConformal:kw,geoConicConformalRaw:Fd,geoConicEqualArea:Ma,geoConicEqualAreaRaw:Od,geoConicEquidistant:Vw,geoConicEquidistantRaw:Xd,geoContains:iw,geoDistance:va,geoEqualEarth:Iw,geoEqualEarthRaw:qu,geoEquirectangular:Rw,geoEquirectangularRaw:Zi,geoGnomonic:Ow,geoGnomonicRaw:Qu,geoGraticule:Td,geoGraticule10:rw,geoIdentity:Nw,geoInterpolate:aw,geoLength:bd,geoMercator:Ew,geoMercatorRaw:lr,geoNaturalEarth1:Dw,geoNaturalEarth1Raw:ju,geoOrthographic:zw,geoOrthographicRaw:Zu,geoPath:_w,geoProjection:Te,geoProjectionMutator:Hu,geoRotation:pd,geoStereographic:Fw,geoStereographicRaw:Ku,geoStream:ue,geoTransform:mw,geoTransverseMercator:Xw,geoTransverseMercatorRaw:Ju,gray:w1,hcl:Kr,hierarchy:tc,histogram:g0,hsl:Qr,html:Hx,image:Fx,interpolate:or,interpolateArray:C1,interpolateBasis:gh,interpolateBasisClosed:ph,interpolateBlues:yT,interpolateBrBG:QS,interpolateBuGn:rT,interpolateBuPu:aT,interpolateCividis:bT,interpolateCool:AT,interpolateCubehelix:Y1,interpolateCubehelixDefault:ST,interpolateCubehelixLong:Ka,interpolateDate:wh,interpolateDiscrete:E1,interpolateGnBu:oT,interpolateGreens:_T,interpolateGreys:mT,interpolateHcl:F1,interpolateHclLong:X1,interpolateHsl:N1,interpolateHslLong:D1,interpolateHue:k1,interpolateInferno:VT,interpolateLab:z1,interpolateMagma:RT,interpolateNumber:ae,interpolateNumberArray:Au,interpolateObject:bh,interpolateOrRd:sT,interpolateOranges:wT,interpolatePRGn:jS,interpolatePiYG:ZS,interpolatePlasma:GT,interpolatePuBu:cT,interpolatePuBuGn:uT,interpolatePuOr:KS,interpolatePuRd:lT,interpolatePurples:xT,interpolateRainbow:PT,interpolateRdBu:JS,interpolateRdGy:tT,interpolateRdPu:fT,interpolateRdYlBu:eT,interpolateRdYlGn:nT,interpolateReds:vT,interpolateRgb:Bi,interpolateRgbBasis:mh,interpolateRgbBasisClosed:P1,interpolateRound:Sh,interpolateSinebow:LT,interpolateSpectral:iT,interpolateString:Pu,interpolateTransformCss:Ph,interpolateTransformSvg:Ch,interpolateTurbo:ET,interpolateViridis:kT,interpolateWarm:TT,interpolateYlGn:dT,interpolateYlGnBu:hT,interpolateYlOrBr:gT,interpolateYlOrRd:pT,interpolateZoom:Mh,interrupt:sn,interval:q1,isoFormat:MS,isoParse:kS,json:Yx,keys:Jm,lab:Zr,lch:b1,line:yc,lineRadial:Mf,linkHorizontal:KT,linkRadial:tA,linkVertical:JT,local:th,map:ke,matcher:_u,max:Bf,mean:_0,median:m0,merge:pu,min:Hf,mouse:an,namespace:rr,namespaces:xs,nest:jm,now:ni,pack:vb,packEnclose:Bd,packSiblings:_b,pairs:u0,partition:wb,path:Qe,permute:x0,pie:UT,piecewise:B1,pointRadial:Ei,polygonArea:Ob,polygonCentroid:Nb,polygonContains:Xb,polygonHull:Fb,polygonLength:Yb,precisionFixed:td,precisionPrefix:ed,precisionRound:nd,quadtree:ro,quantile:Di,quantize:H1,radialArea:Lf,radialLine:Mf,randomBates:$b,randomExponential:Ub,randomIrwinHall:Kd,randomLogNormal:Hb,randomNormal:Zd,randomUniform:Bb,range:te,rgb:$n,ribbon:Qm,scaleBand:nc,scaleDiverging:qg,scaleDivergingLog:Qg,scaleDivergingPow:dc,scaleDivergingSqrt:DS,scaleDivergingSymlog:jg,scaleIdentity:rg,scaleImplicit:au,scaleLinear:ig,scaleLog:og,scaleOrdinal:ec,scalePoint:Wb,scalePow:oc,scaleQuantile:ug,scaleQuantize:cg,scaleSequential:Hg,scaleSequentialLog:$g,scaleSequentialPow:hc,scaleSequentialQuantile:Wg,scaleSequentialSqrt:NS,scaleSequentialSymlog:Ug,scaleSqrt:r2,scaleSymlog:sg,scaleThreshold:lg,scaleTime:IS,scaleUtc:OS,scan:v0,schemeAccent:FS,schemeBlues:mp,schemeBrBG:Zg,schemeBuGn:op,schemeBuPu:sp,schemeCategory10:zS,schemeDark2:XS,schemeGnBu:up,schemeGreens:xp,schemeGreys:vp,schemeOrRd:cp,schemeOranges:Sp,schemePRGn:Kg,schemePaired:YS,schemePastel1:BS,schemePastel2:HS,schemePiYG:Jg,schemePuBu:fp,schemePuBuGn:lp,schemePuOr:tp,schemePuRd:hp,schemePurples:wp,schemeRdBu:ep,schemeRdGy:np,schemeRdPu:dp,schemeRdYlBu:ip,schemeRdYlGn:rp,schemeReds:bp,schemeSet1:$S,schemeSet2:US,schemeSet3:WS,schemeSpectral:ap,schemeTableau10:qS,schemeYlGn:pp,schemeYlGnBu:gp,schemeYlOrBr:yp,schemeYlOrRd:_p,select:Qt,selectAll:a1,selection:wn,selector:$a,selectorAll:yu,set:Bh,shuffle:w0,stack:PA,stackOffsetDiverging:MA,stackOffsetExpand:CA,stackOffsetNone:Jn,stackOffsetSilhouette:LA,stackOffsetWiggle:EA,stackOrderAppearance:Up,stackOrderAscending:Wp,stackOrderDescending:RA,stackOrderInsideOut:VA,stackOrderNone:ti,stackOrderReverse:GA,stratify:Ab,style:cn,sum:b0,svg:$x,symbol:sA,symbolCircle:xc,symbolCross:Mp,symbolDiamond:Ep,symbolSquare:Vp,symbolStar:Rp,symbolTriangle:Gp,symbolWye:Ip,symbols:oA,text:io,thresholdFreedmanDiaconis:p0,thresholdScott:y0,thresholdSturges:gu,tickFormat:ng,tickIncrement:Ri,tickStep:un,ticks:du,timeDay:fo,timeDays:s2,get timeFormat(){return cc},timeFormatDefaultLocale:Yg,timeFormatLocale:Og,timeFriday:wg,timeFridays:h2,timeHour:_g,timeHours:o2,timeInterval:Mt,timeMillisecond:Va,timeMilliseconds:ff,timeMinute:pg,timeMinutes:a2,timeMonday:Ji,timeMondays:u2,timeMonth:Tg,timeMonths:g2,get timeParse(){return Xg},timeSaturday:bg,timeSaturdays:d2,timeSecond:Oa,timeSeconds:hf,timeSunday:Ki,timeSundays:df,timeThursday:yn,timeThursdays:f2,timeTuesday:xg,timeTuesdays:c2,timeWednesday:vg,timeWednesdays:l2,timeWeek:Ki,timeWeeks:df,timeYear:_n,timeYears:p2,timeout:As,timer:to,timerFlush:Gh,touch:Fi,touches:o1,transition:Dh,transpose:$f,tree:kb,treemap:Rb,treemapBinary:Vb,treemapDice:fr,treemapResquarify:Ib,treemapSlice:co,treemapSliceDice:Gb,treemapSquarify:jd,tsv:zx,tsvFormat:Ax,tsvFormatBody:Px,tsvFormatRow:Mx,tsvFormatRows:Cx,tsvFormatValue:Lx,tsvParse:qh,tsvParseRows:Tx,utcDay:ho,utcDays:m2,get utcFormat(){return go},utcFriday:Rg,utcFridays:S2,utcHour:Mg,utcHours:_2,utcMillisecond:Va,utcMilliseconds:ff,utcMinute:Pg,utcMinutes:y2,utcMonday:er,utcMondays:x2,utcMonth:Ig,utcMonths:A2,get utcParse(){return lc},utcSaturday:Vg,utcSaturdays:T2,utcSecond:Oa,utcSeconds:hf,utcSunday:tr,utcSundays:gf,utcThursday:mn,utcThursdays:b2,utcTuesday:Eg,utcTuesdays:v2,utcWednesday:kg,utcWednesdays:w2,utcWeek:tr,utcWeeks:gf,utcYear:xn,utcYears:P2,values:tx,variance:Ff,version:a0,voronoi:JA,window:mu,xml:Bx,zip:T0,zoom:o3,zoomIdentity:bo,zoomTransform:Jp},Symbol.toStringTag,{value:"Module"})),u3=e0(s3);/* @license C3.js v0.7.20 | (c) C3 Team and other contributors | http://c3js.org/ */(function(t,e){(function(i,r){t.exports=r()})(n0,function(){function i(n){var a=this;a.d3=window.d3?window.d3:typeof i0<"u"?u3:void 0,a.api=n,a.config=a.getDefaultConfig(),a.data={},a.cache={},a.axes={}}function r(n){this.internal=new i(this),this.internal.loadConfig(n),this.internal.beforeInit(n),this.internal.init(),this.internal.afterInit(n),function a(u,c,g){Object.keys(u).forEach(function(m){c[m]=u[m].bind(g),0<Object.keys(u[m]).length&&a(u[m],c[m],g)})}(r.prototype,this,this)}function o(n){return Math.ceil(n)+.5}function s(n){return 10*Math.ceil(n/10)}function l(n){return n[1]-n[0]}function f(n,a,u){return L(n[a])?n[a]:u}function h(n){var a=k(n),u=[n.pathSegList.getItem(0),n.pathSegList.getItem(1)];return{x:u[0].x,y:Math.min(u[0].y,u[1].y),width:a.width,height:a.height}}function d(n){return Array.isArray(n)}function p(n){return n==null||E(n)&&n.length===0||typeof n=="object"&&Object.keys(n).length===0}function _(n){return typeof n=="function"}function y(n){return typeof n=="number"}function w(n){return n===void 0}function S(n){return n||n===0}function T(n){return!p(n)}function A(n){return typeof n=="string"?n.replace(/</g,"&lt;").replace(/>/g,"&gt;"):n}function C(n){var a=function(u){u===void 0&&(u=window.navigator.userAgent);var c=u.indexOf("MSIE ");return 0<c?parseInt(u.substring(c+5,u.indexOf(".",c)),10):0<(c=u.indexOf("Trident/"))&&(c=u.indexOf("rv:"),parseInt(u.substring(c+3,u.indexOf(".",c)),10))}();return n===void 0?!!a:n===a}var k=function(n){try{return n.getBBox()}catch{return{x:0,y:0,width:0,height:0}}},L=function(n){return n!==void 0},E=function(n){return typeof n=="string"};function I(n,a){var u=this;u.component=n,u.params=a||{},u.d3=n.d3,u.scale=u.d3.scaleLinear(),u.range,u.orient="bottom",u.innerTickSize=6,u.outerTickSize=this.params.withOuterTick?6:0,u.tickPadding=3,u.tickValues=null,u.tickFormat,u.tickArguments,u.tickOffset=0,u.tickCulling=!0,u.tickCentered,u.tickTextCharSize,u.tickTextRotate=u.params.tickTextRotate,u.tickLength,u.axis=u.generateAxis()}I.prototype.axisX=function(n,a,u){n.attr("transform",function(c){return"translate("+Math.ceil(a(c)+u)+", 0)"})},I.prototype.axisY=function(n,a){n.attr("transform",function(u){return"translate(0,"+Math.ceil(a(u))+")"})},I.prototype.scaleExtent=function(n){var a=n[0],u=n[n.length-1];return a<u?[a,u]:[u,a]},I.prototype.generateTicks=function(n){var a,u,c=[];if(n.ticks)return n.ticks.apply(n,this.tickArguments);for(u=n.domain(),a=Math.ceil(u[0]);a<u[1];a++)c.push(a);return 0<c.length&&0<c[0]&&c.unshift(c[0]-(c[1]-c[0])),c},I.prototype.copyScale=function(){var n,a=this.scale.copy();return this.params.isCategory&&(n=this.scale.domain(),a.domain([n[0],n[1]-1])),a},I.prototype.textFormatted=function(n){var a=this.tickFormat?this.tickFormat(n):n;return a!==void 0?a:""},I.prototype.updateRange=function(){var n=this;return n.range=n.scale.rangeExtent?n.scale.rangeExtent():n.scaleExtent(n.scale.range()),n.range},I.prototype.updateTickTextCharSize=function(n){var a=this;if(a.tickTextCharSize)return a.tickTextCharSize;var u={h:11.5,w:5.5};return n.select("text").text(function(c){return a.textFormatted(c)}).each(function(c){var g=k(this),m=a.textFormatted(c),v=g.height,x=m?g.width/m.length:void 0;v&&x&&(u.h=v,u.w=x)}).text(""),a.tickTextCharSize=u},I.prototype.isVertical=function(){return this.orient==="left"||this.orient==="right"},I.prototype.tspanData=function(n,a,u){var c=this,g=c.params.tickMultiline?c.splitTickText(n,u):[].concat(c.textFormatted(n));return c.params.tickMultiline&&0<c.params.tickMultilineMax&&(g=c.ellipsify(g,c.params.tickMultilineMax)),g.map(function(m){return{index:a,splitted:m,length:g.length}})},I.prototype.splitTickText=function(n,a){var u,c,g,m=this,v=m.textFormatted(n),x=m.params.tickWidth;return Object.prototype.toString.call(v)==="[object Array]"?v:((!x||x<=0)&&(x=m.isVertical()?95:m.params.isCategory?Math.ceil(a(1)-a(0))-12:110),function M(P,V){c=void 0;for(var O=1;O<V.length;O++)if(V.charAt(O)===" "&&(c=O),u=V.substr(0,O+1),g=m.tickTextCharSize.w*u.length,x<g)return M(P.concat(V.substr(0,c||O)),V.slice(c?c+1:O));return P.concat(V)}([],v+""))},I.prototype.ellipsify=function(n,a){if(n.length<=a)return n;for(var u=n.slice(0,a),c=3,g=a-1;0<=g;g--){var m=u[g].length;if(u[g]=u[g].substr(0,m-c).padEnd(m,"."),(c-=m)<=0)break}return u},I.prototype.updateTickLength=function(){this.tickLength=Math.max(this.innerTickSize,0)+this.tickPadding},I.prototype.lineY2=function(n){var a=this,u=a.scale(n)+(a.tickCentered?0:a.tickOffset);return a.range[0]<u&&u<a.range[1]?a.innerTickSize:0},I.prototype.textY=function(){var n=this.tickTextRotate;return n?11.5-n/15*2.5*(0<n?1:-1):this.tickLength},I.prototype.textTransform=function(){var n=this.tickTextRotate;return n?"rotate("+n+")":""},I.prototype.textTextAnchor=function(){var n=this.tickTextRotate;return n?0<n?"start":"end":"middle"},I.prototype.tspanDx=function(){var n=this.tickTextRotate;return n?8*Math.sin(Math.PI*(n/180)):0},I.prototype.tspanDy=function(n,a){var u=this.tickTextCharSize.h;return a===0&&(u=this.isVertical()?-((n.length-1)*(this.tickTextCharSize.h/2)-3):".71em"),u},I.prototype.generateAxis=function(){var n=this,a=n.d3,u=n.params;function c(g,m){var v;return g.each(function(){var x,M,P,V=c.g=a.select(this),O=this.__chart__||n.scale,H=this.__chart__=n.copyScale(),D=n.tickValues?n.tickValues:n.generateTicks(H),N=V.selectAll(".tick").data(D,H),B=N.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),q=N.exit().remove(),G=N.merge(B);u.isCategory?(n.tickOffset=Math.ceil((H(1)-H(0))/2),M=n.tickCentered?0:n.tickOffset,P=n.tickCentered?n.tickOffset:0):n.tickOffset=M=0,n.updateRange(),n.updateTickLength(),n.updateTickTextCharSize(V.select(".tick"));var rt=G.select("line").merge(B.append("line")),U=G.select("text").merge(B.append("text")),j=G.selectAll("text").selectAll("tspan").data(function(nt,ut){return n.tspanData(nt,ut,H)}),J=j.enter().append("tspan").merge(j).text(function(nt){return nt.splitted});j.exit().remove();var ht,et,yt=V.selectAll(".domain").data([0]),st=yt.enter().append("path").merge(yt).attr("class","domain");switch(n.orient){case"bottom":x=n.axisX,rt.attr("x1",M).attr("x2",M).attr("y2",function(nt,ut){return n.lineY2(nt,ut)}),U.attr("x",0).attr("y",function(nt,ut){return n.textY(nt,ut)}).attr("transform",function(nt,ut){return n.textTransform(nt,ut)}).style("text-anchor",function(nt,ut){return n.textTextAnchor(nt,ut)}),J.attr("x",0).attr("dy",function(nt,ut){return n.tspanDy(nt,ut)}).attr("dx",function(nt,ut){return n.tspanDx(nt,ut)}),st.attr("d","M"+n.range[0]+","+n.outerTickSize+"V0H"+n.range[1]+"V"+n.outerTickSize);break;case"top":x=n.axisX,rt.attr("x1",M).attr("x2",M).attr("y2",function(nt,ut){return-1*n.lineY2(nt,ut)}),U.attr("x",0).attr("y",function(nt,ut){return-1*n.textY(nt,ut)-(u.isCategory?2:n.tickLength-2)}).attr("transform",function(nt,ut){return n.textTransform(nt,ut)}).style("text-anchor",function(nt,ut){return n.textTextAnchor(nt,ut)}),J.attr("x",0).attr("dy",function(nt,ut){return n.tspanDy(nt,ut)}).attr("dx",function(nt,ut){return n.tspanDx(nt,ut)}),st.attr("d","M"+n.range[0]+","+-n.outerTickSize+"V0H"+n.range[1]+"V"+-n.outerTickSize);break;case"left":x=n.axisY,rt.attr("x2",-n.innerTickSize).attr("y1",P).attr("y2",P),U.attr("x",-n.tickLength).attr("y",n.tickOffset).style("text-anchor","end"),J.attr("x",-n.tickLength).attr("dy",function(nt,ut){return n.tspanDy(nt,ut)}),st.attr("d","M"+-n.outerTickSize+","+n.range[0]+"H0V"+n.range[1]+"H"+-n.outerTickSize);break;case"right":x=n.axisY,rt.attr("x2",n.innerTickSize).attr("y1",P).attr("y2",P),U.attr("x",n.tickLength).attr("y",n.tickOffset).style("text-anchor","start"),J.attr("x",n.tickLength).attr("dy",function(nt,ut){return n.tspanDy(nt,ut)}),st.attr("d","M"+n.outerTickSize+","+n.range[0]+"H0V"+n.range[1]+"H"+n.outerTickSize)}H.rangeBand?(et=(ht=H).rangeBand()/2,O=H=function(nt){return ht(nt)+et}):O.rangeBand?O=H:q.call(x,H,n.tickOffset),B.call(x,O,n.tickOffset),v=(m?G.transition(m):G).style("opacity",1).call(x,H,n.tickOffset)}),v}return c.scale=function(g){return arguments.length?(n.scale=g,c):n.scale},c.orient=function(g){return arguments.length?(n.orient=g in{top:1,right:1,bottom:1,left:1}?g+"":"bottom",c):n.orient},c.tickFormat=function(g){return arguments.length?(n.tickFormat=g,c):n.tickFormat},c.tickCentered=function(g){return arguments.length?(n.tickCentered=g,c):n.tickCentered},c.tickOffset=function(){return n.tickOffset},c.tickInterval=function(){var g=u.isCategory?2*n.tickOffset:(c.g.select("path.domain").node().getTotalLength()-2*n.outerTickSize)/c.g.selectAll("line").size();return g===1/0?0:g},c.ticks=function(){return arguments.length?(n.tickArguments=arguments,c):n.tickArguments},c.tickCulling=function(g){return arguments.length?(n.tickCulling=g,c):n.tickCulling},c.tickValues=function(g){if(typeof g=="function")n.tickValues=function(){return g(n.scale.domain())};else{if(!arguments.length)return n.tickValues;n.tickValues=g}return c},c};var b={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},z=function(n){this.owner=n,this.d3=n.d3,this.internal=I},F=z;F.prototype.init=function(){var n=this.owner,a=n.config,u=n.main;n.axes.x=u.append("g").attr("class",b.axis+" "+b.axisX).attr("clip-path",a.axis_x_inner?"":n.clipPathForXAxis).attr("transform",n.getTranslate("x")).style("visibility",a.axis_x_show?"visible":"hidden"),n.axes.x.append("text").attr("class",b.axisXLabel).attr("transform",a.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),n.axes.y=u.append("g").attr("class",b.axis+" "+b.axisY).attr("clip-path",a.axis_y_inner?"":n.clipPathForYAxis).attr("transform",n.getTranslate("y")).style("visibility",a.axis_y_show?"visible":"hidden"),n.axes.y.append("text").attr("class",b.axisYLabel).attr("transform",a.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),n.axes.y2=u.append("g").attr("class",b.axis+" "+b.axisY2).attr("transform",n.getTranslate("y2")).style("visibility",a.axis_y2_show?"visible":"hidden"),n.axes.y2.append("text").attr("class",b.axisY2Label).attr("transform",a.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},F.prototype.getXAxis=function(n,a,u,c,g,m,v){var x=this.owner,M=x.config,P={isCategory:x.isCategorized(),withOuterTick:g,tickMultiline:M.axis_x_tick_multiline,tickMultilineMax:M.axis_x_tick_multiline?Number(M.axis_x_tick_multilineMax):0,tickWidth:M.axis_x_tick_width,tickTextRotate:v?0:M.axis_x_tick_rotate,withoutTransition:m},V=new this.internal(this,P).axis.scale(n).orient(a);return x.isTimeSeries()&&c&&typeof c!="function"&&(c=c.map(function(O){return x.parseDate(O)})),V.tickFormat(u).tickValues(c),x.isCategorized()&&(V.tickCentered(M.axis_x_tick_centered),p(M.axis_x_tick_culling)&&(M.axis_x_tick_culling=!1)),V},F.prototype.updateXAxisTickValues=function(n,a){var u,c=this.owner,g=c.config;return(g.axis_x_tick_fit||g.axis_x_tick_count)&&(u=this.generateTickValues(c.mapTargetsToUniqueXs(n),g.axis_x_tick_count,c.isTimeSeries())),a?a.tickValues(u):(c.xAxis.tickValues(u),c.subXAxis.tickValues(u)),u},F.prototype.getYAxis=function(n,a,u,c,g,m,v){var x=this.owner,M=x.config,P=M["axis_"+n+"_tick_format"];!P&&x.isAxisNormalized(n)&&(P=function(O){return O+"%"});var V=new this.internal(this,{withOuterTick:g,withoutTransition:m,tickTextRotate:v?0:M.axis_y_tick_rotate}).axis.scale(a).orient(u);return P&&V.tickFormat(P),x.isTimeSeriesY()?V.ticks(M.axis_y_tick_time_type,M.axis_y_tick_time_interval):V.tickValues(c),V},F.prototype.getId=function(n){var a=this.owner.config;return n in a.data_axes?a.data_axes[n]:"y"},F.prototype.getXAxisTickFormat=function(){var n=this.owner,a=n.config,u=n.isTimeSeries()?n.defaultAxisTimeFormat:n.isCategorized()?n.categoryName:function(c){return c};return a.axis_x_tick_format&&(_(a.axis_x_tick_format)?u=a.axis_x_tick_format:n.isTimeSeries()&&(u=function(c){return c?n.axisTimeFormat(a.axis_x_tick_format)(c):""})),_(u)?function(c){return u.call(n,c)}:u},F.prototype.getTickValues=function(n,a){return n||(a?a.tickValues():void 0)},F.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},F.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},F.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},F.prototype.getLabelOptionByAxisId=function(n){var a,u=this.owner.config;return n==="y"?a=u.axis_y_label:n==="y2"?a=u.axis_y2_label:n==="x"&&(a=u.axis_x_label),a},F.prototype.getLabelText=function(n){var a=this.getLabelOptionByAxisId(n);return E(a)?a:a?a.text:null},F.prototype.setLabelText=function(n,a){var u=this.owner.config,c=this.getLabelOptionByAxisId(n);E(c)?n==="y"?u.axis_y_label=a:n==="y2"?u.axis_y2_label=a:n==="x"&&(u.axis_x_label=a):c&&(c.text=a)},F.prototype.getLabelPosition=function(n,a){var u=this.getLabelOptionByAxisId(n),c=u&&typeof u=="object"&&u.position?u.position:a;return{isInner:0<=c.indexOf("inner"),isOuter:0<=c.indexOf("outer"),isLeft:0<=c.indexOf("left"),isCenter:0<=c.indexOf("center"),isRight:0<=c.indexOf("right"),isTop:0<=c.indexOf("top"),isMiddle:0<=c.indexOf("middle"),isBottom:0<=c.indexOf("bottom")}},F.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},F.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},F.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},F.prototype.getLabelPositionById=function(n){return n==="y2"?this.getY2AxisLabelPosition():n==="y"?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},F.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},F.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},F.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},F.prototype.xForAxisLabel=function(n,a){var u=this.owner;return n?a.isLeft?0:a.isCenter?u.width/2:u.width:a.isBottom?-u.height:a.isMiddle?-u.height/2:0},F.prototype.dxForAxisLabel=function(n,a){return n?a.isLeft?"0.5em":a.isRight?"-0.5em":"0":a.isTop?"-0.5em":a.isBottom?"0.5em":"0"},F.prototype.textAnchorForAxisLabel=function(n,a){return n?a.isLeft?"start":a.isCenter?"middle":"end":a.isBottom?"start":a.isMiddle?"middle":"end"},F.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},F.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},F.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},F.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},F.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},F.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},F.prototype.dyForXAxisLabel=function(){var n=this.owner,a=n.config,u=this.getXAxisLabelPosition();return a.axis_rotated?u.isInner?"1.2em":-25-(n.config.axis_x_inner?0:this.getMaxTickWidth("x")):u.isInner?"-0.5em":n.getHorizontalAxisHeight("x")-10},F.prototype.dyForYAxisLabel=function(){var n=this.owner,a=this.getYAxisLabelPosition();return n.config.axis_rotated?a.isInner?"-0.5em":"3em":a.isInner?"1.2em":-10-(n.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},F.prototype.dyForY2AxisLabel=function(){var n=this.owner,a=this.getY2AxisLabelPosition();return n.config.axis_rotated?a.isInner?"1.2em":"-2.2em":a.isInner?"-0.5em":15+(n.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},F.prototype.textAnchorForXAxisLabel=function(){var n=this.owner;return this.textAnchorForAxisLabel(!n.config.axis_rotated,this.getXAxisLabelPosition())},F.prototype.textAnchorForYAxisLabel=function(){var n=this.owner;return this.textAnchorForAxisLabel(n.config.axis_rotated,this.getYAxisLabelPosition())},F.prototype.textAnchorForY2AxisLabel=function(){var n=this.owner;return this.textAnchorForAxisLabel(n.config.axis_rotated,this.getY2AxisLabelPosition())},F.prototype.getMaxTickWidth=function(n,a){var u,c,g,m,v=this.owner,x=0;return a&&v.currentMaxTickWidths[n]||(v.svg&&(u=v.filterTargetsToShow(v.data.targets),n==="y"?(c=v.y.copy().domain(v.getYDomain(u,"y")),g=this.getYAxis(n,c,v.yOrient,v.yAxisTickValues,!1,!0,!0)):n==="y2"?(c=v.y2.copy().domain(v.getYDomain(u,"y2")),g=this.getYAxis(n,c,v.y2Orient,v.y2AxisTickValues,!1,!0,!0)):(c=v.x.copy().domain(v.getXDomain(u)),g=this.getXAxis(c,v.xOrient,v.xAxisTickFormat,v.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(u,g)),(m=v.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(g).each(function(){v.d3.select(this).selectAll("text").each(function(){var M=k(this);x<M.width&&(x=M.width)}),m.remove()})),v.currentMaxTickWidths[n]=x<=0?v.currentMaxTickWidths[n]:x),v.currentMaxTickWidths[n]},F.prototype.updateLabels=function(n){var a=this.owner,u=a.main.select("."+b.axisX+" ."+b.axisXLabel),c=a.main.select("."+b.axisY+" ."+b.axisYLabel),g=a.main.select("."+b.axisY2+" ."+b.axisY2Label);(n?u.transition():u).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(n?c.transition():c).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(n?g.transition():g).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},F.prototype.getPadding=function(n,a,u,c){var g=typeof n=="number"?n:n[a];return S(g)?n.unit==="ratio"?n[a]*c:this.convertPixelsToAxisPadding(g,c):u},F.prototype.convertPixelsToAxisPadding=function(n,a){var u=this.owner;return a*(n/(u.config.axis_rotated?u.width:u.height))},F.prototype.generateTickValues=function(n,a,u){var c,g,m,v,x,M,P,V=n;if(a){if((c=_(a)?a():a)===1)V=[n[0]];else if(c===2)V=[n[0],n[n.length-1]];else if(2<c){for(v=c-2,g=n[0],x=((m=n[n.length-1])-g)/(1+v),V=[g],M=0;M<v;M++)P=+g+x*(M+1),V.push(u?new Date(P):P);V.push(m)}}return u||(V=V.sort(function(O,H){return O-H})),V},F.prototype.generateTransitions=function(n){var a=this.owner.axes;return{axisX:n?a.x.transition().duration(n):a.x,axisY:n?a.y.transition().duration(n):a.y,axisY2:n?a.y2.transition().duration(n):a.y2,axisSubX:n?a.subx.transition().duration(n):a.subx}},F.prototype.redraw=function(n,a){var u=this.owner,c=n?u.d3.transition().duration(n):null;u.axes.x.style("opacity",a?0:1).call(u.xAxis,c),u.axes.y.style("opacity",a?0:1).call(u.yAxis,c),u.axes.y2.style("opacity",a?0:1).call(u.y2Axis,c),u.axes.subx.style("opacity",a?0:1).call(u.subXAxis,c)};var $={version:"0.7.20",chart:{fn:r.prototype,internal:{fn:i.prototype,axis:{fn:z.prototype,internal:{fn:I.prototype}}}},generate:function(n){return new r(n)}};function W(n,a,u){var c=[.01,10];function g(m){return u(a(m))}return a||(a=n.scaleLinear()).range(c),u||((u=n.scaleLog()).domain(c),u.nice()),g.domain=function(m){return arguments.length?(a.domain(m),g):a.domain()},g.range=function(m){return arguments.length?(u.range(m),g):u.range()},g.ticks=function(m){return function(v,x,M){var P,V,O,H;if(arguments.length<3)M=10;else if(M===0)return[];H=(x-v)/(V=M-1),O=v,(P=new Array(M))[0]=Math.pow(10,O);for(var D=1;D<V;D++)O+=H,P[D]=Math.pow(10,O);return P[V]=Math.pow(10,x),P}(-2,1,m||10).map(function(v){return a.invert(v)})},g.copy=function(){return W(n,a.copy(),u.copy())},g}function Y(n){return n/Math.pow(10,Math.ceil(Math.log(n)/Math.LN10-1e-12))==1}i.prototype.beforeInit=function(){},i.prototype.afterInit=function(){},i.prototype.init=function(){var n=this,a=n.config;if(n.initParams(),a.data_url)n.convertUrlToData(a.data_url,a.data_mimeType,a.data_headers,a.data_keys,n.initWithData);else if(a.data_json)n.initWithData(n.convertJsonToData(a.data_json,a.data_keys));else if(a.data_rows)n.initWithData(n.convertRowsToData(a.data_rows));else{if(!a.data_columns)throw Error("url or json or rows or columns is required.");n.initWithData(n.convertColumnsToData(a.data_columns))}},i.prototype.initParams=function(){var n=this,a=n.d3,u=n.config;n.clipId="c3-"+new Date().valueOf()+"-clip",n.clipIdForXAxis=n.clipId+"-xaxis",n.clipIdForYAxis=n.clipId+"-yaxis",n.clipIdForGrid=n.clipId+"-grid",n.clipIdForSubchart=n.clipId+"-subchart",n.clipPath=n.getClipPath(n.clipId),n.clipPathForXAxis=n.getClipPath(n.clipIdForXAxis),n.clipPathForYAxis=n.getClipPath(n.clipIdForYAxis),n.clipPathForGrid=n.getClipPath(n.clipIdForGrid),n.clipPathForSubchart=n.getClipPath(n.clipIdForSubchart),n.dragStart=null,n.dragging=!1,n.flowing=!1,n.cancelClick=!1,n.mouseover=void 0,n.transiting=!1,n.color=n.generateColor(),n.levelColor=n.generateLevelColor(),n.dataTimeParse=(u.data_xLocaltime?a.timeParse:a.utcParse)(n.config.data_xFormat),n.axisTimeFormat=u.axis_x_localtime?a.timeFormat:a.utcFormat,n.defaultAxisTimeFormat=function(c){return(c.getMilliseconds()?a.timeFormat(".%L"):c.getSeconds()?a.timeFormat(":%S"):c.getMinutes()?a.timeFormat("%I:%M"):c.getHours()?a.timeFormat("%I %p"):c.getDay()&&c.getDate()!==1||c.getDate()!==1||c.getMonth()?a.timeFormat("%-m/%-d"):a.timeFormat("%Y/%-m/%-d"))(c)},n.hiddenTargetIds=[],n.hiddenLegendIds=[],n.focusedTargetIds=[],n.defocusedTargetIds=[],n.xOrient=u.axis_rotated?u.axis_x_inner?"right":"left":u.axis_x_inner?"top":"bottom",n.yOrient=u.axis_rotated?u.axis_y_inner?"top":"bottom":u.axis_y_inner?"right":"left",n.y2Orient=u.axis_rotated?u.axis_y2_inner?"bottom":"top":u.axis_y2_inner?"left":"right",n.subXOrient=u.axis_rotated?"left":"bottom",n.isLegendRight=u.legend_position==="right",n.isLegendInset=u.legend_position==="inset",n.isLegendTop=u.legend_inset_anchor==="top-left"||u.legend_inset_anchor==="top-right",n.isLegendLeft=u.legend_inset_anchor==="top-left"||u.legend_inset_anchor==="bottom-left",n.legendStep=0,n.legendItemWidth=0,n.legendItemHeight=0,n.currentMaxTickWidths={x:0,y:0,y2:0},n.rotated_padding_left=30,n.rotated_padding_right=u.axis_rotated&&!u.axis_x_show?0:30,n.rotated_padding_top=5,n.withoutFadeIn={},n.intervalForObserveInserted=void 0,n.axes.subx=a.selectAll([])},i.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},i.prototype.initWithData=function(n){var a,u,c=this,g=c.d3,m=c.config,v=!0;c.axis=new z(c),m.bindto?typeof m.bindto.node=="function"?c.selectChart=m.bindto:c.selectChart=g.select(m.bindto):c.selectChart=g.selectAll([]),c.selectChart.empty()&&(c.selectChart=g.select(document.createElement("div")).style("opacity",0),c.observeInserted(c.selectChart),v=!1),c.selectChart.html("").classed("c3",!0),c.data.xs={},c.data.targets=c.convertDataToTargets(n),m.data_filter&&(c.data.targets=c.data.targets.filter(m.data_filter)),m.data_hide&&c.addHiddenTargetIds(m.data_hide===!0?c.mapToIds(c.data.targets):m.data_hide),m.legend_hide&&c.addHiddenLegendIds(m.legend_hide===!0?c.mapToIds(c.data.targets):m.legend_hide),c.isStanfordGraphType()&&c.initStanfordData(),c.updateSizes(),c.updateScales(),c.x.domain(g.extent(c.getXDomain(c.data.targets))),c.y.domain(c.getYDomain(c.data.targets,"y")),c.y2.domain(c.getYDomain(c.data.targets,"y2")),c.subX.domain(c.x.domain()),c.subY.domain(c.y.domain()),c.subY2.domain(c.y2.domain()),c.orgXDomain=c.x.domain(),c.svg=c.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return m.onmouseover.call(c)}).on("mouseleave",function(){return m.onmouseout.call(c)}),c.config.svg_classname&&c.svg.attr("class",c.config.svg_classname),a=c.svg.append("defs"),c.clipChart=c.appendClip(a,c.clipId),c.clipXAxis=c.appendClip(a,c.clipIdForXAxis),c.clipYAxis=c.appendClip(a,c.clipIdForYAxis),c.clipGrid=c.appendClip(a,c.clipIdForGrid),c.clipSubchart=c.appendClip(a,c.clipIdForSubchart),c.updateSvgSize(),u=c.main=c.svg.append("g").attr("transform",c.getTranslate("main")),c.initPie&&c.initPie(),c.initDragZoom&&c.initDragZoom(),m.subchart_show&&c.initSubchart&&c.initSubchart(),c.initTooltip&&c.initTooltip(),c.initLegend&&c.initLegend(),c.initTitle&&c.initTitle(),c.initZoom&&c.initZoom(),c.isStanfordGraphType()&&c.drawColorScale(),m.subchart_show&&c.initSubchartBrush&&c.initSubchartBrush(),u.append("text").attr("class",b.text+" "+b.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),c.initRegion(),c.initGrid(),u.append("g").attr("clip-path",c.clipPath).attr("class",b.chart),m.grid_lines_front&&c.initGridLines(),c.initStanfordElements(),c.initEventRect(),c.initChartElements(),c.axis.init(),c.updateTargets(c.data.targets),m.axis_x_selection&&c.brush.selectionAsValue(c.getDefaultSelection()),v&&(c.updateDimension(),c.config.oninit.call(c),c.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),c.bindResize(),c.bindWindowFocus(),c.api.element=c.selectChart.node()},i.prototype.smoothLines=function(n,a){var u=this;a==="grid"&&n.each(function(){var c=u.d3.select(this),g=c.attr("x1"),m=c.attr("x2"),v=c.attr("y1"),x=c.attr("y2");c.attr({x1:Math.ceil(g),x2:Math.ceil(m),y1:Math.ceil(v),y2:Math.ceil(x)})})},i.prototype.updateSizes=function(){var n=this,a=n.config,u=n.legend?n.getLegendHeight():0,c=n.legend?n.getLegendWidth():0,g=n.isLegendRight||n.isLegendInset?0:u,m=n.hasArcType(),v=a.axis_rotated||m?0:n.getHorizontalAxisHeight("x"),x=a.axis_rotated||m?0:n.getHorizontalAxisHeight("x",!0),M=a.subchart_show&&!m?a.subchart_size_height+x:0;n.currentWidth=n.getCurrentWidth(),n.currentHeight=n.getCurrentHeight(),n.margin=a.axis_rotated?{top:n.getHorizontalAxisHeight("y2")+n.getCurrentPaddingTop(),right:m?0:n.getCurrentPaddingRight(),bottom:n.getHorizontalAxisHeight("y")+g+n.getCurrentPaddingBottom(),left:M+(m?0:n.getCurrentPaddingLeft())}:{top:4+n.getCurrentPaddingTop(),right:m?0:n.getCurrentPaddingRight(),bottom:v+M+g+n.getCurrentPaddingBottom(),left:m?0:n.getCurrentPaddingLeft()},n.margin2=a.axis_rotated?{top:n.margin.top,right:NaN,bottom:20+g,left:n.rotated_padding_left}:{top:n.currentHeight-M-g,right:NaN,bottom:x+g,left:n.margin.left},n.margin3={top:0,right:NaN,bottom:0,left:0},n.updateSizeForLegend&&n.updateSizeForLegend(u,c),n.width=n.currentWidth-n.margin.left-n.margin.right,n.height=n.currentHeight-n.margin.top-n.margin.bottom,n.width<0&&(n.width=0),n.height<0&&(n.height=0),n.width2=a.axis_rotated?n.margin.left-n.rotated_padding_left-n.rotated_padding_right:n.width,n.height2=a.axis_rotated?n.height:n.currentHeight-n.margin2.top-n.margin2.bottom,n.width2<0&&(n.width2=0),n.height2<0&&(n.height2=0),n.arcWidth=n.width-(n.isLegendRight?c+10:0),n.arcHeight=n.height-(n.isLegendRight?0:10),n.hasType("gauge")&&!a.gauge_fullCircle&&(n.arcHeight+=n.height-n.getGaugeLabelHeight()),n.updateRadius&&n.updateRadius(),n.isLegendRight&&m&&(n.margin3.left=n.arcWidth/2+1.1*n.radiusExpanded)},i.prototype.updateTargets=function(n){var a=this,u=a.config;a.updateTargetsForText(n),a.updateTargetsForBar(n),a.updateTargetsForLine(n),a.hasArcType()&&a.updateTargetsForArc&&a.updateTargetsForArc(n),u.subchart_show&&a.updateTargetsForSubchart&&a.updateTargetsForSubchart(n),a.showTargets()},i.prototype.showTargets=function(){var n=this;n.svg.selectAll("."+b.target).filter(function(a){return n.isTargetToShow(a.id)}).transition().duration(n.config.transition_duration).style("opacity",1)},i.prototype.redraw=function(n,a){var u,c,g,m,v,x,M,P,V,O,H,D,N,B,q,G=this,rt=G.main,U=G.d3,j=G.config,J=G.getShapeIndices(G.isAreaType),ht=G.getShapeIndices(G.isBarType),et=G.getShapeIndices(G.isLineType),yt=G.hasArcType(),st=G.filterTargetsToShow(G.data.targets),nt=G.xv.bind(G),ut=f(n=n||{},"withY",!0),Vt=f(n,"withSubchart",!0),Gt=f(n,"withTransition",!0),Ae=f(n,"withTransform",!1),pe=f(n,"withUpdateXDomain",!1),Tt=f(n,"withUpdateOrgXDomain",!1),At=f(n,"withTrimXDomain",!0),ee=f(n,"withUpdateXAxis",pe),Z=f(n,"withLegend",!1),dt=f(n,"withEventRect",!0),Cn=f(n,"withDimension",!0),Mn=f(n,"withTransitionForExit",Gt),dr=f(n,"withTransitionForAxis",Gt),jt=Gt?j.transition_duration:0,se=Mn?jt:0,gr=dr?jt:0;if(a=a||G.axis.generateTransitions(gr),Z&&j.legend_show?G.updateLegend(G.mapToIds(G.data.targets),n,a):Cn&&G.updateDimension(!0),G.isCategorized()&&st.length===0&&G.x.domain([0,G.axes.x.selectAll(".tick").size()]),st.length?(G.updateXDomain(st,pe,Tt,At),j.axis_x_tick_values||(O=G.axis.updateXAxisTickValues(st))):(G.xAxis.tickValues([]),G.subXAxis.tickValues([])),j.zoom_rescale&&!n.flow&&(N=G.x.orgDomain()),G.y.domain(G.getYDomain(st,"y",N)),G.y2.domain(G.getYDomain(st,"y2",N)),!j.axis_y_tick_values&&j.axis_y_tick_count&&G.yAxis.tickValues(G.axis.generateTickValues(G.y.domain(),j.axis_y_tick_count)),!j.axis_y2_tick_values&&j.axis_y2_tick_count&&G.y2Axis.tickValues(G.axis.generateTickValues(G.y2.domain(),j.axis_y2_tick_count)),G.axis.redraw(gr,yt),G.axis.updateLabels(Gt),(pe||ee)&&st.length)if(j.axis_x_tick_culling&&O){for(H=1;H<O.length;H++)if(O.length/H<j.axis_x_tick_culling_max){D=H;break}G.svg.selectAll("."+b.axisX+" .tick text").each(function(Pe){var Ke=O.indexOf(Pe);0<=Ke&&U.select(this).style("display",Ke%D?"none":"block")})}else G.svg.selectAll("."+b.axisX+" .tick text").style("display","block");u=G.generateDrawArea?G.generateDrawArea(J,!1):void 0,c=G.generateDrawBar?G.generateDrawBar(ht):void 0,g=G.generateDrawLine?G.generateDrawLine(et,!1):void 0,m=G.generateXYForText(J,ht,et,!0),v=G.generateXYForText(J,ht,et,!1),G.updateCircleY(),B=(G.config.axis_rotated?G.circleY:G.circleX).bind(G),q=(G.config.axis_rotated?G.circleX:G.circleY).bind(G),ut&&(G.subY.domain(G.getYDomain(st,"y")),G.subY2.domain(G.getYDomain(st,"y2"))),G.updateXgridFocus(),rt.select("text."+b.text+"."+b.empty).attr("x",G.width/2).attr("y",G.height/2).text(j.data_empty_label_text).transition().style("opacity",st.length?0:1),dt&&G.redrawEventRect(),G.updateGrid(jt),G.updateStanfordElements(jt),G.updateRegion(jt),G.updateBar(se),G.updateLine(se),G.updateArea(se),G.updateCircle(B,q),G.hasDataLabel()&&G.updateText(m,v,se),G.redrawTitle&&G.redrawTitle(),G.redrawArc&&G.redrawArc(jt,se,Ae),j.subchart_show&&G.redrawSubchart&&G.redrawSubchart(Vt,a,jt,se,J,ht,et),G.isStanfordGraphType()&&G.drawColorScale(),rt.selectAll("."+b.selectedCircles).filter(G.isBarType.bind(G)).selectAll("circle").remove(),n.flow&&(P=G.generateFlow({targets:st,flow:n.flow,duration:n.flow.duration,drawBar:c,drawLine:g,drawArea:u,cx:B,cy:q,xv:nt,xForText:m,yForText:v})),jt&&G.isTabVisible()?(V=U.transition().duration(jt),x=[],[G.redrawBar(c,!0,V),G.redrawLine(g,!0,V),G.redrawArea(u,!0,V),G.redrawCircle(B,q,!0,V),G.redrawText(m,v,n.flow,!0,V),G.redrawRegion(!0,V),G.redrawGrid(!0,V)].forEach(function(Pe){Pe.forEach(function(Ke){x.push(Ke)})}),M=G.generateWait(),x.forEach(function(Pe){M.add(Pe)}),M(function(){P&&P(),j.onrendered&&j.onrendered.call(G)})):(G.redrawBar(c),G.redrawLine(g),G.redrawArea(u),G.redrawCircle(B,q),G.redrawText(m,v,n.flow),G.redrawRegion(),G.redrawGrid(),P&&P(),j.onrendered&&j.onrendered.call(G)),G.mapToIds(G.data.targets).forEach(function(Pe){G.withoutFadeIn[Pe]=!0})},i.prototype.updateAndRedraw=function(n){var a,u=this,c=u.config;(n=n||{}).withTransition=f(n,"withTransition",!0),n.withTransform=f(n,"withTransform",!1),n.withLegend=f(n,"withLegend",!1),n.withUpdateXDomain=f(n,"withUpdateXDomain",!0),n.withUpdateOrgXDomain=f(n,"withUpdateOrgXDomain",!0),n.withTransitionForExit=!1,n.withTransitionForTransform=f(n,"withTransitionForTransform",n.withTransition),u.updateSizes(),n.withLegend&&c.legend_show||(a=u.axis.generateTransitions(n.withTransitionForAxis?c.transition_duration:0),u.updateScales(),u.updateSvgSize(),u.transformAll(n.withTransitionForTransform,a)),u.redraw(n,a)},i.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},i.prototype.isTimeSeries=function(){return this.config.axis_x_type==="timeseries"},i.prototype.isCategorized=function(){return 0<=this.config.axis_x_type.indexOf("categor")},i.prototype.isCustomX=function(){var n=this.config;return!this.isTimeSeries()&&(n.data_x||T(n.data_xs))},i.prototype.isTimeSeriesY=function(){return this.config.axis_y_type==="timeseries"},i.prototype.getTranslate=function(n){var a,u,c=this,g=c.config;return n==="main"?(a=o(c.margin.left),u=o(c.margin.top)):n==="context"?(a=o(c.margin2.left),u=o(c.margin2.top)):n==="legend"?(a=c.margin3.left,u=c.margin3.top):n==="x"?(a=0,u=g.axis_rotated?0:c.height):n==="y"?(a=0,u=g.axis_rotated?c.height:0):n==="y2"?(a=g.axis_rotated?0:c.width,u=g.axis_rotated?1:0):n==="subx"?(a=0,u=g.axis_rotated?0:c.height2):n==="arc"&&(a=c.arcWidth/2,u=c.arcHeight/2-(c.hasType("gauge")?6:0)),"translate("+a+","+u+")"},i.prototype.initialOpacity=function(n){return n.value!==null&&this.withoutFadeIn[n.id]?1:0},i.prototype.initialOpacityForCircle=function(n){return n.value!==null&&this.withoutFadeIn[n.id]?this.opacityForCircle(n):0},i.prototype.opacityForCircle=function(n){var a=(_(this.config.point_show)?this.config.point_show(n):this.config.point_show)||this.isStanfordType(n)?1:0;return S(n.value)?this.isScatterType(n)?.5:a:0},i.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},i.prototype.xx=function(n){return n?this.x(n.x):null},i.prototype.xvCustom=function(n,a){var u=this,c=a?n[a]:n.value;return u.isTimeSeries()?c=u.parseDate(n.value):u.isCategorized()&&typeof n.value=="string"&&(c=u.config.axis_x_categories.indexOf(n.value)),Math.ceil(u.x(c))},i.prototype.yvCustom=function(n,a){var u=n.axis&&n.axis==="y2"?this.y2:this.y,c=a?n[a]:n.value;return Math.ceil(u(c))},i.prototype.xv=function(n){var a=this,u=n.value;return a.isTimeSeries()?u=a.parseDate(n.value):a.isCategorized()&&typeof n.value=="string"&&(u=a.config.axis_x_categories.indexOf(n.value)),Math.ceil(a.x(u))},i.prototype.yv=function(n){var a=n.axis&&n.axis==="y2"?this.y2:this.y;return Math.ceil(a(n.value))},i.prototype.subxx=function(n){return n?this.subX(n.x):null},i.prototype.transformMain=function(n,a){var u,c,g,m=this;a&&a.axisX?u=a.axisX:(u=m.main.select("."+b.axisX),n&&(u=u.transition())),a&&a.axisY?c=a.axisY:(c=m.main.select("."+b.axisY),n&&(c=c.transition())),a&&a.axisY2?g=a.axisY2:(g=m.main.select("."+b.axisY2),n&&(g=g.transition())),(n?m.main.transition():m.main).attr("transform",m.getTranslate("main")),u.attr("transform",m.getTranslate("x")),c.attr("transform",m.getTranslate("y")),g.attr("transform",m.getTranslate("y2")),m.main.select("."+b.chartArcs).attr("transform",m.getTranslate("arc"))},i.prototype.transformAll=function(n,a){var u=this;u.transformMain(n,a),u.config.subchart_show&&u.transformContext(n,a),u.legend&&u.transformLegend(n)},i.prototype.updateSvgSize=function(){var n=this,a=n.svg.select("."+b.brush+" .overlay");n.svg.attr("width",n.currentWidth).attr("height",n.currentHeight),n.svg.selectAll(["#"+n.clipId,"#"+n.clipIdForGrid]).select("rect").attr("width",n.width).attr("height",n.height),n.svg.select("#"+n.clipIdForXAxis).select("rect").attr("x",n.getXAxisClipX.bind(n)).attr("y",n.getXAxisClipY.bind(n)).attr("width",n.getXAxisClipWidth.bind(n)).attr("height",n.getXAxisClipHeight.bind(n)),n.svg.select("#"+n.clipIdForYAxis).select("rect").attr("x",n.getYAxisClipX.bind(n)).attr("y",n.getYAxisClipY.bind(n)).attr("width",n.getYAxisClipWidth.bind(n)).attr("height",n.getYAxisClipHeight.bind(n)),n.svg.select("#"+n.clipIdForSubchart).select("rect").attr("width",n.width).attr("height",a.size()&&a.attr("height")||0),n.selectChart.style("max-height",n.currentHeight+"px")},i.prototype.updateDimension=function(n){var a=this;n||(a.config.axis_rotated?(a.axes.x.call(a.xAxis),a.axes.subx.call(a.subXAxis)):(a.axes.y.call(a.yAxis),a.axes.y2.call(a.y2Axis))),a.updateSizes(),a.updateScales(),a.updateSvgSize(),a.transformAll(!1)},i.prototype.observeInserted=function(n){var a,u=this;typeof MutationObserver<"u"?(a=new MutationObserver(function(c){c.forEach(function(g){g.type==="childList"&&g.previousSibling&&(a.disconnect(),u.intervalForObserveInserted=window.setInterval(function(){n.node().parentNode&&(window.clearInterval(u.intervalForObserveInserted),u.updateDimension(),u.brush&&u.brush.update(),u.config.oninit.call(u),u.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),n.transition().style("opacity",1))},10))})})).observe(n.node(),{attributes:!0,childList:!0,characterData:!0}):window.console.error("MutationObserver not defined.")},i.prototype.bindResize=function(){var n=this,a=n.config;n.resizeFunction=n.generateResize(),n.resizeFunction.add(function(){a.onresize.call(n)}),a.resize_auto&&n.resizeFunction.add(function(){n.resizeTimeout!==void 0&&window.clearTimeout(n.resizeTimeout),n.resizeTimeout=window.setTimeout(function(){delete n.resizeTimeout,n.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),n.brush&&n.brush.update()},100)}),n.resizeFunction.add(function(){a.onresized.call(n)}),n.resizeIfElementDisplayed=function(){n.api!=null&&n.api.element.offsetParent&&n.resizeFunction()},window.addEventListener("resize",n.resizeIfElementDisplayed,!1)},i.prototype.bindWindowFocus=function(){var n=this;this.windowFocusHandler||(this.windowFocusHandler=function(){n.redraw()},window.addEventListener("focus",this.windowFocusHandler))},i.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler),delete this.windowFocusHandler},i.prototype.generateResize=function(){var n=[];function a(){n.forEach(function(u){u()})}return a.add=function(u){n.push(u)},a.remove=function(u){for(var c=0;c<n.length;c++)if(n[c]===u){n.splice(c,1);break}},a},i.prototype.endall=function(n,a){var u=0;n.each(function(){++u}).on("end",function(){--u||a.apply(this,arguments)})},i.prototype.generateWait=function(){function n(c){var g=setInterval(function(){var m;a.isTabVisible()&&(m=0,u.forEach(function(v){if(v.empty())m+=1;else try{v.transition()}catch{m+=1}}),m===u.length&&(clearInterval(g),c&&c()))},50)}var a=this,u=[];return n.add=function(c){u.push(c)},n},i.prototype.parseDate=function(n){var a;return n instanceof Date?a=n:typeof n=="string"?a=this.dataTimeParse(n):typeof n!="object"&&(typeof n!="number"||isNaN(n))||(a=new Date(+n)),a&&!isNaN(+a)||window.console.error("Failed to parse x '"+n+"' to Date object"),a},i.prototype.isTabVisible=function(){return!document.hidden},i.prototype.getPathBox=h,i.prototype.CLASS=b,"SVGPathSeg"in window||(window.SVGPathSeg=function(n,a,u){this.pathSegType=n,this.pathSegTypeAsLetter=a,this._owningPathSegList=u},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",n)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(n,a,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",n),this._x=a,this._y=u},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(n,a,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",n),this._x=a,this._y=u},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(n,a,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",n),this._x=a,this._y=u},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(n,a,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",n),this._x=a,this._y=u},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(n,a,u,c,g,m,v){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",n),this._x=a,this._y=u,this._x1=c,this._y1=g,this._x2=m,this._y2=v},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(n,a,u,c,g,m,v){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",n),this._x=a,this._y=u,this._x1=c,this._y1=g,this._x2=m,this._y2=v},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(n,a,u,c,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",n),this._x=a,this._y=u,this._x1=c,this._y1=g},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(n,a,u,c,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",n),this._x=a,this._y=u,this._x1=c,this._y1=g},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(n){this._x1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(n){this._y1=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(n,a,u,c,g,m,v,x){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",n),this._x=a,this._y=u,this._r1=c,this._r2=g,this._angle=m,this._largeArcFlag=v,this._sweepFlag=x},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(n){this._r1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(n){this._r2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(n){this._largeArcFlag=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(n){this._sweepFlag=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(n,a,u,c,g,m,v,x){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",n),this._x=a,this._y=u,this._r1=c,this._r2=g,this._angle=m,this._largeArcFlag=v,this._sweepFlag=x},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(n){this._r1=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(n){this._r2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(n){this._angle=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(n){this._largeArcFlag=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(n){this._sweepFlag=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(n,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",n),this._x=a},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(n,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",n),this._x=a},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(n,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",n),this._y=a},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(n,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",n),this._y=a},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(n,a,u,c,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",n),this._x=a,this._y=u,this._x2=c,this._y2=g},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(n,a,u,c,g){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",n),this._x=a,this._y=u,this._x2=c,this._y2=g},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(n){this._x2=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(n){this._y2=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(n,a,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",n),this._x=a,this._y=u},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(n,a,u){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",n),this._x=a,this._y=u},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(n){this._x=n,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(n){this._y=n,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(n,a){return new window.SVGPathSegMovetoAbs(void 0,n,a)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(n,a){return new window.SVGPathSegMovetoRel(void 0,n,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(n,a){return new window.SVGPathSegLinetoAbs(void 0,n,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(n,a){return new window.SVGPathSegLinetoRel(void 0,n,a)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(n,a,u,c,g,m){return new window.SVGPathSegCurvetoCubicAbs(void 0,n,a,u,c,g,m)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(n,a,u,c,g,m){return new window.SVGPathSegCurvetoCubicRel(void 0,n,a,u,c,g,m)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(n,a,u,c){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,n,a,u,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(n,a,u,c){return new window.SVGPathSegCurvetoQuadraticRel(void 0,n,a,u,c)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(n,a,u,c,g,m,v){return new window.SVGPathSegArcAbs(void 0,n,a,u,c,g,m,v)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(n,a,u,c,g,m,v){return new window.SVGPathSegArcRel(void 0,n,a,u,c,g,m,v)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(n){return new window.SVGPathSegLinetoHorizontalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(n){return new window.SVGPathSegLinetoHorizontalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(n){return new window.SVGPathSegLinetoVerticalAbs(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(n){return new window.SVGPathSegLinetoVerticalRel(void 0,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(n,a,u,c){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,n,a,u,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(n,a,u,c){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,n,a,u,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(n,a){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,n,a)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(n,a){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,n,a)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(n){if(n===void 0||!isFinite(n))throw"Invalid arguments.";var a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("d",this.getAttribute("d"));var u=a.pathSegList.numberOfItems-1;if(u<=0)return 0;do{if(a.pathSegList.removeItem(u),n>a.getTotalLength())break;u--}while(0<u);return u})),"SVGPathSegList"in window||(window.SVGPathSegList=function(n){this._pathElement=n,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(n){var a;this._pathElement&&(a=!1,n.forEach(function(u){u.attributeName=="d"&&(a=!0)}),a&&(this._list=this._parsePath(this._pathElement.getAttribute("d"))))},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(n){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(n){n._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(n){return this._checkPathSynchronizedToList(),this._list=[n],(n._owningPathSegList=this)._writeListToPath(),n},window.SVGPathSegList.prototype._checkValidIndex=function(n){if(isNaN(n)||n<0||n>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(n){return this._checkPathSynchronizedToList(),this._checkValidIndex(n),this._list[n]},window.SVGPathSegList.prototype.insertItemBefore=function(n,a){return this._checkPathSynchronizedToList(),a>this.numberOfItems&&(a=this.numberOfItems),n._owningPathSegList&&(n=n.clone()),this._list.splice(a,0,n),(n._owningPathSegList=this)._writeListToPath(),n},window.SVGPathSegList.prototype.replaceItem=function(n,a){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._checkValidIndex(a),((this._list[a]=n)._owningPathSegList=this)._writeListToPath(),n},window.SVGPathSegList.prototype.removeItem=function(n){this._checkPathSynchronizedToList(),this._checkValidIndex(n);var a=this._list[n];return this._list.splice(n,1),this._writeListToPath(),a},window.SVGPathSegList.prototype.appendItem=function(n){return this._checkPathSynchronizedToList(),n._owningPathSegList&&(n=n.clone()),this._list.push(n),(n._owningPathSegList=this)._writeListToPath(),n},window.SVGPathSegList._pathSegArrayAsString=function(n){var a="",u=!0;return n.forEach(function(c){u?(u=!1,a+=c._asPathString()):a+=" "+c._asPathString()}),a},window.SVGPathSegList.prototype._parsePath=function(n){if(!n||n.length==0)return[];function a(){this.pathSegList=[]}var u=this;a.prototype.appendSegment=function(x){this.pathSegList.push(x)};function c(x){this._string=x,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()}c.prototype._isCurrentSpace=function(){var x=this._string[this._currentIndex];return x<=" "&&(x==" "||x==`
`||x=="	"||x=="\r"||x=="\f")},c.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},c.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=",")&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},c.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},c.prototype.peekSegmentType=function(){var x=this._string[this._currentIndex];return this._pathSegTypeFromChar(x)},c.prototype._pathSegTypeFromChar=function(x){switch(x){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},c.prototype._nextCommandHelper=function(x,M){return(x=="+"||x=="-"||x=="."||"0"<=x&&x<="9")&&M!=window.SVGPathSeg.PATHSEG_CLOSEPATH?M==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:M==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:M:window.SVGPathSeg.PATHSEG_UNKNOWN},c.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var x=this.peekSegmentType();return x==window.SVGPathSeg.PATHSEG_MOVETO_ABS||x==window.SVGPathSeg.PATHSEG_MOVETO_REL},c.prototype._parseNumber=function(){var x=0,M=0,P=1,V=0,O=1,H=1,D=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,O=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))&&this._string.charAt(this._currentIndex)!=".")){for(var N=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=N)for(var B=this._currentIndex-1,q=1;N<=B;)M+=q*(this._string.charAt(B--)-"0"),q*=10;if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)P*=10,V+=(this._string.charAt(this._currentIndex)-"0")/P,this._currentIndex+=1}if(this._currentIndex!=D&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m"){if(this._currentIndex++,this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,H=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)x*=10,x+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var G=M+V;if(G*=O,x&&(G*=Math.pow(10,H*x)),D!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),G}},c.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var x=!1,M=this._string.charAt(this._currentIndex++);if(M=="0")x=!1;else{if(M!="1")return;x=!0}return this._skipOptionalSpacesOrDelimiter(),x}},c.prototype.parseSegment=function(){var x=this._string[this._currentIndex],M=this._pathSegTypeFromChar(x);if(M==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||(M=this._nextCommandHelper(x,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=M){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(u,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(u,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(u,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(u,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(u,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(u,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(u,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(u,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(u);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var P={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(u,P.x,P.y,P.x1,P.y1,P.x2,P.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return P={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(u,P.x,P.y,P.x1,P.y1,P.x2,P.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return P={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(u,P.x,P.y,P.x2,P.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return P={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(u,P.x,P.y,P.x2,P.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return P={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(u,P.x,P.y,P.x1,P.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return P={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(u,P.x,P.y,P.x1,P.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(u,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(u,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return P={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(u,P.x,P.y,P.x1,P.y1,P.arcAngle,P.arcLarge,P.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return P={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(u,P.x,P.y,P.x1,P.y1,P.arcAngle,P.arcLarge,P.arcSweep);default:throw"Unknown path seg type."}};var g=new a,m=new c(n);if(!m.initialCommandIsMoveTo())return[];for(;m.hasMoreData();){var v=m.parseSegment();if(!v)return[];g.appendSegment(v)}return g.pathSegList}),String.prototype.padEnd||(String.prototype.padEnd=function(n,a){return n>>=0,a=String(a!==void 0?a:" "),this.length>n?String(this):((n-=this.length)>a.length&&(a+=a.repeat(n/a.length)),String(this)+a.slice(0,n))}),typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(n,a){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var u=Object(n),c=1;c<arguments.length;c++){var g=arguments[c];if(g!=null)for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(u[m]=g[m])}return u},writable:!0,configurable:!0}),(r.prototype.axis=function(){}).labels=function(n){var a=this.internal;arguments.length&&(Object.keys(n).forEach(function(u){a.axis.setLabelText(u,n[u])}),a.axis.updateLabels())},r.prototype.axis.max=function(n){var a=this.internal,u=a.config;if(!arguments.length)return{x:u.axis_x_max,y:u.axis_y_max,y2:u.axis_y2_max};typeof n=="object"?(S(n.x)&&(u.axis_x_max=n.x),S(n.y)&&(u.axis_y_max=n.y),S(n.y2)&&(u.axis_y2_max=n.y2)):u.axis_y_max=u.axis_y2_max=n,a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},r.prototype.axis.min=function(n){var a=this.internal,u=a.config;if(!arguments.length)return{x:u.axis_x_min,y:u.axis_y_min,y2:u.axis_y2_min};typeof n=="object"?(S(n.x)&&(u.axis_x_min=n.x),S(n.y)&&(u.axis_y_min=n.y),S(n.y2)&&(u.axis_y2_min=n.y2)):u.axis_y_min=u.axis_y2_min=n,a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},r.prototype.axis.range=function(n){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};L(n.max)&&this.axis.max(n.max),L(n.min)&&this.axis.min(n.min)},r.prototype.axis.types=function(n){var a=this.internal;if(n===void 0)return{y:a.config.axis_y_type,y2:a.config.axis_y2_type};L(n.y)&&(a.config.axis_y_type=n.y),L(n.y2)&&(a.config.axis_y2_type=n.y2),a.updateScales(),a.redraw()},r.prototype.category=function(n,a){var u=this.internal,c=u.config;return 1<arguments.length&&(c.axis_x_categories[n]=a,u.redraw()),c.axis_x_categories[n]},r.prototype.categories=function(n){var a=this.internal,u=a.config;return arguments.length&&(u.axis_x_categories=n,a.redraw()),u.axis_x_categories},r.prototype.resize=function(n){var a=this.internal.config;a.size_width=n?n.width:null,a.size_height=n?n.height:null,this.flush()},r.prototype.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},r.prototype.destroy=function(){var n=this.internal;return window.clearInterval(n.intervalForObserveInserted),n.resizeTimeout!==void 0&&window.clearTimeout(n.resizeTimeout),window.removeEventListener("resize",n.resizeIfElementDisplayed),n.resizeFunction.remove(),n.unbindWindowFocus(),n.selectChart.classed("c3",!1).html(""),Object.keys(n).forEach(function(a){n[a]=null}),null},r.prototype.color=function(n){return this.internal.color(n)},(r.prototype.data=function(n){var a=this.internal.data.targets;return n===void 0?a:a.filter(function(u){return 0<=[].concat(n).indexOf(u.id)})}).shown=function(n){return this.internal.filterTargetsToShow(this.data(n))},r.prototype.data.values=function(n,a){a===void 0&&(a=!0);var u,c=null;return!n||(u=this.data(n))&&d(u)&&(c=u.reduce(function(g,m){var v=m.values.map(function(x){return x.value});return a?g=g.concat(v):g.push(v),g},[])),c},r.prototype.data.names=function(n){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",n)},r.prototype.data.colors=function(n){return this.internal.updateDataAttributes("colors",n)},r.prototype.data.axes=function(n){return this.internal.updateDataAttributes("axes",n)},r.prototype.data.stackNormalized=function(n){if(n===void 0)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!n,this.internal.redraw()},(r.prototype.donut=function(){}).padAngle=function(n){if(n===void 0)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=n,this.flush()},r.prototype.flow=function(n){var a,u,c,g,m,v,x,M=this.internal,P=[],V=M.getMaxDataCount(),O=0,H=0;if(n.json)u=M.convertJsonToData(n.json,n.keys);else if(n.rows)u=M.convertRowsToData(n.rows);else{if(!n.columns)return;u=M.convertColumnsToData(n.columns)}a=M.convertDataToTargets(u,!0),M.data.targets.forEach(function(D){for(var N,B=!1,q=0;q<a.length;q++)if(D.id===a[q].id){for(B=!0,D.values[D.values.length-1]&&(H=D.values[D.values.length-1].index+1),O=a[q].values.length,N=0;N<O;N++)a[q].values[N].index=H+N,M.isTimeSeries()||(a[q].values[N].x=H+N);D.values=D.values.concat(a[q].values),a.splice(q,1);break}B||P.push(D.id)}),M.data.targets.forEach(function(D){for(var N,B=0;B<P.length;B++)if(D.id===P[B])for(H=D.values[D.values.length-1].index+1,N=0;N<O;N++)D.values.push({id:D.id,index:H+N,x:M.isTimeSeries()?M.getOtherTargetX(H+N):H+N,value:null})}),M.data.targets.length&&a.forEach(function(D){for(var N=[],B=M.data.targets[0].values[0].index;B<H;B++)N.push({id:D.id,index:B,x:M.isTimeSeries()?M.getOtherTargetX(B):B,value:null});D.values.forEach(function(q){q.index+=H,M.isTimeSeries()||(q.x+=H)}),D.values=N.concat(D.values)}),M.data.targets=M.data.targets.concat(a),M.getMaxDataCount(),m=(g=M.data.targets[0]).values[0],L(n.to)?(O=0,x=M.isTimeSeries()?M.parseDate(n.to):n.to,g.values.forEach(function(D){D.x<x&&O++})):L(n.length)&&(O=n.length),V?V===1&&M.isTimeSeries()&&(v=(g.values[g.values.length-1].x-m.x)/2,c=[new Date(m.x-v),new Date(+m.x+v)],M.updateXDomain(null,!0,!0,!1,c)):(v=M.isTimeSeries()?1<g.values.length?g.values[g.values.length-1].x-m.x:m.x-M.getXDomain(M.data.targets)[0]:1,c=[m.x-v,m.x],M.updateXDomain(null,!0,!0,!1,c)),M.updateTargets(M.data.targets),M.redraw({flow:{index:m.index,length:O,duration:S(n.duration)?n.duration:M.config.transition_duration,done:n.done,orgDataCount:V},withLegend:!0,withTransition:1<V,withTrimXDomain:!1,withUpdateXAxis:!0})},i.prototype.generateFlow=function(n){var a=this,u=a.config,c=a.d3;return function(){var g,m,v,x,M,P,V,O,H,D,N=n.targets,B=n.flow,q=n.drawBar,G=n.drawLine,rt=n.drawArea,U=n.cx,j=n.cy,J=n.xv,ht=n.xForText,et=n.yForText,yt=n.duration,st=B.index,nt=B.length,ut=a.getValueOnIndex(a.data.targets[0].values,st),Vt=a.getValueOnIndex(a.data.targets[0].values,st+nt),Gt=a.x.domain(),Ae=B.duration||yt,pe=B.done||function(){},Tt=a.generateWait();a.flowing=!0,a.data.targets.forEach(function(ee){ee.values.splice(0,nt)}),m=a.updateXDomain(N,!0,!0),a.updateXGrid&&a.updateXGrid(!0),v=a.xgrid||c.selectAll([]),x=a.xgridLines||c.selectAll([]),M=a.mainRegion||c.selectAll([]),P=a.mainText||c.selectAll([]),V=a.mainBar||c.selectAll([]),O=a.mainLine||c.selectAll([]),H=a.mainArea||c.selectAll([]),D=a.mainCircle||c.selectAll([]),g="translate("+(B.orgDataCount?B.orgDataCount===1||(ut&&ut.x)===(Vt&&Vt.x)||a.isTimeSeries()?a.x(Gt[0])-a.x(m[0]):a.x(ut.x)-a.x(Vt.x):a.data.targets[0].values.length!==1?a.x(Gt[0])-a.x(m[0]):a.isTimeSeries()?(ut=a.getValueOnIndex(a.data.targets[0].values,0),Vt=a.getValueOnIndex(a.data.targets[0].values,a.data.targets[0].values.length-1),a.x(ut.x)-a.x(Vt.x)):l(m)/2)+",0) scale("+l(Gt)/l(m)+",1)",a.hideXGridFocus();var At=c.transition().ease(c.easeLinear).duration(Ae);Tt.add(a.xAxis(a.axes.x,At)),Tt.add(V.transition(At).attr("transform",g)),Tt.add(O.transition(At).attr("transform",g)),Tt.add(H.transition(At).attr("transform",g)),Tt.add(D.transition(At).attr("transform",g)),Tt.add(P.transition(At).attr("transform",g)),Tt.add(M.filter(a.isRegionOnX).transition(At).attr("transform",g)),Tt.add(v.transition(At).attr("transform",g)),Tt.add(x.transition(At).attr("transform",g)),Tt(function(){var ee,Z=[],dt=[];if(nt){for(ee=0;ee<nt;ee++)Z.push("."+b.shape+"-"+(st+ee)),dt.push("."+b.text+"-"+(st+ee));a.svg.selectAll("."+b.shapes).selectAll(Z).remove(),a.svg.selectAll("."+b.texts).selectAll(dt).remove(),a.svg.select("."+b.xgrid).remove()}v.attr("transform",null).attr("x1",a.xgridAttr.x1).attr("x2",a.xgridAttr.x2).attr("y1",a.xgridAttr.y1).attr("y2",a.xgridAttr.y2).style("opacity",a.xgridAttr.opacity),x.attr("transform",null),x.select("line").attr("x1",u.axis_rotated?0:J).attr("x2",u.axis_rotated?a.width:J),x.select("text").attr("x",u.axis_rotated?a.width:0).attr("y",J),V.attr("transform",null).attr("d",q),O.attr("transform",null).attr("d",G),H.attr("transform",null).attr("d",rt),D.attr("transform",null).attr("cx",U).attr("cy",j),P.attr("transform",null).attr("x",ht).attr("y",et).style("fill-opacity",a.opacityForText.bind(a)),M.attr("transform",null),M.filter(a.isRegionOnX).attr("x",a.regionX.bind(a)).attr("width",a.regionWidth.bind(a)),pe(),a.flowing=!1})}},r.prototype.focus=function(n){var a,u=this.internal;n=u.mapToTargetIds(n),a=u.svg.selectAll(u.selectorTargets(n.filter(u.isTargetToShow,u))),this.revert(),this.defocus(),a.classed(b.focused,!0).classed(b.defocused,!1),u.hasArcType()&&u.expandArc(n),u.toggleFocusLegend(n,!0),u.focusedTargetIds=n,u.defocusedTargetIds=u.defocusedTargetIds.filter(function(c){return n.indexOf(c)<0})},r.prototype.defocus=function(n){var a=this.internal;n=a.mapToTargetIds(n),a.svg.selectAll(a.selectorTargets(n.filter(a.isTargetToShow,a))).classed(b.focused,!1).classed(b.defocused,!0),a.hasArcType()&&a.unexpandArc(n),a.toggleFocusLegend(n,!1),a.focusedTargetIds=a.focusedTargetIds.filter(function(u){return n.indexOf(u)<0}),a.defocusedTargetIds=n},r.prototype.revert=function(n){var a=this.internal;n=a.mapToTargetIds(n),a.svg.selectAll(a.selectorTargets(n)).classed(b.focused,!1).classed(b.defocused,!1),a.hasArcType()&&a.unexpandArc(n),a.config.legend_show&&(a.showLegend(n.filter(a.isLegendToShow.bind(a))),a.legend.selectAll(a.selectorLegends(n)).filter(function(){return a.d3.select(this).classed(b.legendItemFocused)}).classed(b.legendItemFocused,!1)),a.focusedTargetIds=[],a.defocusedTargetIds=[]},(r.prototype.xgrids=function(n){var a=this.internal,u=a.config;return n&&(u.grid_x_lines=n,a.redrawWithoutRescale()),u.grid_x_lines}).add=function(n){var a=this.internal;return this.xgrids(a.config.grid_x_lines.concat(n||[]))},r.prototype.xgrids.remove=function(n){this.internal.removeGridLines(n,!0)},(r.prototype.ygrids=function(n){var a=this.internal,u=a.config;return n&&(u.grid_y_lines=n,a.redrawWithoutRescale()),u.grid_y_lines}).add=function(n){var a=this.internal;return this.ygrids(a.config.grid_y_lines.concat(n||[]))},r.prototype.ygrids.remove=function(n){this.internal.removeGridLines(n,!1)},r.prototype.groups=function(n){var a=this.internal,u=a.config;return w(n)||(u.data_groups=n,a.redraw()),u.data_groups},(r.prototype.legend=function(){}).show=function(n){var a=this.internal;a.showLegend(a.mapToTargetIds(n)),a.updateAndRedraw({withLegend:!0})},r.prototype.legend.hide=function(n){var a=this.internal;a.hideLegend(a.mapToTargetIds(n)),a.updateAndRedraw({withLegend:!1})},r.prototype.load=function(n){var a=this.internal,u=a.config;n.xs&&a.addXs(n.xs),"names"in n&&r.prototype.data.names.bind(this)(n.names),"classes"in n&&Object.keys(n.classes).forEach(function(c){u.data_classes[c]=n.classes[c]}),"categories"in n&&a.isCategorized()&&(u.axis_x_categories=n.categories),"axes"in n&&Object.keys(n.axes).forEach(function(c){u.data_axes[c]=n.axes[c]}),"colors"in n&&Object.keys(n.colors).forEach(function(c){u.data_colors[c]=n.colors[c]}),"cacheIds"in n&&a.hasCaches(n.cacheIds)?a.load(a.getCaches(n.cacheIds),n.done):n.unload?a.unload(a.mapToTargetIds(n.unload===!0?null:n.unload),function(){a.loadFromArgs(n)}):a.loadFromArgs(n)},r.prototype.unload=function(n){var a=this.internal;(n=n||{})instanceof Array?n={ids:n}:typeof n=="string"&&(n={ids:[n]}),a.unload(a.mapToTargetIds(n.ids),function(){a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),n.done&&n.done()})},(r.prototype.pie=function(){}).padAngle=function(n){if(n===void 0)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=n,this.flush()},(r.prototype.regions=function(n){var a=this.internal,u=a.config;return n&&(u.regions=n,a.redrawWithoutRescale()),u.regions}).add=function(n){var a=this.internal,u=a.config;return n&&(u.regions=u.regions.concat(n),a.redrawWithoutRescale()),u.regions},r.prototype.regions.remove=function(n){var a=this.internal,u=a.config,c=f(n=n||{},"duration",u.transition_duration),g=f(n,"classes",[b.region]),m=a.main.select("."+b.regions).selectAll(g.map(function(v){return"."+v}));return(c?m.transition().duration(c):m).style("opacity",0).remove(),u.regions=u.regions.filter(function(v){var x=!1;return!v.class||(v.class.split(" ").forEach(function(M){0<=g.indexOf(M)&&(x=!0)}),!x)}),u.regions},r.prototype.selected=function(n){var a=this.internal,u=a.d3;return a.main.selectAll("."+b.shapes+a.getTargetSelectorSuffix(n)).selectAll("."+b.shape).filter(function(){return u.select(this).classed(b.SELECTED)}).nodes().map(function(c){var g=c.__data__;return g.data?g.data:g})},r.prototype.select=function(n,a,u){var c=this.internal,g=c.d3,m=c.config;m.data_selection_enabled&&c.main.selectAll("."+b.shapes).selectAll("."+b.shape).each(function(v,x){var M=g.select(this),P=v.data?v.data.id:v.id,V=c.getToggle(this,v).bind(c),O=m.data_selection_grouped||!n||0<=n.indexOf(P),H=!a||0<=a.indexOf(x),D=M.classed(b.SELECTED);M.classed(b.line)||M.classed(b.area)||(O&&H?m.data_selection_isselectable(v)&&!D&&V(!0,M.classed(b.SELECTED,!0),v,x):L(u)&&u&&D&&V(!1,M.classed(b.SELECTED,!1),v,x))})},r.prototype.unselect=function(n,a){var u=this.internal,c=u.d3,g=u.config;g.data_selection_enabled&&u.main.selectAll("."+b.shapes).selectAll("."+b.shape).each(function(m,v){var x=c.select(this),M=m.data?m.data.id:m.id,P=u.getToggle(this,m).bind(u),V=g.data_selection_grouped||!n||0<=n.indexOf(M),O=!a||0<=a.indexOf(v),H=x.classed(b.SELECTED);x.classed(b.line)||x.classed(b.area)||V&&O&&g.data_selection_isselectable(m)&&H&&P(!1,x.classed(b.SELECTED,!1),m,v)})},r.prototype.show=function(n,a){var u,c=this.internal;n=c.mapToTargetIds(n),a=a||{},c.removeHiddenTargetIds(n),(u=c.svg.selectAll(c.selectorTargets(n))).transition().style("display",C()?"block":"initial","important").style("opacity",1,"important").call(c.endall,function(){u.style("opacity",null).style("opacity",1)}),a.withLegend&&c.showLegend(n),c.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},r.prototype.hide=function(n,a){var u,c=this.internal;n=c.mapToTargetIds(n),a=a||{},c.addHiddenTargetIds(n),(u=c.svg.selectAll(c.selectorTargets(n))).transition().style("opacity",0,"important").call(c.endall,function(){u.style("opacity",null).style("opacity",0),u.style("display","none")}),a.withLegend&&c.hideLegend(n),c.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},r.prototype.toggle=function(n,a){var u=this,c=this.internal;c.mapToTargetIds(n).forEach(function(g){c.isTargetToShow(g)?u.hide(g,a):u.show(g,a)})},(r.prototype.subchart=function(){}).isShown=function(){return this.internal.config.subchart_show},r.prototype.subchart.show=function(){var n=this.internal;n.config.subchart_show||(n.config.subchart_show=!0,n.initSubchart(),n.updateDimension(),n.initSubchartBrush(),n.updateTargetsForSubchart(n.getTargets()),n.mapToIds(n.data.targets).forEach(function(a){n.withoutFadeIn[a]=!1}),n.updateAndRedraw(),n.showTargets())},r.prototype.subchart.hide=function(){var n=this.internal;n.config.subchart_show&&(n.config.subchart_show=!1,n.removeSubchart(),n.redraw())},(r.prototype.tooltip=function(){}).show=function(n){var a,u,c=this.internal,g={},g=n.mouse?n.mouse:(n.data?u=n.data:n.x!==void 0&&(a=n.id?c.data.targets.filter(function(m){return m.id===n.id}):c.data.targets,u=c.filterByX(a,n.x).slice(0,1)[0]),u?c.getMousePosition(u):null);c.dispatchEvent("mousemove",g),c.config.tooltip_onshow.call(c,u)},r.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},r.prototype.transform=function(n,a){var u=this.internal,c=0<=["pie","donut"].indexOf(n)?{withTransform:!0}:null;u.transformTo(a,n,c)},i.prototype.transformTo=function(n,a,u){var c=this,g=!c.hasArcType(),m=u||{withTransitionForAxis:g};m.withTransitionForTransform=!1,c.transiting=!1,c.setTargetType(n,a),c.updateTargets(c.data.targets),c.updateAndRedraw(m)},r.prototype.x=function(n){var a=this.internal;return arguments.length&&(a.updateTargetX(a.data.targets,n),a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),a.data.xs},r.prototype.xs=function(n){var a=this.internal;return arguments.length&&(a.updateTargetXs(a.data.targets,n),a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),a.data.xs},(r.prototype.zoom=function(n){var a=this.internal;return n?(a.isTimeSeries()&&(n=n.map(function(u){return a.parseDate(u)})),a.config.subchart_show?a.brush.selectionAsValue(n,!0):(a.updateXDomain(null,!0,!1,!1,n),a.redraw({withY:a.config.zoom_rescale,withSubchart:!1})),a.config.zoom_onzoom.call(this,a.x.orgDomain()),n):a.x.domain()}).enable=function(n){var a=this.internal;a.config.zoom_enabled=n,a.updateAndRedraw()},r.prototype.unzoom=function(){var n=this.internal;n.config.subchart_show?n.brush.clear():(n.updateXDomain(null,!0,!1,!1,n.subX.domain()),n.redraw({withY:n.config.zoom_rescale,withSubchart:!1}))},r.prototype.zoom.max=function(n){var a=this.internal,u=a.config,c=a.d3;if(n!==0&&!n)return u.zoom_x_max;u.zoom_x_max=c.max([a.orgXDomain[1],n])},r.prototype.zoom.min=function(n){var a=this.internal,u=a.config,c=a.d3;if(n!==0&&!n)return u.zoom_x_min;u.zoom_x_min=c.min([a.orgXDomain[0],n])},r.prototype.zoom.range=function(n){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};L(n.max)&&this.domain.max(n.max),L(n.min)&&this.domain.min(n.min)},i.prototype.initPie=function(){var n=this,a=n.d3;n.pie=a.pie().padAngle(this.getPadAngle.bind(this)).value(function(g){return g.values.reduce(function(m,v){return m+v.value},0)});var u,c=n.getOrderFunction();c&&(n.isOrderAsc()||n.isOrderDesc())&&(u=c,c=function(g,m){return-1*u(g,m)}),n.pie.sort(c||null)},i.prototype.updateRadius=function(){var n=this,a=n.config,u=a.gauge_width||a.donut_width,c=n.filterTargetsToShow(n.data.targets).length*n.config.gauge_arcs_minWidth;n.radiusExpanded=Math.min(n.arcWidth,n.arcHeight)/2*(n.hasType("gauge")?.85:1),n.radius=.95*n.radiusExpanded,n.innerRadiusRatio=u?(n.radius-u)/n.radius:.6,n.innerRadius=n.hasType("donut")||n.hasType("gauge")?n.radius*n.innerRadiusRatio:0,n.gaugeArcWidth=u||(c<=n.radius-n.innerRadius?n.radius-n.innerRadius:c<=n.radius?c:n.radius)},i.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")&&this.config.donut_padAngle||0},i.prototype.updateArc=function(){var n=this;n.svgArc=n.getSvgArc(),n.svgArcExpanded=n.getSvgArcExpanded(),n.svgArcExpandedSub=n.getSvgArcExpanded(.98)},i.prototype.updateAngle=function(n){var a,u,c,g,m=this,v=m.config,x=!1,M=0;return v?(m.pie(m.filterTargetsToShow(m.data.targets)).forEach(function(P){x||P.data.id!==n.data.id||(x=!0,(n=P).index=M),M++}),isNaN(n.startAngle)&&(n.startAngle=0),isNaN(n.endAngle)&&(n.endAngle=n.startAngle),m.isGaugeType(n.data)&&(a=v.gauge_min,u=v.gauge_max,c=Math.PI*(v.gauge_fullCircle?2:1)/(u-a),g=n.value<a?0:n.value<u?n.value-a:u-a,n.startAngle=v.gauge_startingAngle,n.endAngle=n.startAngle+c*g),x?n:null):null},i.prototype.getSvgArc=function(){function n(m,v){var x;return v?g(m):(x=a.updateAngle(m))?g(x):"M 0 0"}var a=this,u=a.hasType("gauge"),c=a.gaugeArcWidth/a.filterTargetsToShow(a.data.targets).length,g=a.d3.arc().outerRadius(function(m){return u?a.radius-c*m.index:a.radius}).innerRadius(function(m){return u?a.radius-c*(m.index+1):a.innerRadius});return n.centroid=g.centroid,n},i.prototype.getSvgArcExpanded=function(n){n=n||1;var a=this,u=a.hasType("gauge"),c=a.gaugeArcWidth/a.filterTargetsToShow(a.data.targets).length,g=Math.min(a.radiusExpanded*n-a.radius,.8*c-100*(1-n)),m=a.d3.arc().outerRadius(function(v){return u?a.radius-c*v.index+g:a.radiusExpanded*n}).innerRadius(function(v){return u?a.radius-c*(v.index+1):a.innerRadius});return function(v){var x=a.updateAngle(v);return x?m(x):"M 0 0"}},i.prototype.getArc=function(n,a,u){return u||this.isArcType(n.data)?this.svgArc(n,a):"M 0 0"},i.prototype.transformForArcLabel=function(n){var a,u,c,g,m,v,x=this,M=x.config,P=x.updateAngle(n),V="",O=x.hasType("gauge");return P&&!O?(a=this.svgArc.centroid(P),m=isNaN(a[0])?0:a[0],v=isNaN(a[1])?0:a[1],u=Math.sqrt(m*m+v*v),V="translate("+m*(c=x.hasType("donut")&&M.donut_label_ratio?_(M.donut_label_ratio)?M.donut_label_ratio(n,x.radius,u):M.donut_label_ratio:x.hasType("pie")&&M.pie_label_ratio?_(M.pie_label_ratio)?M.pie_label_ratio(n,x.radius,u):M.pie_label_ratio:x.radius&&u?(.375<36/x.radius?1.175-36/x.radius:.8)*x.radius/u:0)+","+v*c+")"):P&&O&&1<x.filterTargetsToShow(x.data.targets).length&&(g=Math.sin(P.endAngle-Math.PI/2),V="translate("+(m=Math.cos(P.endAngle-Math.PI/2)*(x.radiusExpanded+25))+","+(v=g*(x.radiusExpanded+15-Math.abs(10*g))+3)+")"),V},i.prototype.getArcRatio=function(n){return this.getRatio("arc",n)},i.prototype.convertToArcData=function(n){return this.addName({id:n.data.id,value:n.value,ratio:this.getRatio("arc",n),index:n.index})},i.prototype.textForArcLabel=function(n){var a,u,c,g,m,v=this;return v.shouldShowArcLabel()?(u=(a=v.updateAngle(n))?a.value:null,c=v.getRatio("arc",a),g=n.data.id,v.hasType("gauge")||v.meetsArcLabelThreshold(c)?(m=v.getArcLabelFormat())?m(u,c,g):v.defaultArcValueFormat(u,c):""):""},i.prototype.textForGaugeMinMax=function(n,a){var u=this.getGaugeLabelExtents();return u?u(n,a):n},i.prototype.expandArc=function(n){var a,u=this;u.transiting?a=window.setInterval(function(){u.transiting||(window.clearInterval(a),0<u.legend.selectAll(".c3-legend-item-focused").size()&&u.expandArc(n))},10):(n=u.mapToTargetIds(n),u.svg.selectAll(u.selectorTargets(n,"."+b.chartArc)).each(function(c){u.shouldExpand(c.data.id)&&u.d3.select(this).selectAll("path").transition().duration(u.expandDuration(c.data.id)).attr("d",u.svgArcExpanded).transition().duration(2*u.expandDuration(c.data.id)).attr("d",u.svgArcExpandedSub).each(function(g){u.isDonutType(g.data)})}))},i.prototype.unexpandArc=function(n){var a=this;a.transiting||(n=a.mapToTargetIds(n),a.svg.selectAll(a.selectorTargets(n,"."+b.chartArc)).selectAll("path").transition().duration(function(u){return a.expandDuration(u.data.id)}).attr("d",a.svgArc),a.svg.selectAll("."+b.arc))},i.prototype.expandDuration=function(n){var a=this.config;return this.isDonutType(n)?a.donut_expand_duration:this.isGaugeType(n)?a.gauge_expand_duration:this.isPieType(n)?a.pie_expand_duration:50},i.prototype.shouldExpand=function(n){var a=this.config;return this.isDonutType(n)&&a.donut_expand||this.isGaugeType(n)&&a.gauge_expand||this.isPieType(n)&&a.pie_expand},i.prototype.shouldShowArcLabel=function(){var n=this.config,a=!0;return this.hasType("donut")?a=n.donut_label_show:this.hasType("pie")&&(a=n.pie_label_show),a},i.prototype.meetsArcLabelThreshold=function(n){var a=this.config;return(this.hasType("donut")?a.donut_label_threshold:a.pie_label_threshold)<=n},i.prototype.getArcLabelFormat=function(){var n=this.config,a=n.pie_label_format;return this.hasType("gauge")?a=n.gauge_label_format:this.hasType("donut")&&(a=n.donut_label_format),a},i.prototype.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},i.prototype.getArcTitle=function(){return this.hasType("donut")?this.config.donut_title:""},i.prototype.updateTargetsForArc=function(n){var a=this,u=a.main,c=a.classChartArc.bind(a),g=a.classArcs.bind(a),m=a.classFocus.bind(a),v=u.select("."+b.chartArcs).selectAll("."+b.chartArc).data(a.pie(n)).attr("class",function(x){return c(x)+m(x.data)}).enter().append("g").attr("class",c);v.append("g").attr("class",g),v.append("text").attr("dy",a.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},i.prototype.initArc=function(){var n=this;n.arcs=n.main.select("."+b.chart).append("g").attr("class",b.chartArcs).attr("transform",n.getTranslate("arc")),n.arcs.append("text").attr("class",b.chartArcsTitle).style("text-anchor","middle").text(n.getArcTitle())},i.prototype.redrawArc=function(n,a,u){var c,g,m,v,x=this,M=x.d3,P=x.config,V=x.main,O=x.hasType("gauge"),H=V.selectAll("."+b.arcs).selectAll("."+b.arc).data(x.arcData.bind(x)),D=H.enter().append("path").attr("class",x.classArc.bind(x)).style("fill",function(N){return x.color(N.data)}).style("cursor",function(N){return P.interaction_enabled&&P.data_selection_isselectable(N)?"pointer":null}).each(function(N){x.isGaugeType(N.data)&&(N.startAngle=N.endAngle=P.gauge_startingAngle),this._current=N}).merge(H);O&&(g=(c=V.selectAll("."+b.arcs).selectAll("."+b.arcLabelLine).data(x.arcData.bind(x))).enter().append("rect").attr("class",function(N){return b.arcLabelLine+" "+b.target+" "+b.target+"-"+N.data.id}).merge(c),x.filterTargetsToShow(x.data.targets).length===1?g.style("display","none"):g.style("fill",function(N){return x.levelColor?x.levelColor(N.data.values.reduce(function(B,q){return B+q.value},0)):x.color(N.data)}).style("display",P.gauge_labelLine_show?"":"none").each(function(N){var B,q,G,rt,U,j=0,J=0,ht=0,et="";x.hiddenTargetIds.indexOf(N.data.id)<0&&(B=x.updateAngle(N),q=x.gaugeArcWidth/x.filterTargetsToShow(x.data.targets).length*(B.index+1),U=(G=B.endAngle-Math.PI/2)-((rt=x.radius-q)==0?0:1/rt),j=x.radiusExpanded-x.radius+q,J=Math.cos(U)*rt,ht=Math.sin(U)*rt,et="rotate("+180*G/Math.PI+", "+J+", "+ht+")"),M.select(this).attr("x",J).attr("y",ht).attr("width",j).attr("height",2).attr("transform",et).style("stroke-dasharray","0, "+(j+2)+", 0")})),D.attr("transform",function(N){return!x.isGaugeType(N.data)&&u?"scale(0)":""}).on("mouseover",P.interaction_enabled?function(N){var B,q;x.transiting||(B=x.updateAngle(N))&&(q=x.convertToArcData(B),x.expandArc(B.data.id),x.api.focus(B.data.id),x.toggleFocusLegend(B.data.id,!0),x.config.data_onmouseover(q,this))}:null).on("mousemove",P.interaction_enabled?function(N){var B,q=x.updateAngle(N);q&&(B=[x.convertToArcData(q)],x.showTooltip(B,this))}:null).on("mouseout",P.interaction_enabled?function(N){var B,q;x.transiting||(B=x.updateAngle(N))&&(q=x.convertToArcData(B),x.unexpandArc(B.data.id),x.api.revert(),x.revertLegend(),x.hideTooltip(),x.config.data_onmouseout(q,this))}:null).on("click",P.interaction_enabled?function(N,B){var q,G=x.updateAngle(N);G&&(q=x.convertToArcData(G),x.toggleShape&&x.toggleShape(this,q,B),x.config.data_onclick.call(x.api,q,this))}:null).each(function(){x.transiting=!0}).transition().duration(n).attrTween("d",function(N){var B,q=x.updateAngle(N);return q?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),B=M.interpolate(this._current,q),this._current=B(0),function(G){if(x.config===null)return"M 0 0";var rt=B(G);return rt.data=N.data,x.getArc(rt,!0)}):function(){return"M 0 0"}}).attr("transform",u?"scale(1)":"").style("fill",function(N){return x.levelColor?x.levelColor(N.data.values.reduce(function(B,q){return B+q.value},0)):x.color(N.data.id)}).call(x.endall,function(){x.transiting=!1}),H.exit().transition().duration(a).style("opacity",0).remove(),V.selectAll("."+b.chartArc).select("text").style("opacity",0).attr("class",function(N){return x.isGaugeType(N.data)?b.gaugeValue:""}).text(x.textForArcLabel.bind(x)).attr("transform",x.transformForArcLabel.bind(x)).style("font-size",function(N){return x.isGaugeType(N.data)&&x.filterTargetsToShow(x.data.targets).length===1?Math.round(x.radius/5)+"px":""}).transition().duration(n).style("opacity",function(N){return x.isTargetToShow(N.data.id)&&x.isArcType(N.data)?1:0}),V.select("."+b.chartArcsTitle).style("opacity",x.hasType("donut")||O?1:0),O&&(m=0,(v=x.arcs.select("g."+b.chartArcsBackground).selectAll("path."+b.chartArcsBackground).data(x.data.targets)).enter().append("path").attr("class",function(N,B){return b.chartArcsBackground+" "+b.chartArcsBackground+"-"+B}).merge(v).attr("d",function(N){if(0<=x.hiddenTargetIds.indexOf(N.id))return"M 0 0";var B={data:[{value:P.gauge_max}],startAngle:P.gauge_startingAngle,endAngle:-1*P.gauge_startingAngle*(P.gauge_fullCircle?Math.PI:1),index:m++};return x.getArc(B,!0,!0)}),v.exit().remove(),x.arcs.select("."+b.chartArcsGaugeUnit).attr("dy",".75em").text(P.gauge_label_show?P.gauge_units:""),x.arcs.select("."+b.chartArcsGaugeMin).attr("dx",-1*(x.innerRadius+(x.radius-x.innerRadius)/(P.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(P.gauge_label_show?x.textForGaugeMinMax(P.gauge_min,!1):""),x.arcs.select("."+b.chartArcsGaugeMax).attr("dx",x.innerRadius+(x.radius-x.innerRadius)/(P.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(P.gauge_label_show?x.textForGaugeMinMax(P.gauge_max,!0):""))},i.prototype.initGauge=function(){var n=this.arcs;this.hasType("gauge")&&(n.append("g").attr("class",b.chartArcsBackground),n.append("text").attr("class",b.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),n.append("text").attr("class",b.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),n.append("text").attr("class",b.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},i.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},i.prototype.addToCache=function(n,a){this.cache["$"+n]=a},i.prototype.getFromCache=function(n){return this.cache["$"+n]},i.prototype.resetCache=function(){var n=this;Object.keys(this.cache).filter(function(a){return/^\$/.test(a)}).forEach(function(a){delete n.cache[a]})},i.prototype.hasCaches=function(n){for(var a=0;a<n.length;a++)if(!(n[a]in this.cache))return!1;return!0},i.prototype.addCache=function(n,a){this.cache[n]=this.cloneTarget(a)},i.prototype.getCaches=function(n){for(var a=[],u=0;u<n.length;u++)n[u]in this.cache&&a.push(this.cloneTarget(this.cache[n[u]]));return a},i.prototype.categoryName=function(n){var a=this.config;return n<a.axis_x_categories.length?a.axis_x_categories[n]:n},i.prototype.generateTargetClass=function(n){return n||n===0?("-"+n).replace(/\s/g,"-"):""},i.prototype.generateClass=function(n,a){return" "+n+" "+n+this.generateTargetClass(a)},i.prototype.classText=function(n){return this.generateClass(b.text,n.index)},i.prototype.classTexts=function(n){return this.generateClass(b.texts,n.id)},i.prototype.classShape=function(n){return this.generateClass(b.shape,n.index)},i.prototype.classShapes=function(n){return this.generateClass(b.shapes,n.id)},i.prototype.classLine=function(n){return this.classShape(n)+this.generateClass(b.line,n.id)},i.prototype.classLines=function(n){return this.classShapes(n)+this.generateClass(b.lines,n.id)},i.prototype.classCircle=function(n){return this.classShape(n)+this.generateClass(b.circle,n.index)},i.prototype.classCircles=function(n){return this.classShapes(n)+this.generateClass(b.circles,n.id)},i.prototype.classBar=function(n){return this.classShape(n)+this.generateClass(b.bar,n.index)},i.prototype.classBars=function(n){return this.classShapes(n)+this.generateClass(b.bars,n.id)},i.prototype.classArc=function(n){return this.classShape(n.data)+this.generateClass(b.arc,n.data.id)},i.prototype.classArcs=function(n){return this.classShapes(n.data)+this.generateClass(b.arcs,n.data.id)},i.prototype.classArea=function(n){return this.classShape(n)+this.generateClass(b.area,n.id)},i.prototype.classAreas=function(n){return this.classShapes(n)+this.generateClass(b.areas,n.id)},i.prototype.classRegion=function(n,a){return this.generateClass(b.region,a)+" "+("class"in n?n.class:"")},i.prototype.classEvent=function(n){return this.generateClass(b.eventRect,n.index)},i.prototype.classTarget=function(n){var a=this.config.data_classes[n],u=a?" "+b.target+"-"+a:"";return this.generateClass(b.target,n)+u},i.prototype.classFocus=function(n){return this.classFocused(n)+this.classDefocused(n)},i.prototype.classFocused=function(n){return" "+(0<=this.focusedTargetIds.indexOf(n.id)?b.focused:"")},i.prototype.classDefocused=function(n){return" "+(0<=this.defocusedTargetIds.indexOf(n.id)?b.defocused:"")},i.prototype.classChartText=function(n){return b.chartText+this.classTarget(n.id)},i.prototype.classChartLine=function(n){return b.chartLine+this.classTarget(n.id)},i.prototype.classChartBar=function(n){return b.chartBar+this.classTarget(n.id)},i.prototype.classChartArc=function(n){return b.chartArc+this.classTarget(n.data.id)},i.prototype.getTargetSelectorSuffix=function(n){var a=this.generateTargetClass(n);return window.CSS&&window.CSS.escape?window.CSS.escape(a):a.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},i.prototype.selectorTarget=function(n,a){return(a||"")+"."+b.target+this.getTargetSelectorSuffix(n)},i.prototype.selectorTargets=function(n,a){var u=this;return(n=n||[]).length?n.map(function(c){return u.selectorTarget(c,a)}):null},i.prototype.selectorLegend=function(n){return"."+b.legendItem+this.getTargetSelectorSuffix(n)},i.prototype.selectorLegends=function(n){var a=this;return n&&n.length?n.map(function(u){return a.selectorLegend(u)}):null},i.prototype.getClipPath=function(n){return"url("+(C(9)?"":document.URL.split("#")[0])+"#"+n+")"},i.prototype.appendClip=function(n,a){return n.append("clipPath").attr("id",a).append("rect")},i.prototype.getAxisClipX=function(n){var a=Math.max(30,this.margin.left);return n?-(1+a):-(a-1)},i.prototype.getAxisClipY=function(n){return n?-20:-this.margin.top},i.prototype.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)},i.prototype.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)},i.prototype.getYAxisClipX=function(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)},i.prototype.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)},i.prototype.getAxisClipWidth=function(n){var a=Math.max(30,this.margin.left),u=Math.max(30,this.margin.right);return n?this.width+2+a+u:this.margin.left+20},i.prototype.getAxisClipHeight=function(n){return(n?this.margin.bottom:this.margin.top+this.height)+20},i.prototype.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)},i.prototype.getXAxisClipHeight=function(){return this.getAxisClipHeight(!this.config.axis_rotated)},i.prototype.getYAxisClipWidth=function(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)},i.prototype.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)},i.prototype.generateColor=function(){var n=this.config,a=this.d3,u=n.data_colors,c=T(n.color_pattern)?n.color_pattern:a.schemeCategory10,g=n.data_color,m=[];return function(v){var x,M=v.id||v.data&&v.data.id||v;return u[M]instanceof Function?x=u[M](v):u[M]?x=u[M]:(m.indexOf(M)<0&&m.push(M),x=c[m.indexOf(M)%c.length],u[M]=x),g instanceof Function?g(x,v):x}},i.prototype.generateLevelColor=function(){var n=this.config,a=n.color_pattern,u=n.color_threshold,c=u.unit==="value",g=u.values&&u.values.length?u.values:[],m=u.max||100;return T(u)&&T(a)?function(v){for(var x=a[a.length-1],M=0;M<g.length;M++)if((c?v:100*v/m)<g[M]){x=a[M];break}return x}:null},i.prototype.getDefaultConfig=function(){var n={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(a){return a},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(a,u,c,g){return this.getTooltipContent?this.getTooltipContent(a,u,c,g):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(a){n[a]=this.additionalConfig[a]},this),n},i.prototype.additionalConfig={},i.prototype.loadConfig=function(n){var a,u,c,g=this.config;Object.keys(g).forEach(function(m){a=n,u=m.split("_"),c=function v(){var x=u.shift();return x&&a&&typeof a=="object"&&x in a?(a=a[x],v()):x?void 0:a}(),L(c)&&(g[m]=c)})},i.prototype.convertUrlToData=function(n,a,u,c,g){var m,v=this,x=a||"csv",M=x==="json"?(m=v.d3.json,v.convertJsonToData):(m=x==="tsv"?v.d3.tsv:v.d3.csv,v.convertXsvToData);m(n,u).then(function(P){g.call(v,M.call(v,P,c))}).catch(function(P){throw P})},i.prototype.convertXsvToData=function(n){var a=n.columns;return n.length===0?{keys:a,rows:[a.reduce(function(u,c){var g;return Object.assign(u,((g={})[c]=null,g))},{})]}:{keys:a,rows:[].concat(n)}},i.prototype.convertJsonToData=function(n,a){var u,c=this,g=[],m=a?(a.x?(u=a.value.concat(a.x),c.config.data_x=a.x):u=a.value,g.push(u),n.forEach(function(v){var x=[];u.forEach(function(M){var P=c.findValueInJson(v,M);w(P)&&(P=null),x.push(P)}),g.push(x)}),c.convertRowsToData(g)):(Object.keys(n).forEach(function(v){g.push([v].concat(n[v]))}),c.convertColumnsToData(g));return m},i.prototype.findValueInJson=function(n,a){if(a in n)return n[a];for(var u=(a=(a=a.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),c=0;c<u.length;++c){var g=u[c];if(!(g in n))return;n=n[g]}return n},i.prototype.convertRowsToData=function(n){for(var a=[],u=n[0],c=1;c<n.length;c++){for(var g={},m=0;m<n[c].length;m++){if(w(n[c][m]))throw new Error("Source data is missing a component at ("+c+","+m+")!");g[u[m]]=n[c][m]}a.push(g)}return{keys:u,rows:a}},i.prototype.convertColumnsToData=function(n){for(var a=[],u=[],c=0;c<n.length;c++){for(var g=n[c][0],m=1;m<n[c].length;m++){if(w(a[m-1])&&(a[m-1]={}),w(n[c][m]))throw new Error("Source data is missing a component at ("+c+","+m+")!");a[m-1][g]=n[c][m]}u.push(g)}return{keys:u,rows:a}},i.prototype.convertDataToTargets=function(n,a){var u,c,g,m,v,x=this,M=x.config;if(d(n)?m=Object.keys(n[0]):(m=n.keys,n=n.rows),g=m.filter(x.isX,x),x.isStanfordGraphType()){if(v=m.filter(x.isEpochs,x),c=m.filter(x.isNotXAndNotEpochs,x),g.length!==1||v.length!==1||c.length!==1)throw new Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams")}else c=m.filter(x.isNotX,x);return c.forEach(function(P){var V=x.getXKey(P);x.isCustomX()||x.isTimeSeries()?0<=g.indexOf(V)?x.data.xs[P]=(a&&x.data.xs[P]?x.data.xs[P]:[]).concat(n.map(function(O){return O[V]}).filter(S).map(function(O,H){return x.generateTargetX(O,P,H)})):M.data_x?x.data.xs[P]=x.getOtherTargetXs():T(M.data_xs)&&(x.data.xs[P]=x.getXValuesOfXKey(V,x.data.targets)):x.data.xs[P]=n.map(function(O,H){return H})}),c.forEach(function(P){if(!x.data.xs[P])throw new Error('x is not defined for id = "'+P+'".')}),(u=c.map(function(P,V){var O=M.data_idConverter(P);return{id:O,id_org:P,values:n.map(function(H,D){var N,B,q=H[x.getXKey(P)],G=H[P]===null||isNaN(H[P])?null:+H[P];return x.isCustomX()&&x.isCategorized()&&!w(q)?(V===0&&D===0&&(M.axis_x_categories=[]),(N=M.axis_x_categories.indexOf(q))===-1&&(N=M.axis_x_categories.length,M.axis_x_categories.push(q))):N=x.generateTargetX(q,P,D),(w(H[P])||x.data.xs[P].length<=D)&&(N=void 0),B={x:N,value:G,id:O},x.isStanfordGraphType()&&(B.epochs=H[v]),B}).filter(function(H){return L(H.x)})}})).forEach(function(P){var V;M.data_xSort&&(P.values=P.values.sort(function(O,H){return(O.x||O.x===0?O.x:1/0)-(H.x||H.x===0?H.x:1/0)})),V=0,P.values.forEach(function(O){O.index=V++}),x.data.xs[P.id].sort(function(O,H){return O-H})}),x.hasNegativeValue=x.hasNegativeValueInTargets(u),x.hasPositiveValue=x.hasPositiveValueInTargets(u),M.data_type&&x.setTargetType(x.mapToIds(u).filter(function(P){return!(P in M.data_types)}),M.data_type),u.forEach(function(P){x.addCache(P.id_org,P)}),u},i.prototype.isEpochs=function(n){var a=this.config;return a.data_epochs&&n===a.data_epochs},i.prototype.isX=function(n){var a,u,c,g=this.config;return g.data_x&&n===g.data_x||T(g.data_xs)&&(a=g.data_xs,u=n,c=!1,Object.keys(a).forEach(function(m){a[m]===u&&(c=!0)}),c)},i.prototype.isNotX=function(n){return!this.isX(n)},i.prototype.isNotXAndNotEpochs=function(n){return!this.isX(n)&&!this.isEpochs(n)},i.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&0<this.config.data_groups.length},i.prototype.isAxisNormalized=function(n){var a=this;return!!a.isStackNormalized()&&a.data.targets.filter(function(u){return a.axis.getId(u.id)===n}).some(function(u){return a.isTargetNormalized(u.id)})},i.prototype.isTargetNormalized=function(n){return this.isStackNormalized()&&this.config.data_groups.some(function(a){return a.includes(n)})},i.prototype.getXKey=function(n){var a=this.config;return a.data_x?a.data_x:T(a.data_xs)?a.data_xs[n]:null},i.prototype.getTotalPerIndex=function(n){var a=this;if(!a.isStackNormalized())return null;var u=a.getFromCache("getTotalPerIndex");if(u!==void 0)return u[n];var c={y:[],y2:[]};return a.data.targets.filter(function(g){return a.isTargetNormalized(g.id)}).filter(function(g){return a.isTargetToShow(g.id)}).forEach(function(g){var m=c[a.axis.getId(g.id)];g.values.forEach(function(v,x){m[x]||(m[x]=0),m[x]+=y(v.value)?v.value:0})}),a.addToCache("getTotalPerIndex",c),c[n]},i.prototype.getTotalDataSum=function(){var n=this,a=n.getFromCache("getTotalDataSum");if(a!==void 0)return a;var u,c=(u=n.data.targets.filter(function(g){return n.isTargetToShow(g.id)}).map(function(g){return g.values}),(Array.isArray(u)?[].concat.apply([],u):[]).map(function(g){return g.value}).reduce(function(g,m){return g+m},0));return n.addToCache("getTotalDataSum",c),c},i.prototype.getXValuesOfXKey=function(n,a){var u,c=this;return(a&&T(a)?c.mapToIds(a):[]).forEach(function(g){c.getXKey(g)===n&&(u=c.data.xs[g])}),u},i.prototype.getXValue=function(n,a){return n in this.data.xs&&this.data.xs[n]&&S(this.data.xs[n][a])?this.data.xs[n][a]:a},i.prototype.getOtherTargetXs=function(){var n=Object.keys(this.data.xs);return n.length?this.data.xs[n[0]]:null},i.prototype.getOtherTargetX=function(n){var a=this.getOtherTargetXs();return a&&n<a.length?a[n]:null},i.prototype.addXs=function(n){var a=this;Object.keys(n).forEach(function(u){a.config.data_xs[u]=n[u]})},i.prototype.addName=function(n){var a;return n&&(a=this.config.data_names[n.id],n.name=a!==void 0?a:n.id),n},i.prototype.getValueOnIndex=function(n,a){var u=n.filter(function(c){return c.index===a});return u.length?u[0]:null},i.prototype.updateTargetX=function(n,a){var u=this;n.forEach(function(c){c.values.forEach(function(g,m){g.x=u.generateTargetX(a[m],c.id,m)}),u.data.xs[c.id]=a})},i.prototype.updateTargetXs=function(n,a){var u=this;n.forEach(function(c){a[c.id]&&u.updateTargetX([c],a[c.id])})},i.prototype.generateTargetX=function(n,a,u){var c=this,g=c.isTimeSeries()?n?c.parseDate(n):c.parseDate(c.getXValue(a,u)):c.isCustomX()&&!c.isCategorized()?S(n)?+n:c.getXValue(a,u):u;return g},i.prototype.cloneTarget=function(n){return{id:n.id,id_org:n.id_org,values:n.values.map(function(a){return{x:a.x,value:a.value,id:a.id}})}},i.prototype.getMaxDataCount=function(){return this.d3.max(this.data.targets,function(n){return n.values.length})},i.prototype.mapToIds=function(n){return n.map(function(a){return a.id})},i.prototype.mapToTargetIds=function(n){return n?[].concat(n):this.mapToIds(this.data.targets)},i.prototype.hasTarget=function(n,a){for(var u=this.mapToIds(n),c=0;c<u.length;c++)if(u[c]===a)return!0;return!1},i.prototype.isTargetToShow=function(n){return this.hiddenTargetIds.indexOf(n)<0},i.prototype.isLegendToShow=function(n){return this.hiddenLegendIds.indexOf(n)<0},i.prototype.getTargetsToShow=function(){return this.filterTargetsToShow(this.data.targets)},i.prototype.filterTargetsToShow=function(n){var a=this;return n.filter(function(u){return a.isTargetToShow(u.id)})},i.prototype.getTargets=function(){return this.data.targets},i.prototype.mapTargetsToUniqueXs=function(n){var a=this.d3.set(this.d3.merge(n.map(function(u){return u.values.map(function(c){return+c.x})}))).values();return(a=this.isTimeSeries()?a.map(function(u){return new Date(+u)}):a.map(function(u){return+u})).sort(function(u,c){return u<c?-1:c<u?1:c<=u?0:NaN})},i.prototype.addHiddenTargetIds=function(n){n=n instanceof Array?n:new Array(n);for(var a=0;a<n.length;a++)this.hiddenTargetIds.indexOf(n[a])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(n[a]));this.resetCache()},i.prototype.removeHiddenTargetIds=function(n){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(a){return n.indexOf(a)<0}),this.resetCache()},i.prototype.addHiddenLegendIds=function(n){n=n instanceof Array?n:new Array(n);for(var a=0;a<n.length;a++)this.hiddenLegendIds.indexOf(n[a])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(n[a]))},i.prototype.removeHiddenLegendIds=function(n){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(a){return n.indexOf(a)<0})},i.prototype.getValuesAsIdKeyed=function(n){var a={};return n.forEach(function(u){a[u.id]=[],u.values.forEach(function(c){a[u.id].push(c.value)})}),a},i.prototype.checkValueInTargets=function(n,a){for(var u,c,g=Object.keys(n),m=0;m<g.length;m++)for(c=n[g[m]].values,u=0;u<c.length;u++)if(a(c[u].value))return!0;return!1},i.prototype.hasNegativeValueInTargets=function(n){return this.checkValueInTargets(n,function(a){return a<0})},i.prototype.hasPositiveValueInTargets=function(n){return this.checkValueInTargets(n,function(a){return 0<a})},i.prototype.isOrderDesc=function(){var n=this.config;return typeof n.data_order=="string"&&n.data_order.toLowerCase()==="desc"},i.prototype.isOrderAsc=function(){var n=this.config;return typeof n.data_order=="string"&&n.data_order.toLowerCase()==="asc"},i.prototype.getOrderFunction=function(){var n=this.config,a=this.isOrderAsc(),u=this.isOrderDesc();if(a||u){var c=function(m,v){return m+Math.abs(v.value)};return function(m,v){var x=m.values.reduce(c,0),M=v.values.reduce(c,0);return a?M-x:x-M}}if(_(n.data_order))return n.data_order;if(d(n.data_order)){var g=n.data_order;return function(m,v){return g.indexOf(m.id)-g.indexOf(v.id)}}},i.prototype.orderTargets=function(n){var a=this.getOrderFunction();return a&&n.sort(a),n},i.prototype.filterByIndex=function(n,a){return this.d3.merge(n.map(function(u){return u.values.filter(function(c){return c.index===a})}))},i.prototype.filterByX=function(n,a){return this.d3.merge(n.map(function(u){return u.values})).filter(function(u){return u.x-a==0})},i.prototype.filterRemoveNull=function(n){return n.filter(function(a){return S(a.value)})},i.prototype.filterByXDomain=function(n,a){return n.map(function(u){return{id:u.id,id_org:u.id_org,values:u.values.filter(function(c){return a[0]<=c.x&&c.x<=a[1]})}})},i.prototype.hasDataLabel=function(){var n=this.config;return!(typeof n.data_labels!="boolean"||!n.data_labels)||!(typeof n.data_labels!="object"||!T(n.data_labels))},i.prototype.getDataLabelLength=function(n,a,u){var c=this,g=[0,0];return c.selectChart.select("svg").selectAll(".dummy").data([n,a]).enter().append("text").text(function(m){return c.dataLabelFormat(m.id)(m)}).each(function(m,v){g[v]=1.3*k(this)[u]}).remove(),g},i.prototype.isNoneArc=function(n){return this.hasTarget(this.data.targets,n.id)},i.prototype.isArc=function(n){return"data"in n&&this.hasTarget(this.data.targets,n.data.id)},i.prototype.findClosestFromTargets=function(n,a){var u=this,c=n.map(function(g){return u.findClosest(g.values,a,u.config.tooltip_horizontal?u.horizontalDistance.bind(u):u.dist.bind(u),u.config.point_sensitivity)}).filter(function(g){return g});return c.length===0?void 0:c.length===1?c[0]:u.findClosest(c,a,u.dist.bind(u))},i.prototype.findClosestFromTargetsByX=function(n,a){var u,c;return n.forEach(function(g){g.values.forEach(function(m){var v=Math.abs(a-m.x);(c===void 0||v<c)&&(u=m,c=v)})}),u},i.prototype.findClosest=function(n,a,u,c){c===void 0&&(c=1/0);var g,m=this;return n.filter(function(v){return v&&m.isBarType(v.id)}).forEach(function(v){var x;g||(x=m.main.select("."+b.bars+m.getTargetSelectorSuffix(v.id)+" ."+b.bar+"-"+v.index).node(),m.isWithinBar(a,x)&&(g=v))}),n.filter(function(v){return v&&!m.isBarType(v.id)}).forEach(function(v){var x=u(v,a);x<c&&(c=x,g=v)}),g},i.prototype.dist=function(n,a){var u=this.config,c=u.axis_rotated?1:0,g=u.axis_rotated?0:1,m=this.circleY(n,n.index),v=this.x(n.x);return Math.sqrt(Math.pow(v-a[c],2)+Math.pow(m-a[g],2))},i.prototype.horizontalDistance=function(n,a){var u=this.config.axis_rotated?1:0,c=this.x(n.x);return Math.abs(c-a[u])},i.prototype.convertValuesToStep=function(n){var a,u=[].concat(n);if(!this.isCategorized())return n;for(a=n.length+1;0<a;a--)u[a]=u[a-1];return u[0]={x:u[0].x-1,value:u[0].value,id:u[0].id},u[n.length+1]={x:u[n.length].x+1,value:u[n.length].value,id:u[n.length].id},u},i.prototype.getRatio=function(n,a,u){u===void 0&&(u=!1);var c,g=this,m=g.api,v=0;return a&&m.data.shown.call(m).length&&(v=a.ratio||a.value,n==="arc"?v=g.hasType("gauge")?(a.endAngle-a.startAngle)/(Math.PI*(g.config.gauge_fullCircle?2:1)):(c=g.getTotalDataSum(),a.value/c):n==="index"&&(c=g.getTotalPerIndex(g.axis.getId(a.id)),a.ratio=y(a.value)&&c&&0<c[a.index]?a.value/c[a.index]:0,v=a.ratio)),u&&v?100*v:v},i.prototype.updateDataAttributes=function(n,a){var u=this.config["data_"+n];return a===void 0||(Object.keys(a).forEach(function(c){u[c]=a[c]}),this.redraw({withLegend:!0})),u},i.prototype.load=function(n,a){var u=this;n&&(a.filter&&(n=n.filter(a.filter)),(a.type||a.types)&&n.forEach(function(c){var g=a.types&&a.types[c.id]?a.types[c.id]:a.type;u.setTargetType(c.id,g)}),u.data.targets.forEach(function(c){for(var g=0;g<n.length;g++)if(c.id===n[g].id){c.values=n[g].values,n.splice(g,1);break}}),u.data.targets=u.data.targets.concat(n)),u.updateTargets(u.data.targets),u.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),a.done&&a.done()},i.prototype.loadFromArgs=function(n){var a=this;a.resetCache(),n.data?a.load(a.convertDataToTargets(n.data),n):n.url?a.convertUrlToData(n.url,n.mimeType,n.headers,n.keys,function(u){a.load(a.convertDataToTargets(u),n)}):n.json?a.load(a.convertDataToTargets(a.convertJsonToData(n.json,n.keys)),n):n.rows?a.load(a.convertDataToTargets(a.convertRowsToData(n.rows)),n):n.columns?a.load(a.convertDataToTargets(a.convertColumnsToData(n.columns)),n):a.load(null,n)},i.prototype.unload=function(n,a){var u=this;u.resetCache(),a=a||function(){},(n=n.filter(function(c){return u.hasTarget(u.data.targets,c)}))&&n.length!==0?(u.svg.selectAll(n.map(function(c){return u.selectorTarget(c)})).transition().style("opacity",0).remove().call(u.endall,a),n.forEach(function(c){u.withoutFadeIn[c]=!1,u.legend&&u.legend.selectAll("."+b.legendItem+u.getTargetSelectorSuffix(c)).remove(),u.data.targets=u.data.targets.filter(function(g){return g.id!==c})})):a()},i.prototype.getYDomainMin=function(n){var a,u,c,g,m,v,x=this,M=x.config,P=x.mapToIds(n),V=x.getValuesAsIdKeyed(n);if(0<M.data_groups.length){for(v=x.hasNegativeValueInTargets(n),a=0;a<M.data_groups.length;a++)if((g=M.data_groups[a].filter(function(O){return 0<=P.indexOf(O)})).length!==0)for(c=g[0],v&&V[c]&&V[c].forEach(function(O,H){V[c][H]=O<0?O:0}),u=1;u<g.length;u++)m=g[u],V[m]&&V[m].forEach(function(O,H){x.axis.getId(m)!==x.axis.getId(c)||!V[c]||v&&0<+O||(V[c][H]+=+O)})}return x.d3.min(Object.keys(V).map(function(O){return x.d3.min(V[O])}))},i.prototype.getYDomainMax=function(n){var a,u,c,g,m,v,x=this,M=x.config,P=x.mapToIds(n),V=x.getValuesAsIdKeyed(n);if(0<M.data_groups.length){for(v=x.hasPositiveValueInTargets(n),a=0;a<M.data_groups.length;a++)if((g=M.data_groups[a].filter(function(O){return 0<=P.indexOf(O)})).length!==0)for(c=g[0],v&&V[c]&&V[c].forEach(function(O,H){V[c][H]=0<O?O:0}),u=1;u<g.length;u++)m=g[u],V[m]&&V[m].forEach(function(O,H){x.axis.getId(m)!==x.axis.getId(c)||!V[c]||v&&+O<0||(V[c][H]+=+O)})}return x.d3.max(Object.keys(V).map(function(O){return x.d3.max(V[O])}))},i.prototype.getYDomain=function(n,a,u){var c=this,g=c.config;if(c.isAxisNormalized(a))return[0,100];var m,v,x,M,P,V,O,H,D,N,B,q=n.filter(function(ut){return c.axis.getId(ut.id)===a}),G=u?c.filterByXDomain(q,u):q,rt=a==="y2"?g.axis_y2_min:g.axis_y_min,U=a==="y2"?g.axis_y2_max:g.axis_y_max,st=c.getYDomainMin(G),nt=c.getYDomainMax(G),j=a==="y2"?g.axis_y2_center:g.axis_y_center,J=c.hasType("bar",G)&&g.bar_zerobased||c.hasType("area",G)&&g.area_zerobased,ht=a==="y2"?g.axis_y2_inverted:g.axis_y_inverted,et=c.hasDataLabel()&&g.axis_rotated,yt=c.hasDataLabel()&&!g.axis_rotated,st=S(rt)?rt:!S(U)||st<U?st:U-10,nt=S(U)?U:!S(rt)||rt<nt?nt:rt+10;return G.length===0?a==="y2"?c.y2.domain():c.y.domain():(isNaN(st)&&(st=0),isNaN(nt)&&(nt=st),st===nt&&(st<0?nt=0:st=0),D=0<=st&&0<=nt,N=st<=0&&nt<=0,(S(rt)&&D||S(U)&&N)&&(J=!1),J&&(D&&(st=0),N&&(nt=0)),x=M=.1*(v=Math.abs(nt-st)),j!==void 0&&(nt=j+(P=Math.max(Math.abs(st),Math.abs(nt))),st=j-P),et?(V=c.getDataLabelLength(st,nt,"width"),O=l(c.y.range()),x+=v*((H=[V[0]/O,V[1]/O])[1]/(1-H[0]-H[1])),M+=v*(H[0]/(1-H[0]-H[1]))):yt&&(V=c.getDataLabelLength(st,nt,"height"),x+=(B=c.getY(g["axis_"+a+"_type"],[0,g.axis_rotated?c.width:c.height],[0,v]))(V[1]),M+=B(V[0])),a==="y"&&T(g.axis_y_padding)&&(x=c.axis.getPadding(g.axis_y_padding,"top",x,v),M=c.axis.getPadding(g.axis_y_padding,"bottom",M,v)),a==="y2"&&T(g.axis_y2_padding)&&(x=c.axis.getPadding(g.axis_y2_padding,"top",x,v),M=c.axis.getPadding(g.axis_y2_padding,"bottom",M,v)),J&&(D&&(M=st),N&&(x=-nt)),m=[st-M,nt+x],ht?m.reverse():m)},i.prototype.getXDomainMin=function(n){var a=this,u=a.config;return L(u.axis_x_min)?a.isTimeSeries()?this.parseDate(u.axis_x_min):u.axis_x_min:a.d3.min(n,function(c){return a.d3.min(c.values,function(g){return g.x})})},i.prototype.getXDomainMax=function(n){var a=this,u=a.config;return L(u.axis_x_max)?a.isTimeSeries()?this.parseDate(u.axis_x_max):u.axis_x_max:a.d3.max(n,function(c){return a.d3.max(c.values,function(g){return g.x})})},i.prototype.getXDomainPadding=function(n){var a,u,c,g=this.config,m=n[1]-n[0],v=this.isCategorized()?0:this.hasType("bar")?1<(a=this.getMaxDataCount())?m/(a-1)/2:.5:.01*m;return typeof g.axis_x_padding=="object"&&T(g.axis_x_padding)?(u=S(g.axis_x_padding.left)?g.axis_x_padding.left:v,c=S(g.axis_x_padding.right)?g.axis_x_padding.right:v):u=c=typeof g.axis_x_padding=="number"?g.axis_x_padding:v,{left:u,right:c}},i.prototype.getXDomain=function(n){var a=this,u=[a.getXDomainMin(n),a.getXDomainMax(n)],c=u[0],g=u[1],m=a.getXDomainPadding(u),v=0,x=0;return c-g!=0||a.isCategorized()||(g=a.isTimeSeries()?(c=new Date(.5*c.getTime()),new Date(1.5*g.getTime())):(c=c===0?1:.5*c,g===0?-1:1.5*g)),!c&&c!==0||(v=a.isTimeSeries()?new Date(c.getTime()-m.left):c-m.left),!g&&g!==0||(x=a.isTimeSeries()?new Date(g.getTime()+m.right):g+m.right),[v,x]},i.prototype.updateXDomain=function(n,a,u,c,g){var m=this,v=m.config;return u&&(m.x.domain(g||m.d3.extent(m.getXDomain(n))),m.orgXDomain=m.x.domain(),v.zoom_enabled&&m.zoom.update(),m.subX.domain(m.x.domain()),m.brush&&m.brush.updateScale(m.subX)),a&&m.x.domain(g||(!m.brush||m.brush.empty()?m.orgXDomain:m.brush.selectionAsValue())),c&&m.x.domain(m.trimXDomain(m.x.orgDomain())),m.x.domain()},i.prototype.trimXDomain=function(n){var a=this.getZoomDomain(),u=a[0],c=a[1];return n[0]<=u&&(n[1]=+n[1]+(u-n[0]),n[0]=u),c<=n[1]&&(n[0]=n[0]-(n[1]-c),n[1]=c),n},i.prototype.drag=function(n){var a,u,c,g,m,v,x,M,P=this,V=P.config,O=P.main,H=P.d3;P.hasArcType()||V.data_selection_enabled&&V.data_selection_multiple&&(a=P.dragStart[0],u=P.dragStart[1],c=n[0],g=n[1],m=Math.min(a,c),v=Math.max(a,c),x=V.data_selection_grouped?P.margin.top:Math.min(u,g),M=V.data_selection_grouped?P.height:Math.max(u,g),O.select("."+b.dragarea).attr("x",m).attr("y",x).attr("width",v-m).attr("height",M-x),O.selectAll("."+b.shapes).selectAll("."+b.shape).each(function(D,N){if(V.data_selection_isselectable(D)){var B,q,G,rt,U,j,J=H.select(this),ht=J.classed(b.SELECTED),et=J.classed(b.INCLUDED),yt=!1;if(J.classed(b.circle))B=+J.attr("cx"),q=+J.attr("cy"),U=P.togglePoint,yt=m<B&&B<v&&x<q&&q<M;else{if(!J.classed(b.bar))return;B=(j=h(this)).x,q=j.y,G=j.width,rt=j.height,U=P.togglePath,yt=!(v<B||B+G<m||M<q||q+rt<x)}yt^et&&(J.classed(b.INCLUDED,!et),J.classed(b.SELECTED,!ht),U.call(P,!ht,J,D,N))}}))},i.prototype.dragstart=function(n){var a=this,u=a.config;a.hasArcType()||u.data_selection_enabled&&(a.dragStart=n,a.main.select("."+b.chart).append("rect").attr("class",b.dragarea).style("opacity",.1),a.dragging=!0)},i.prototype.dragend=function(){var n=this,a=n.config;n.hasArcType()||a.data_selection_enabled&&(n.main.select("."+b.dragarea).transition().duration(100).style("opacity",0).remove(),n.main.selectAll("."+b.shape).classed(b.INCLUDED,!1),n.dragging=!1)},i.prototype.getYFormat=function(n){var a=this,u=n&&!a.hasType("gauge")?a.defaultArcValueFormat:a.yFormat,c=n&&!a.hasType("gauge")?a.defaultArcValueFormat:a.y2Format;return function(g,m,v){return(a.axis.getId(v)==="y2"?c:u).call(a,g,m)}},i.prototype.yFormat=function(n){var a=this.config;return(a.axis_y_tick_format?a.axis_y_tick_format:this.defaultValueFormat)(n)},i.prototype.y2Format=function(n){var a=this.config;return(a.axis_y2_tick_format?a.axis_y2_tick_format:this.defaultValueFormat)(n)},i.prototype.defaultValueFormat=function(n){return S(n)?+n:""},i.prototype.defaultArcValueFormat=function(n,a){return(100*a).toFixed(1)+"%"},i.prototype.dataLabelFormat=function(n){function a(g){return S(g)?+g:""}var u=this.config.data_labels,c=typeof u.format=="function"?u.format:typeof u.format=="object"?u.format[n]?u.format[n]===!0?a:u.format[n]:function(){return""}:a;return c},i.prototype.initGrid=function(){var n=this,a=n.config,u=n.d3;n.grid=n.main.append("g").attr("clip-path",n.clipPathForGrid).attr("class",b.grid),a.grid_x_show&&n.grid.append("g").attr("class",b.xgrids),a.grid_y_show&&n.grid.append("g").attr("class",b.ygrids),a.grid_focus_show&&n.grid.append("g").attr("class",b.xgridFocus).append("line").attr("class",b.xgridFocus),n.xgrid=u.selectAll([]),a.grid_lines_front||n.initGridLines()},i.prototype.initGridLines=function(){var n=this,a=n.d3;n.gridLines=n.main.append("g").attr("clip-path",n.clipPathForGrid).attr("class",b.grid+" "+b.gridLines),n.gridLines.append("g").attr("class",b.xgridLines),n.gridLines.append("g").attr("class",b.ygridLines),n.xgridLines=a.selectAll([])},i.prototype.updateXGrid=function(n){var a=this,u=a.config,c=a.d3,g=a.generateGridData(u.grid_x_type,a.x),m=a.isCategorized()?a.xAxis.tickOffset():0;a.xgridAttr=u.axis_rotated?{x1:0,x2:a.width,y1:function(M){return a.x(M)-m},y2:function(M){return a.x(M)-m}}:{x1:function(M){return a.x(M)+m},x2:function(M){return a.x(M)+m},y1:0,y2:a.height},a.xgridAttr.opacity=function(){return+c.select(this).attr(u.axis_rotated?"y1":"x1")===(u.axis_rotated?a.height:0)?0:1};var v=a.main.select("."+b.xgrids).selectAll("."+b.xgrid).data(g),x=v.enter().append("line").attr("class",b.xgrid).attr("x1",a.xgridAttr.x1).attr("x2",a.xgridAttr.x2).attr("y1",a.xgridAttr.y1).attr("y2",a.xgridAttr.y2).style("opacity",0);a.xgrid=x.merge(v),n||a.xgrid.attr("x1",a.xgridAttr.x1).attr("x2",a.xgridAttr.x2).attr("y1",a.xgridAttr.y1).attr("y2",a.xgridAttr.y2).style("opacity",a.xgridAttr.opacity),v.exit().remove()},i.prototype.updateYGrid=function(){var n=this,a=n.config,u=n.yAxis.tickValues()||n.y.ticks(a.grid_y_ticks),c=n.main.select("."+b.ygrids).selectAll("."+b.ygrid).data(u),g=c.enter().append("line").attr("class",b.ygrid);n.ygrid=g.merge(c),n.ygrid.attr("x1",a.axis_rotated?n.y:0).attr("x2",a.axis_rotated?n.y:n.width).attr("y1",a.axis_rotated?0:n.y).attr("y2",a.axis_rotated?n.height:n.y),c.exit().remove(),n.smoothLines(n.ygrid,"grid")},i.prototype.gridTextAnchor=function(n){return n.position?n.position:"end"},i.prototype.gridTextDx=function(n){return n.position==="start"?4:n.position==="middle"?0:-4},i.prototype.xGridTextX=function(n){return n.position==="start"?-this.height:n.position==="middle"?-this.height/2:0},i.prototype.yGridTextX=function(n){return n.position==="start"?0:n.position==="middle"?this.width/2:this.width},i.prototype.updateGrid=function(n){var a,u,c,g,m=this,v=m.main,x=m.config,M=m.xv.bind(m),P=m.yv.bind(m),V=m.xGridTextX.bind(m),O=m.yGridTextX.bind(m);m.grid.style("visibility",m.hasArcType()?"hidden":"visible"),v.select("line."+b.xgridFocus).style("visibility","hidden"),x.grid_x_show&&m.updateXGrid(),(u=(a=v.select("."+b.xgridLines).selectAll("."+b.xgridLine).data(x.grid_x_lines)).enter().append("g").attr("class",function(H){return b.xgridLine+(H.class?" "+H.class:"")})).append("line").attr("x1",x.axis_rotated?0:M).attr("x2",x.axis_rotated?m.width:M).attr("y1",x.axis_rotated?M:0).attr("y2",x.axis_rotated?M:m.height).style("opacity",0),u.append("text").attr("text-anchor",m.gridTextAnchor).attr("transform",x.axis_rotated?"":"rotate(-90)").attr("x",x.axis_rotated?O:V).attr("y",M).attr("dx",m.gridTextDx).attr("dy",-5).style("opacity",0),m.xgridLines=u.merge(a),a.exit().transition().duration(n).style("opacity",0).remove(),x.grid_y_show&&m.updateYGrid(),(g=(c=v.select("."+b.ygridLines).selectAll("."+b.ygridLine).data(x.grid_y_lines)).enter().append("g").attr("class",function(H){return b.ygridLine+(H.class?" "+H.class:"")})).append("line").attr("x1",x.axis_rotated?P:0).attr("x2",x.axis_rotated?P:m.width).attr("y1",x.axis_rotated?0:P).attr("y2",x.axis_rotated?m.height:P).style("opacity",0),g.append("text").attr("text-anchor",m.gridTextAnchor).attr("transform",x.axis_rotated?"rotate(-90)":"").attr("x",x.axis_rotated?V:O).attr("y",P).attr("dx",m.gridTextDx).attr("dy",-5).style("opacity",0),m.ygridLines=g.merge(c),m.ygridLines.select("line").transition().duration(n).attr("x1",x.axis_rotated?P:0).attr("x2",x.axis_rotated?P:m.width).attr("y1",x.axis_rotated?0:P).attr("y2",x.axis_rotated?m.height:P).style("opacity",1),m.ygridLines.select("text").transition().duration(n).attr("x",x.axis_rotated?m.xGridTextX.bind(m):m.yGridTextX.bind(m)).attr("y",P).text(function(H){return H.text}).style("opacity",1),c.exit().transition().duration(n).style("opacity",0).remove()},i.prototype.redrawGrid=function(n,a){var u=this,c=u.config,g=u.xv.bind(u),m=u.xgridLines.select("line"),v=u.xgridLines.select("text");return[(n?m.transition(a):m).attr("x1",c.axis_rotated?0:g).attr("x2",c.axis_rotated?u.width:g).attr("y1",c.axis_rotated?g:0).attr("y2",c.axis_rotated?g:u.height).style("opacity",1),(n?v.transition(a):v).attr("x",c.axis_rotated?u.yGridTextX.bind(u):u.xGridTextX.bind(u)).attr("y",g).text(function(x){return x.text}).style("opacity",1)]},i.prototype.showXGridFocus=function(n){var a=this,u=a.config,c=n.filter(function(v){return v&&S(v.value)}),g=a.main.selectAll("line."+b.xgridFocus),m=a.xx.bind(a);u.tooltip_show&&(a.hasType("stanford")||a.hasArcType()||(g.style("visibility","visible").data([c[0]]).attr(u.axis_rotated?"y1":"x1",m).attr(u.axis_rotated?"y2":"x2",m),a.smoothLines(g,"grid")))},i.prototype.hideXGridFocus=function(){this.main.select("line."+b.xgridFocus).style("visibility","hidden")},i.prototype.updateXgridFocus=function(){var n=this.config;this.main.select("line."+b.xgridFocus).attr("x1",n.axis_rotated?0:-10).attr("x2",n.axis_rotated?this.width:-10).attr("y1",n.axis_rotated?-10:0).attr("y2",n.axis_rotated?-10:this.height)},i.prototype.generateGridData=function(n,a){var u,c,g,m,v=[],x=this.main.select("."+b.axisX).selectAll(".tick").size();if(n==="year")for(c=(u=this.getXDomain())[0].getFullYear(),g=u[1].getFullYear(),m=c;m<=g;m++)v.push(new Date(m+"-01-01 00:00:00"));else(v=a.ticks(10)).length>x&&(v=v.filter(function(M){return(""+M).indexOf(".")<0}));return v},i.prototype.getGridFilterToRemove=function(n){return n?function(a){var u=!1;return[].concat(n).forEach(function(c){("value"in c&&a.value===c.value||"class"in c&&a.class===c.class)&&(u=!0)}),u}:function(){return!0}},i.prototype.removeGridLines=function(n,a){function u(x){return!g(x)}var c=this.config,g=this.getGridFilterToRemove(n),m=a?b.xgridLines:b.ygridLines,v=a?b.xgridLine:b.ygridLine;this.main.select("."+m).selectAll("."+v).filter(g).transition().duration(c.transition_duration).style("opacity",0).remove(),a?c.grid_x_lines=c.grid_x_lines.filter(u):c.grid_y_lines=c.grid_y_lines.filter(u)},i.prototype.initEventRect=function(){var n=this,a=n.config;n.main.select("."+b.chart).append("g").attr("class",b.eventRects).style("fill-opacity",0),n.eventRect=n.main.select("."+b.eventRects).append("rect").attr("class",b.eventRect),a.zoom_enabled&&n.zoom&&(n.eventRect.call(n.zoom).on("dblclick.zoom",null),a.zoom_initialRange&&n.eventRect.transition().duration(0).call(n.zoom.transform,n.zoomTransform(a.zoom_initialRange)))},i.prototype.redrawEventRect=function(){var n=this,a=n.d3,u=n.config;function c(){n.svg.select("."+b.eventRect).style("cursor",null),n.hideXGridFocus(),n.hideTooltip(),n.unexpandCircles(),n.unexpandBars()}function g(v,x){return x&&(n.isBarType(x.id)||n.dist(x,v)<u.point_sensitivity)}function m(v){return v?n.addName(Object.assign({},v)):null}n.main.select("."+b.eventRects).style("cursor",u.zoom_enabled?u.axis_rotated?"ns-resize":"ew-resize":null),n.eventRect.attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height).on("mouseout",u.interaction_enabled?function(){u&&(n.hasArcType()||(n.mouseover&&(u.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),c()))}:null).on("mousemove",u.interaction_enabled?function(){if(!n.dragging){var v=n.getTargetsToShow();if(!n.hasArcType(v)){var x,M,P,V=a.mouse(this),O=m(n.findClosestFromTargets(v,V)),H=g(V,O);if(!n.mouseover||O&&O.id===n.mouseover.id&&O.index===n.mouseover.index||(u.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),O&&!n.mouseover&&(u.data_onmouseover.call(n.api,O),n.mouseover=O),n.svg.select("."+b.eventRect).style("cursor",H?"pointer":null),!u.tooltip_grouped||n.hasType("stanford",v)?O&&(x=[O]):(P=void 0,(P=O||(M=u.axis_rotated?V[1]:V[0],n.findClosestFromTargetsByX(v,n.x.invert(M))))&&(x=n.filterByX(v,P.x))),!x||x.length===0)return c();x=x.map(m),n.showTooltip(x,this),u.point_focus_expand_enabled&&(n.unexpandCircles(),x.forEach(function(D){n.expandCircles(D.index,D.id,!1)})),n.unexpandBars(),x.forEach(function(D){n.expandBars(D.index,D.id,!1)}),n.showXGridFocus(x)}}}:null).on("click",u.interaction_enabled?function(){var v,x,M,P=n.getTargetsToShow();n.hasArcType(P)||(v=a.mouse(this),x=m(n.findClosestFromTargets(P,v)),g(v,x)&&((!u.data_selection_grouped||n.isStanfordType(x)?[x]:n.filterByX(P,x.x)).forEach(function(V){n.main.selectAll("."+b.shapes+n.getTargetSelectorSuffix(V.id)).selectAll("."+b.shape+"-"+V.index).each(function(){(u.data_selection_grouped||n.isWithinShape(this,V))&&n.toggleShape(this,V,V.index)})}),x&&(M=n.main.selectAll("."+b.shapes+n.getTargetSelectorSuffix(x.id)).select("."+b.shape+"-"+x.index),u.data_onclick.call(n.api,x,M.node()))))}:null).call(u.interaction_enabled&&u.data_selection_draggable&&n.drag?a.drag().on("drag",function(){n.drag(a.mouse(this))}).on("start",function(){n.dragstart(a.mouse(this))}).on("end",function(){n.dragend()}):function(){})},i.prototype.getMousePosition=function(n){return[this.x(n.x),this.getYScale(n.id)(n.value)]},i.prototype.dispatchEvent=function(n,a){var u="."+b.eventRect,c=this.main.select(u).node(),g=c.getBoundingClientRect(),m=g.left+(a?a[0]:0),v=g.top+(a?a[1]:0),x=document.createEvent("MouseEvents");x.initMouseEvent(n,!0,!0,window,0,m,v,m,v,!1,!1,!1,!1,0,null),c.dispatchEvent(x)},i.prototype.initLegend=function(){var n=this;if(n.legendItemTextBox={},n.legendHasRendered=!1,n.legend=n.svg.append("g").attr("transform",n.getTranslate("legend")),!n.config.legend_show)return n.legend.style("visibility","hidden"),void(n.hiddenLegendIds=n.mapToIds(n.data.targets));n.updateLegendWithDefaults()},i.prototype.updateLegendWithDefaults=function(){this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},i.prototype.updateSizeForLegend=function(n,a){var u=this,c=u.config,g={top:u.isLegendTop?u.getCurrentPaddingTop()+c.legend_inset_y+5.5:u.currentHeight-n-u.getCurrentPaddingBottom()-c.legend_inset_y,left:u.isLegendLeft?u.getCurrentPaddingLeft()+c.legend_inset_x+.5:u.currentWidth-a-u.getCurrentPaddingRight()-c.legend_inset_x+.5};u.margin3={top:u.isLegendRight?0:u.isLegendInset?g.top:u.currentHeight-n,right:NaN,bottom:0,left:u.isLegendRight?u.currentWidth-a:u.isLegendInset?g.left:0}},i.prototype.transformLegend=function(n){(n?this.legend.transition():this.legend).attr("transform",this.getTranslate("legend"))},i.prototype.updateLegendStep=function(n){this.legendStep=n},i.prototype.updateLegendItemWidth=function(n){this.legendItemWidth=n},i.prototype.updateLegendItemHeight=function(n){this.legendItemHeight=n},i.prototype.getLegendWidth=function(){var n=this;return n.config.legend_show?n.isLegendRight||n.isLegendInset?n.legendItemWidth*(n.legendStep+1):n.currentWidth:0},i.prototype.getLegendHeight=function(){var n=this,a=0;return n.config.legend_show&&(a=n.isLegendRight?n.currentHeight:Math.max(20,n.legendItemHeight)*(n.legendStep+1)),a},i.prototype.opacityForLegend=function(n){return n.classed(b.legendItemHidden)?null:1},i.prototype.opacityForUnfocusedLegend=function(n){return n.classed(b.legendItemHidden)?null:.3},i.prototype.toggleFocusLegend=function(n,a){var u=this;n=u.mapToTargetIds(n),u.legend.selectAll("."+b.legendItem).filter(function(c){return 0<=n.indexOf(c)}).classed(b.legendItemFocused,a).transition().duration(100).style("opacity",function(){return(a?u.opacityForLegend:u.opacityForUnfocusedLegend).call(u,u.d3.select(this))})},i.prototype.revertLegend=function(){var n=this,a=n.d3;n.legend.selectAll("."+b.legendItem).classed(b.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return n.opacityForLegend(a.select(this))})},i.prototype.showLegend=function(n){var a=this,u=a.config;u.legend_show||(u.legend_show=!0,a.legend.style("visibility","visible"),a.legendHasRendered||a.updateLegendWithDefaults()),a.removeHiddenLegendIds(n),a.legend.selectAll(a.selectorLegends(n)).style("visibility","visible").transition().style("opacity",function(){return a.opacityForLegend(a.d3.select(this))})},i.prototype.hideLegend=function(n){var a=this,u=a.config;u.legend_show&&p(n)&&(u.legend_show=!1,a.legend.style("visibility","hidden")),a.addHiddenLegendIds(n),a.legend.selectAll(a.selectorLegends(n)).style("opacity",0).style("visibility","hidden")},i.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},i.prototype.updateLegend=function(n,a,u){var c,g,m,v,x,M,P,V,O,H,D,N,B,q,G,rt,U=this,j=U.config,J=4,ht=10,et=0,yt=0,st=10,nt=j.legend_item_tile_width+5,ut=0,Vt={},Gt={},Ae={},pe=[0],Tt={},At=0;function ee(Z,dt,Cn){var Mn,dr,jt,se,gr=Cn===0,Pe=Cn===n.length-1,Ke=(jt=Z,se=dt,U.legendItemTextBox[se]||(U.legendItemTextBox[se]=U.getTextRect(jt.textContent,b.legendItem,jt)),U.legendItemTextBox[se]),pr=Ke.width+nt+(!Pe||U.isLegendRight||U.isLegendInset?ht:0)+j.legend_padding,yr=Ke.height+J,So=U.isLegendRight||U.isLegendInset?yr:pr,To=U.isLegendRight||U.isLegendInset?U.getLegendHeight():U.getLegendWidth();function Ao(Ie,t0){t0||(Mn=(To-ut-So)/2)<st&&(Mn=(To-So)/2,ut=0,At++),Tt[Ie]=At,pe[At]=U.isLegendInset?10:Mn,Vt[Ie]=ut,ut+=So}gr&&(yt=et=At=ut=0),!j.legend_show||U.isLegendToShow(dt)?(Gt[dt]=pr,Ae[dt]=yr,(!et||et<=pr)&&(et=pr),(!yt||yt<=yr)&&(yt=yr),dr=U.isLegendRight||U.isLegendInset?yt:et,j.legend_equally?(Object.keys(Gt).forEach(function(Ie){Gt[Ie]=et}),Object.keys(Ae).forEach(function(Ie){Ae[Ie]=yt}),(Mn=(To-dr*n.length)/2)<st?(At=ut=0,n.forEach(function(Ie){Ao(Ie)})):Ao(dt,!0)):Ao(dt)):Gt[dt]=Ae[dt]=Tt[dt]=Vt[dt]=0}n=n.filter(function(Z){return!L(j.data_names[Z])||j.data_names[Z]!==null}),D=f(a=a||{},"withTransition",!0),N=f(a,"withTransitionForTransform",!0),U.isLegendInset&&(At=j.legend_inset_step?j.legend_inset_step:n.length,U.updateLegendStep(At)),v=U.isLegendRight?(c=function(Z){return et*Tt[Z]},function(Z){return pe[Tt[Z]]+Vt[Z]}):U.isLegendInset?(c=function(Z){return et*Tt[Z]+10},function(Z){return pe[Tt[Z]]+Vt[Z]}):(c=function(Z){return pe[Tt[Z]]+Vt[Z]},function(Z){return yt*Tt[Z]}),g=function(Z,dt){return c(Z,dt)+4+j.legend_item_tile_width},x=function(Z,dt){return v(Z,dt)+9},m=function(Z,dt){return c(Z,dt)},M=function(Z,dt){return v(Z,dt)-5},P=function(Z,dt){return c(Z,dt)-2},V=function(Z,dt){return c(Z,dt)-2+j.legend_item_tile_width},O=function(Z,dt){return v(Z,dt)+4},(H=U.legend.selectAll("."+b.legendItem).data(n).enter().append("g").attr("class",function(Z){return U.generateClass(b.legendItem,Z)}).style("visibility",function(Z){return U.isLegendToShow(Z)?"visible":"hidden"}).style("cursor",function(){return j.interaction_enabled?"pointer":"auto"}).on("click",j.interaction_enabled?function(Z){j.legend_item_onclick?j.legend_item_onclick.call(U,Z):U.d3.event.altKey?(U.api.hide(),U.api.show(Z)):(U.api.toggle(Z),U.isTargetToShow(Z)?U.api.focus(Z):U.api.revert())}:null).on("mouseover",j.interaction_enabled?function(Z){j.legend_item_onmouseover?j.legend_item_onmouseover.call(U,Z):(U.d3.select(this).classed(b.legendItemFocused,!0),!U.transiting&&U.isTargetToShow(Z)&&U.api.focus(Z))}:null).on("mouseout",j.interaction_enabled?function(Z){j.legend_item_onmouseout?j.legend_item_onmouseout.call(U,Z):(U.d3.select(this).classed(b.legendItemFocused,!1),U.api.revert())}:null)).append("text").text(function(Z){return L(j.data_names[Z])?j.data_names[Z]:Z}).each(function(Z,dt){ee(this,Z,dt)}).style("pointer-events","none").attr("x",U.isLegendRight||U.isLegendInset?g:-200).attr("y",U.isLegendRight||U.isLegendInset?-200:x),H.append("rect").attr("class",b.legendItemEvent).style("fill-opacity",0).attr("x",U.isLegendRight||U.isLegendInset?m:-200).attr("y",U.isLegendRight||U.isLegendInset?-200:M),H.append("line").attr("class",b.legendItemTile).style("stroke",U.color).style("pointer-events","none").attr("x1",U.isLegendRight||U.isLegendInset?P:-200).attr("y1",U.isLegendRight||U.isLegendInset?-200:O).attr("x2",U.isLegendRight||U.isLegendInset?V:-200).attr("y2",U.isLegendRight||U.isLegendInset?-200:O).attr("stroke-width",j.legend_item_tile_height),rt=U.legend.select("."+b.legendBackground+" rect"),U.isLegendInset&&0<et&&rt.size()===0&&(rt=U.legend.insert("g","."+b.legendItem).attr("class",b.legendBackground).append("rect")),B=U.legend.selectAll("text").data(n).text(function(Z){return L(j.data_names[Z])?j.data_names[Z]:Z}).each(function(Z,dt){ee(this,Z,dt)}),(D?B.transition():B).attr("x",g).attr("y",x),q=U.legend.selectAll("rect."+b.legendItemEvent).data(n),(D?q.transition():q).attr("width",function(Z){return Gt[Z]}).attr("height",function(Z){return Ae[Z]}).attr("x",m).attr("y",M),G=U.legend.selectAll("line."+b.legendItemTile).data(n),(D?G.transition():G).style("stroke",U.levelColor?function(Z){return U.levelColor(U.cache[Z].values.reduce(function(dt,Cn){return dt+Cn.value},0))}:U.color).attr("x1",P).attr("y1",O).attr("x2",V).attr("y2",O),rt&&(D?rt.transition():rt).attr("height",U.getLegendHeight()-12).attr("width",et*(At+1)+10),U.legend.selectAll("."+b.legendItem).classed(b.legendItemHidden,function(Z){return!U.isTargetToShow(Z)}),U.updateLegendItemWidth(et),U.updateLegendItemHeight(yt),U.updateLegendStep(At),U.updateSizes(),U.updateScales(),U.updateSvgSize(),U.transformAll(N,u),U.legendHasRendered=!0},i.prototype.initRegion=function(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",b.regions)},i.prototype.updateRegion=function(n){var a=this,u=a.config;a.region.style("visibility",a.hasArcType()?"hidden":"visible");var c=a.main.select("."+b.regions).selectAll("."+b.region).data(u.regions),g=c.enter().append("g");g.append("rect").attr("x",a.regionX.bind(a)).attr("y",a.regionY.bind(a)).attr("width",a.regionWidth.bind(a)).attr("height",a.regionHeight.bind(a)).style("fill-opacity",function(m){return S(m.opacity)?m.opacity:.1}),g.append("text").text(a.labelRegion.bind(a)),a.mainRegion=g.merge(c).attr("class",a.classRegion.bind(a)),c.exit().transition().duration(n).style("opacity",0).remove()},i.prototype.redrawRegion=function(n,a){var u=this,c=u.mainRegion,g=u.mainRegion.selectAll("text");return[(n?c.transition(a):c).attr("x",u.regionX.bind(u)).attr("y",u.regionY.bind(u)).attr("width",u.regionWidth.bind(u)).attr("height",u.regionHeight.bind(u)).style("fill-opacity",function(m){return S(m.opacity)?m.opacity:.1}),(n?g.transition(a):g).attr("x",u.labelOffsetX.bind(u)).attr("y",u.labelOffsetY.bind(u)).attr("transform",u.labelTransform.bind(u)).attr("style","text-anchor: left;")]},i.prototype.regionX=function(n){var a=this,u=a.config,c=n.axis==="y"?a.y:a.y2,g=n.axis==="y"||n.axis==="y2"?u.axis_rotated&&"start"in n?c(n.start):0:!u.axis_rotated&&"start"in n?a.x(a.isTimeSeries()?a.parseDate(n.start):n.start):0;return g},i.prototype.regionY=function(n){var a=this,u=a.config,c=n.axis==="y"?a.y:a.y2,g=n.axis==="y"||n.axis==="y2"?!u.axis_rotated&&"end"in n?c(n.end):0:u.axis_rotated&&"start"in n?a.x(a.isTimeSeries()?a.parseDate(n.start):n.start):0;return g},i.prototype.regionWidth=function(n){var a=this,u=a.config,c=a.regionX(n),g=n.axis==="y"?a.y:a.y2,m=n.axis==="y"||n.axis==="y2"?u.axis_rotated&&"end"in n?g(n.end):a.width:!u.axis_rotated&&"end"in n?a.x(a.isTimeSeries()?a.parseDate(n.end):n.end):a.width;return m<c?0:m-c},i.prototype.regionHeight=function(n){var a=this,u=a.config,c=this.regionY(n),g=n.axis==="y"?a.y:a.y2,m=n.axis==="y"||n.axis==="y2"?!u.axis_rotated&&"start"in n?g(n.start):a.height:u.axis_rotated&&"end"in n?a.x(a.isTimeSeries()?a.parseDate(n.end):n.end):a.height;return m<c?0:m-c},i.prototype.isRegionOnX=function(n){return!n.axis||n.axis==="x"},i.prototype.labelRegion=function(n){return"label"in n?n.label:""},i.prototype.labelTransform=function(n){return"vertical"in n&&n.vertical?"rotate(90)":""},i.prototype.labelOffsetX=function(n){var a="paddingX"in n?n.paddingX:3,u="paddingY"in n?n.paddingY:3;return"vertical"in n&&n.vertical?this.regionY(n)+u:this.regionX(n)+a},i.prototype.labelOffsetY=function(n){var a="paddingX"in n?n.paddingX:3,u="paddingY"in n?n.paddingY:3;return"vertical"in n&&n.vertical?-(this.regionX(n)+a):this.regionY(n)+10+u},i.prototype.getScale=function(n,a,u){return(u?this.d3.scaleTime():this.d3.scaleLinear()).range([n,a])},i.prototype.getX=function(n,a,u,c){var g,v=this.getScale(n,a,this.isTimeSeries()),m=u?v.domain(u):v,v=this.isCategorized()?(c=c||function(){return 0},function(x,M){var P=m(x)+c(x);return M?P:Math.ceil(P)}):function(x,M){var P=m(x);return M?P:Math.ceil(P)};for(g in m)v[g]=m[g];return v.orgDomain=function(){return m.domain()},this.isCategorized()&&(v.domain=function(x){return arguments.length?(m.domain(x),v):[(x=this.orgDomain())[0],x[1]+1]}),v},i.prototype.getY=function(n,a,u){var c;if(n==="timeseries"||n==="time")c=this.d3.scaleTime();else if(n==="log")c=W(this.d3);else{if(n!=="linear"&&n!==void 0)throw new Error('Invalid Y axis type: "'+n+'"');c=this.d3.scaleLinear()}return a&&c.domain(a),u&&c.range(u),c},i.prototype.getYScale=function(n){return this.axis.getId(n)==="y2"?this.y2:this.y},i.prototype.getSubYScale=function(n){return this.axis.getId(n)==="y2"?this.subY2:this.subY},i.prototype.updateScales=function(){var n=this,a=n.config,u=!n.x;n.xMin=a.axis_rotated?1:0,n.xMax=a.axis_rotated?n.height:n.width,n.yMin=a.axis_rotated?0:n.height,n.yMax=a.axis_rotated?n.width:1,n.subXMin=n.xMin,n.subXMax=n.xMax,n.subYMin=a.axis_rotated?0:n.height2,n.subYMax=a.axis_rotated?n.width2:1,n.x=n.getX(n.xMin,n.xMax,u?void 0:n.x.orgDomain(),function(){return n.xAxis.tickOffset()}),n.y=n.getY(a.axis_y_type,u?a.axis_y_default:n.y.domain(),[n.yMin,n.yMax]),n.y2=n.getY(a.axis_y2_type,u?a.axis_y2_default:n.y2.domain(),[n.yMin,n.yMax]),n.subX=n.getX(n.xMin,n.xMax,n.orgXDomain,function(c){return c%1?0:n.subXAxis.tickOffset()}),n.subY=n.getY(a.axis_y_type,u?a.axis_y_default:n.subY.domain(),[n.subYMin,n.subYMax]),n.subY2=n.getY(a.axis_y2_type,u?a.axis_y2_default:n.subY2.domain(),[n.subYMin,n.subYMax]),n.xAxisTickFormat=n.axis.getXAxisTickFormat(),n.xAxisTickValues=n.axis.getXAxisTickValues(),n.yAxisTickValues=n.axis.getYAxisTickValues(),n.y2AxisTickValues=n.axis.getY2AxisTickValues(),n.xAxis=n.axis.getXAxis(n.x,n.xOrient,n.xAxisTickFormat,n.xAxisTickValues,a.axis_x_tick_outer),n.subXAxis=n.axis.getXAxis(n.subX,n.subXOrient,n.xAxisTickFormat,n.xAxisTickValues,a.axis_x_tick_outer),n.yAxis=n.axis.getYAxis("y",n.y,n.yOrient,n.yAxisTickValues,a.axis_y_tick_outer),n.y2Axis=n.axis.getYAxis("y2",n.y2,n.y2Orient,n.y2AxisTickValues,a.axis_y2_tick_outer),u||n.brush&&n.brush.updateScale(n.subX),n.updateArc&&n.updateArc()},i.prototype.selectPoint=function(n,a,u){var c=this,g=c.config,m=(g.axis_rotated?c.circleY:c.circleX).bind(c),v=(g.axis_rotated?c.circleX:c.circleY).bind(c),x=c.pointSelectR.bind(c);g.data_onselected.call(c.api,a,n.node()),c.main.select("."+b.selectedCircles+c.getTargetSelectorSuffix(a.id)).selectAll("."+b.selectedCircle+"-"+u).data([a]).enter().append("circle").attr("class",function(){return c.generateClass(b.selectedCircle,u)}).attr("cx",m).attr("cy",v).attr("stroke",function(){return c.color(a)}).attr("r",function(M){return 1.4*c.pointSelectR(M)}).transition().duration(100).attr("r",x)},i.prototype.unselectPoint=function(n,a,u){this.config.data_onunselected.call(this.api,a,n.node()),this.main.select("."+b.selectedCircles+this.getTargetSelectorSuffix(a.id)).selectAll("."+b.selectedCircle+"-"+u).transition().duration(100).attr("r",0).remove()},i.prototype.togglePoint=function(n,a,u,c){n?this.selectPoint(a,u,c):this.unselectPoint(a,u,c)},i.prototype.selectPath=function(n,a){var u=this;u.config.data_onselected.call(u,a,n.node()),u.config.interaction_brighten&&n.transition().duration(100).style("fill",function(){return u.d3.rgb(u.color(a)).brighter(.75)})},i.prototype.unselectPath=function(n,a){var u=this;u.config.data_onunselected.call(u,a,n.node()),u.config.interaction_brighten&&n.transition().duration(100).style("fill",function(){return u.color(a)})},i.prototype.togglePath=function(n,a,u,c){n?this.selectPath(a,u,c):this.unselectPath(a,u,c)},i.prototype.getToggle=function(n,a){var u;return n.nodeName==="circle"?u=this.isStepType(a)?function(){}:this.togglePoint:n.nodeName==="path"&&(u=this.togglePath),u},i.prototype.toggleShape=function(n,a,u){var c=this,g=c.d3,m=c.config,v=g.select(n),x=v.classed(b.SELECTED),M=c.getToggle(n,a).bind(c);m.data_selection_enabled&&m.data_selection_isselectable(a)&&(m.data_selection_multiple||c.main.selectAll("."+b.shapes+(m.data_selection_grouped?c.getTargetSelectorSuffix(a.id):"")).selectAll("."+b.shape).each(function(P,V){var O=g.select(this);O.classed(b.SELECTED)&&M(!1,O.classed(b.SELECTED,!1),P,V)}),v.classed(b.SELECTED,!x),M(!x,v,a,u))},i.prototype.initBar=function(){this.main.select("."+b.chart).append("g").attr("class",b.chartBars)},i.prototype.updateTargetsForBar=function(n){var a=this,u=a.config,c=a.classChartBar.bind(a),g=a.classBars.bind(a),m=a.classFocus.bind(a);a.main.select("."+b.chartBars).selectAll("."+b.chartBar).data(n).attr("class",function(v){return c(v)+m(v)}).enter().append("g").attr("class",c).style("pointer-events","none").append("g").attr("class",g).style("cursor",function(v){return u.data_selection_isselectable(v)?"pointer":null})},i.prototype.updateBar=function(n){function a(M){return u.color(M.id)}var u=this,c=u.barData.bind(u),g=u.classBar.bind(u),m=u.initialOpacity.bind(u),v=u.main.selectAll("."+b.bars).selectAll("."+b.bar).data(c),x=v.enter().append("path").attr("class",g).style("stroke",a).style("fill",a);u.mainBar=x.merge(v).style("opacity",m),v.exit().transition().duration(n).style("opacity",0)},i.prototype.redrawBar=function(n,a,u){var c=this;return[(a?this.mainBar.transition(u):this.mainBar).attr("d",n).style("stroke",this.color).style("fill",this.color).style("opacity",function(g){return c.isTargetToShow(g.id)?1:0})]},i.prototype.getBarW=function(n,a){var u=this.config,c=typeof u.bar_width=="number"?u.bar_width:a?n.tickInterval()*u.bar_width_ratio/a:0;return u.bar_width_max&&c>u.bar_width_max?u.bar_width_max:c},i.prototype.getBars=function(n,a){return(a?this.main.selectAll("."+b.bars+this.getTargetSelectorSuffix(a)):this.main).selectAll("."+b.bar+(S(n)?"-"+n:""))},i.prototype.expandBars=function(n,a,u){u&&this.unexpandBars(),this.getBars(n,a).classed(b.EXPANDED,!0)},i.prototype.unexpandBars=function(n){this.getBars(n).classed(b.EXPANDED,!1)},i.prototype.generateDrawBar=function(n,a){var u=this.config,c=this.generateGetBarPoints(n,a);return function(g,m){var v=c(g,m),x=u.axis_rotated?1:0,M=u.axis_rotated?0:1;return"M "+v[0][x]+","+v[0][M]+" L"+v[1][x]+","+v[1][M]+" L"+v[2][x]+","+v[2][M]+" L"+v[3][x]+","+v[3][M]+" z"}},i.prototype.generateGetBarPoints=function(n,a){var u=this,c=a?u.subXAxis:u.xAxis,g=n.__max__+1,m=u.getBarW(c,g),v=u.getShapeX(m,g,n,!!a),x=u.getShapeY(!!a),M=u.getShapeOffset(u.isBarType,n,!!a),P=m*(u.config.bar_space/2),V=a?u.getSubYScale:u.getYScale;return function(O,H){var D=V.call(u,O.id)(0),N=M(O,H)||D,B=v(O),q=x(O);return u.config.axis_rotated&&(0<O.value&&q<D||O.value<0&&D<q)&&(q=D),[[B+P,N],[B+P,q-=D-N],[B+m-P,q],[B+m-P,N]]}},i.prototype.isWithinBar=function(n,a){return function(u,c,g){g===void 0&&(g=0);var m=c.x-g,v=c.x+c.width+g,x=c.y+c.height+g,M=c.y-g;return m<u[0]&&u[0]<v&&M<u[1]&&u[1]<x}(n,k(a),2)},i.prototype.getShapeIndices=function(n){var a,u,c=this.config,g={},m=0;return this.filterTargetsToShow(this.data.targets.filter(n,this)).forEach(function(v){for(a=0;a<c.data_groups.length;a++)if(!(c.data_groups[a].indexOf(v.id)<0)){for(u=0;u<c.data_groups[a].length;u++)if(c.data_groups[a][u]in g){g[v.id]=g[c.data_groups[a][u]];break}}w(g[v.id])&&(g[v.id]=m++)}),g.__max__=m-1,g},i.prototype.getShapeX=function(n,a,u,c){var g=c?this.subX:this.x;return function(m){var v=m.id in u?u[m.id]:0;return m.x||m.x===0?g(m.x)-n*(a/2-v):0}},i.prototype.getShapeY=function(n){var a=this;return function(u){return(n?a.getSubYScale(u.id):a.getYScale(u.id))(a.isTargetNormalized(u.id)?a.getRatio("index",u,!0):u.value)}},i.prototype.getShapeOffset=function(n,a,u){var c=this,g=c.orderTargets(c.filterTargetsToShow(c.data.targets.filter(n,c))),m=g.map(function(v){return v.id});return function(v,x){var M=u?c.getSubYScale(v.id):c.getYScale(v.id),P=M(0),V=P;return g.forEach(function(O){var H=c.isStepType(v)?c.convertValuesToStep(O.values):O.values,D=c.isTargetNormalized(v.id),N=H.map(function(B){return D?c.getRatio("index",B,!0):B.value});O.id!==v.id&&a[O.id]===a[v.id]&&m.indexOf(O.id)<m.indexOf(v.id)&&(!w(H[x])&&+H[x].x==+v.x||(x=-1,H.forEach(function(B,q){(B.x.constructor===Date?+B.x:B.x)===(v.x.constructor===Date?+v.x:v.x)&&(x=q)})),x in H&&0<=H[x].value*v.value&&(V+=M(N[x])-P))}),V}},i.prototype.isWithinShape=function(n,a){var u,c=this,g=c.d3.select(n);return c.isTargetToShow(a.id)?n.nodeName==="circle"?u=c.isStepType(a)?c.isWithinStep(n,c.getYScale(a.id)(a.value)):c.isWithinCircle(n,1.5*c.pointSelectR(a)):n.nodeName==="path"&&(u=!g.classed(b.bar)||c.isWithinBar(c.d3.mouse(n),n)):u=!1,u},i.prototype.getInterpolate=function(n){var a=this,u=a.d3,c={linear:u.curveLinear,"linear-closed":u.curveLinearClosed,basis:u.curveBasis,"basis-open":u.curveBasisOpen,"basis-closed":u.curveBasisClosed,bundle:u.curveBundle,cardinal:u.curveCardinal,"cardinal-open":u.curveCardinalOpen,"cardinal-closed":u.curveCardinalClosed,monotone:u.curveMonotoneX,step:u.curveStep,"step-before":u.curveStepBefore,"step-after":u.curveStepAfter},g=a.isSplineType(n)?c[a.config.spline_interpolation_type]||c.cardinal:a.isStepType(n)?c[a.config.line_step_type]:c.linear;return g},i.prototype.initLine=function(){this.main.select("."+b.chart).append("g").attr("class",b.chartLines)},i.prototype.updateTargetsForLine=function(n){var a=this,u=a.config,c=a.classChartLine.bind(a),g=a.classLines.bind(a),m=a.classAreas.bind(a),v=a.classCircles.bind(a),x=a.classFocus.bind(a),M=a.main.select("."+b.chartLines).selectAll("."+b.chartLine).data(n).attr("class",function(P){return c(P)+x(P)}).enter().append("g").attr("class",c).style("opacity",0).style("pointer-events","none");M.append("g").attr("class",g),M.append("g").attr("class",m),M.append("g").attr("class",function(P){return a.generateClass(b.selectedCircles,P.id)}),M.append("g").attr("class",v).style("cursor",function(P){return u.data_selection_isselectable(P)?"pointer":null}),n.forEach(function(P){a.main.selectAll("."+b.selectedCircles+a.getTargetSelectorSuffix(P.id)).selectAll("."+b.selectedCircle).each(function(V){V.value=P.values[V.index].value})})},i.prototype.updateLine=function(n){var a=this,u=a.main.selectAll("."+b.lines).selectAll("."+b.line).data(a.lineData.bind(a)),c=u.enter().append("path").attr("class",a.classLine.bind(a)).style("stroke",a.color);a.mainLine=c.merge(u).style("opacity",a.initialOpacity.bind(a)).style("shape-rendering",function(g){return a.isStepType(g)?"crispEdges":""}).attr("transform",null),u.exit().transition().duration(n).style("opacity",0)},i.prototype.redrawLine=function(n,a,u){return[(a?this.mainLine.transition(u):this.mainLine).attr("d",n).style("stroke",this.color).style("opacity",1)]},i.prototype.generateDrawLine=function(n,a){function u(P){return(a?g.subxx:g.xx).call(g,P)}function c(P,V){return 0<m.data_groups.length?v(P,V)[0][1]:x.call(g,P.id)(P.value)}var g=this,m=g.config,M=g.d3.line(),v=g.generateGetLinePoints(n,a),x=a?g.getSubYScale:g.getYScale,M=m.axis_rotated?M.x(c).y(u):M.x(u).y(c);return m.line_connectNull||(M=M.defined(function(P){return P.value!=null})),function(P){var V=m.line_connectNull?g.filterRemoveNull(P.values):P.values,O=a?g.subX:g.x,H=x.call(g,P.id),D=0,N=0,B=g.isLineType(P)?m.data_regions[P.id]?g.lineWithRegions(V,O,H,m.data_regions[P.id]):(g.isStepType(P)&&(V=g.convertValuesToStep(V)),M.curve(g.getInterpolate(P))(V)):(V[0]&&(D=O(V[0].x),N=H(V[0].value)),m.axis_rotated?"M "+N+" "+D:"M "+D+" "+N);return B||"M 0 0"}},i.prototype.generateGetLinePoints=function(n,a){var u=this,c=u.config,g=n.__max__+1,m=u.getShapeX(0,g,n,!!a),v=u.getShapeY(!!a),x=u.getShapeOffset(u.isLineType,n,!!a),M=a?u.getSubYScale:u.getYScale;return function(P,V){var O=M.call(u,P.id)(0),H=x(P,V)||O,D=m(P),N=v(P);return c.axis_rotated&&(0<P.value&&N<O||P.value<0&&O<N)&&(N=O),[[D,N-(O-H)],[D,N-(O-H)],[D,N-(O-H)],[D,N-(O-H)]]}},i.prototype.lineWithRegions=function(n,a,u,c){var g,m,v,x,M,P,V,O,H,D,N,B=this,q=B.config,G="M",rt=B.isCategorized()?.5:0,U=[];if(L(c))for(g=0;g<c.length;g++)U[g]={},w(c[g].start)?U[g].start=n[0].x:U[g].start=B.isTimeSeries()?B.parseDate(c[g].start):c[g].start,w(c[g].end)?U[g].end=n[n.length-1].x:U[g].end=B.isTimeSeries()?B.parseDate(c[g].end):c[g].end;function j(J){return"M"+J[0][0]+" "+J[0][1]+" "+J[1][0]+" "+J[1][1]}for(D=q.axis_rotated?function(J){return u(J.value)}:function(J){return a(J.x)},N=q.axis_rotated?function(J){return a(J.x)}:function(J){return u(J.value)},v=B.isTimeSeries()?function(J,ht,et,yt){var st=J.x.getTime(),nt=ht.x-J.x,ut=new Date(st+nt*et),Vt=new Date(st+nt*(et+yt)),Gt=q.axis_rotated?[[u(M(et)),a(ut)],[u(M(et+yt)),a(Vt)]]:[[a(ut),u(M(et))],[a(Vt),u(M(et+yt))]];return j(Gt)}:function(J,ht,et,yt){var st=q.axis_rotated?[[u(M(et),!0),a(x(et))],[u(M(et+yt),!0),a(x(et+yt))]]:[[a(x(et),!0),u(M(et))],[a(x(et+yt),!0),u(M(et+yt))]];return j(st)},g=0;g<n.length;g++){if(w(U)||!function(J,ht){for(var et=0;et<ht.length;et++)if(ht[et].start<J&&J<=ht[et].end)return 1}(n[g].x,U))G+=" "+D(n[g])+" "+N(n[g]);else for(x=B.getScale(n[g-1].x+rt,n[g].x+rt,B.isTimeSeries()),M=B.getScale(n[g-1].value,n[g].value),P=a(n[g].x)-a(n[g-1].x),V=u(n[g].value)-u(n[g-1].value),H=2*(O=2/Math.sqrt(Math.pow(P,2)+Math.pow(V,2))),m=O;m<=1;m+=H)G+=v(n[g-1],n[g],m,O);n[g].x}return G},i.prototype.updateArea=function(n){var a=this,u=a.d3,c=a.main.selectAll("."+b.areas).selectAll("."+b.area).data(a.lineData.bind(a)),g=c.enter().append("path").attr("class",a.classArea.bind(a)).style("fill",a.color).style("opacity",function(){return a.orgAreaOpacity=+u.select(this).style("opacity"),0});a.mainArea=g.merge(c).style("opacity",a.orgAreaOpacity),c.exit().transition().duration(n).style("opacity",0)},i.prototype.redrawArea=function(n,a,u){return[(a?this.mainArea.transition(u):this.mainArea).attr("d",n).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},i.prototype.generateDrawArea=function(n,a){function u(V){return(a?m.subxx:m.xx).call(m,V)}function c(V,O){return 0<v.data_groups.length?x(V,O)[0][1]:M.call(m,V.id)(m.getAreaBaseValue(V.id))}function g(V,O){return 0<v.data_groups.length?x(V,O)[1][1]:M.call(m,V.id)(V.value)}var m=this,v=m.config,P=m.d3.area(),x=m.generateGetAreaPoints(n,a),M=a?m.getSubYScale:m.getYScale,P=v.axis_rotated?P.x0(c).x1(g).y(u):P.x(u).y0(v.area_above?0:c).y1(g);return v.line_connectNull||(P=P.defined(function(V){return V.value!==null})),function(V){var O=v.line_connectNull?m.filterRemoveNull(V.values):V.values,H=0,D=0,N=m.isAreaType(V)?(m.isStepType(V)&&(O=m.convertValuesToStep(O)),P.curve(m.getInterpolate(V))(O)):(O[0]&&(H=m.x(O[0].x),D=m.getYScale(V.id)(O[0].value)),v.axis_rotated?"M "+D+" "+H:"M "+H+" "+D);return N||"M 0 0"}},i.prototype.getAreaBaseValue=function(){return 0},i.prototype.generateGetAreaPoints=function(n,a){var u=this,c=u.config,g=n.__max__+1,m=u.getShapeX(0,g,n,!!a),v=u.getShapeY(!!a),x=u.getShapeOffset(u.isAreaType,n,!!a),M=a?u.getSubYScale:u.getYScale;return function(P,V){var O=M.call(u,P.id)(0),H=x(P,V)||O,D=m(P),N=v(P);return c.axis_rotated&&(0<P.value&&N<O||P.value<0&&O<N)&&(N=O),[[D,H],[D,N-(O-H)],[D,N-(O-H)],[D,H]]}},i.prototype.updateCircle=function(n,a){var u=this,c=u.main.selectAll("."+b.circles).selectAll("."+b.circle).data(u.lineOrScatterOrStanfordData.bind(u)),g=c.enter().append("circle").attr("shape-rendering",u.isStanfordGraphType()?"crispEdges":"").attr("class",u.classCircle.bind(u)).attr("cx",n).attr("cy",a).attr("r",u.pointR.bind(u)).style("color",u.isStanfordGraphType()?u.getStanfordPointColor.bind(u):u.color);u.mainCircle=g.merge(c).style("opacity",u.isStanfordGraphType()?1:u.initialOpacityForCircle.bind(u)),c.exit().style("opacity",0)},i.prototype.redrawCircle=function(n,a,u,c){var g=this,m=g.main.selectAll("."+b.selectedCircle);return[(u?g.mainCircle.transition(c):g.mainCircle).style("opacity",this.opacityForCircle.bind(g)).style("color",g.isStanfordGraphType()?g.getStanfordPointColor.bind(g):g.color).attr("cx",n).attr("cy",a),(u?m.transition(c):m).attr("cx",n).attr("cy",a)]},i.prototype.circleX=function(n){return n.x||n.x===0?this.x(n.x):null},i.prototype.updateCircleY=function(){var n,a,u=this;0<u.config.data_groups.length?(n=u.getShapeIndices(u.isLineType),a=u.generateGetLinePoints(n),u.circleY=function(c,g){return a(c,g)[0][1]}):u.circleY=function(c){return u.getYScale(c.id)(c.value)}},i.prototype.getCircles=function(n,a){return(a?this.main.selectAll("."+b.circles+this.getTargetSelectorSuffix(a)):this.main).selectAll("."+b.circle+(S(n)?"-"+n:""))},i.prototype.expandCircles=function(n,a,u){var c=this.pointExpandedR.bind(this);u&&this.unexpandCircles(),this.getCircles(n,a).classed(b.EXPANDED,!0).attr("r",c)},i.prototype.unexpandCircles=function(n){var a=this,u=a.pointR.bind(a);a.getCircles(n).filter(function(){return a.d3.select(this).classed(b.EXPANDED)}).classed(b.EXPANDED,!1).attr("r",u)},i.prototype.pointR=function(n){var a=this.config;return this.isStepType(n)?0:_(a.point_r)?a.point_r(n):a.point_r},i.prototype.pointExpandedR=function(n){var a=this.config;return a.point_focus_expand_enabled?_(a.point_focus_expand_r)?a.point_focus_expand_r(n):a.point_focus_expand_r?a.point_focus_expand_r:1.75*this.pointR(n):this.pointR(n)},i.prototype.pointSelectR=function(n){var a=this.config;return _(a.point_select_r)?a.point_select_r(n):a.point_select_r?a.point_select_r:4*this.pointR(n)},i.prototype.isWithinCircle=function(n,a){var u=this.d3,c=u.mouse(n),g=u.select(n),m=+g.attr("cx"),v=+g.attr("cy");return Math.sqrt(Math.pow(m-c[0],2)+Math.pow(v-c[1],2))<a},i.prototype.isWithinStep=function(n,a){return Math.abs(a-this.d3.mouse(n)[1])<30},i.prototype.getCurrentWidth=function(){var n=this.config;return n.size_width?n.size_width:this.getParentWidth()},i.prototype.getCurrentHeight=function(){var n=this.config,a=n.size_height?n.size_height:this.getParentHeight();return 0<a?a:320/(this.hasType("gauge")&&!n.gauge_fullCircle?2:1)},i.prototype.getCurrentPaddingTop=function(){var n=this.config,a=S(n.padding_top)?n.padding_top:0;return this.title&&this.title.node()&&(a+=this.getTitlePadding()),a},i.prototype.getCurrentPaddingBottom=function(){var n=this.config;return S(n.padding_bottom)?n.padding_bottom:0},i.prototype.getCurrentPaddingLeft=function(n){var a=this.config;return S(a.padding_left)?a.padding_left:a.axis_rotated?!a.axis_x_show||a.axis_x_inner?1:Math.max(s(this.getAxisWidthByAxisId("x",n)),40):!a.axis_y_show||a.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:s(this.getAxisWidthByAxisId("y",n))},i.prototype.getCurrentPaddingRight=function(){var n=this,a=n.config,c=0,u=n.isLegendRight?n.getLegendWidth()+20:0,c=S(a.padding_right)?a.padding_right+1:a.axis_rotated?10+u:!a.axis_y2_show||a.axis_y2_inner?2+u+(n.axis.getY2AxisLabelPosition().isOuter?20:0):s(n.getAxisWidthByAxisId("y2"))+u;return n.colorScale&&n.colorScale.node()&&(c+=n.getColorScalePadding()),c},i.prototype.getParentRectValue=function(n){for(var a,u=this.selectChart.node();u&&u.tagName!=="BODY";){try{a=u.getBoundingClientRect()[n]}catch{n==="width"&&(a=u.offsetWidth)}if(a)break;u=u.parentNode}return a},i.prototype.getParentWidth=function(){return this.getParentRectValue("width")},i.prototype.getParentHeight=function(){var n=this.selectChart.style("height");return 0<n.indexOf("px")?+n.replace("px",""):0},i.prototype.getSvgLeft=function(n){var a=this,u=a.config,c=u.axis_rotated||!u.axis_rotated&&!u.axis_y_inner,g=u.axis_rotated?b.axisX:b.axisY,m=a.main.select("."+g).node(),v=m&&c?m.getBoundingClientRect():{right:0},x=a.selectChart.node().getBoundingClientRect(),M=a.hasArcType(),P=v.right-x.left-(M?0:a.getCurrentPaddingLeft(n));return 0<P?P:0},i.prototype.getAxisWidthByAxisId=function(n,a){var u=this.axis.getLabelPositionById(n);return this.axis.getMaxTickWidth(n,a)+(u.isInner?20:40)},i.prototype.getHorizontalAxisHeight=function(n,a){var u=this,c=u.config,g=30;return n!=="x"||(L(a)&&a?c.subchart_axis_x_show:c.axis_x_show)?n==="x"&&c.axis_x_height?c.axis_x_height:n!=="y"||c.axis_y_show?n!=="y2"||c.axis_y2_show?(n==="x"&&!c.axis_rotated&&c.axis_x_tick_rotate&&(g=30+u.axis.getMaxTickWidth(n)*Math.cos(Math.PI*(90-Math.abs(c.axis_x_tick_rotate))/180)),n==="y"&&c.axis_rotated&&c.axis_y_tick_rotate&&(g=30+u.axis.getMaxTickWidth(n)*Math.cos(Math.PI*(90-Math.abs(c.axis_y_tick_rotate))/180)),g+(u.axis.getLabelPositionById(n).isInner?0:10)+(n==="y2"?-10:0)):u.rotated_padding_top:!c.legend_show||u.isLegendRight||u.isLegendInset?1:10:8},i.prototype.initBrush=function(n){var a=this,u=a.d3;return a.brush=(a.config.axis_rotated?u.brushY():u.brushX()).on("brush",function(){var c=u.event.sourceEvent;c&&c.type==="zoom"||a.redrawForBrush()}).on("end",function(){var c=u.event.sourceEvent;c&&c.type==="zoom"||a.brush.empty()&&c&&c.type!=="end"&&a.brush.clear()}),a.brush.updateExtent=function(){var c=this.scale.range(),g=a.config.axis_rotated?[[0,c[0]],[a.width2,c[1]]]:[[c[0],0],[c[1],a.height2]];return this.extent(g),this},a.brush.updateScale=function(c){return this.scale=c,this},a.brush.update=function(c){this.updateScale(c||a.subX).updateExtent(),a.context.select("."+b.brush).call(this)},a.brush.clear=function(){a.context.select("."+b.brush).call(a.brush.move,null)},a.brush.selection=function(){return u.brushSelection(a.context.select("."+b.brush).node())},a.brush.selectionAsValue=function(c,g){var m,v;return c?(a.context&&(m=[this.scale(c[0]),this.scale(c[1])],v=a.context.select("."+b.brush),g&&(v=v.transition()),a.brush.move(v,m)),[]):(m=a.brush.selection()||[0,0],[this.scale.invert(m[0]),this.scale.invert(m[1])])},a.brush.empty=function(){var c=a.brush.selection();return!c||c[0]===c[1]},a.brush.updateScale(n)},i.prototype.initSubchart=function(){var n=this,a=n.config,u=n.context=n.svg.append("g").attr("transform",n.getTranslate("context"));u.style("visibility","visible"),u.append("g").attr("clip-path",n.clipPathForSubchart).attr("class",b.chart),u.select("."+b.chart).append("g").attr("class",b.chartBars),u.select("."+b.chart).append("g").attr("class",b.chartLines),u.append("g").attr("clip-path",n.clipPath).attr("class",b.brush),n.axes.subx=u.append("g").attr("class",b.axisX).attr("transform",n.getTranslate("subx")).attr("clip-path",a.axis_rotated?"":n.clipPathForXAxis).style("visibility",a.subchart_axis_x_show?"visible":"hidden")},i.prototype.initSubchartBrush=function(){this.initBrush(this.subX).updateExtent(),this.context.select("."+b.brush).call(this.brush)},i.prototype.updateTargetsForSubchart=function(n){var a,u,c=this,g=c.context,m=c.config,v=c.classChartBar.bind(c),x=c.classBars.bind(c),M=c.classChartLine.bind(c),P=c.classLines.bind(c),V=c.classAreas.bind(c),O=g.select("."+b.chartBars).selectAll("."+b.chartBar).data(n),H=O.enter().append("g").style("opacity",0);H.merge(O).attr("class",v),H.append("g").attr("class",x),(a=(u=g.select("."+b.chartLines).selectAll("."+b.chartLine).data(n)).enter().append("g").style("opacity",0)).merge(u).attr("class",M),a.append("g").attr("class",P),a.append("g").attr("class",V),g.selectAll("."+b.brush+" rect").attr(m.axis_rotated?"width":"height",m.axis_rotated?c.width2:c.height2)},i.prototype.updateBarForSubchart=function(n){var a=this,u=a.context.selectAll("."+b.bars).selectAll("."+b.bar).data(a.barData.bind(a)),c=u.enter().append("path").attr("class",a.classBar.bind(a)).style("stroke","none").style("fill",a.color);u.exit().transition().duration(n).style("opacity",0).remove(),a.contextBar=c.merge(u).style("opacity",a.initialOpacity.bind(a))},i.prototype.redrawBarForSubchart=function(n,a,u){(a?this.contextBar.transition(Math.random().toString()).duration(u):this.contextBar).attr("d",n).style("opacity",1)},i.prototype.updateLineForSubchart=function(n){var a=this,u=a.context.selectAll("."+b.lines).selectAll("."+b.line).data(a.lineData.bind(a)),c=u.enter().append("path").attr("class",a.classLine.bind(a)).style("stroke",a.color);u.exit().transition().duration(n).style("opacity",0).remove(),a.contextLine=c.merge(u).style("opacity",a.initialOpacity.bind(a))},i.prototype.redrawLineForSubchart=function(n,a,u){(a?this.contextLine.transition(Math.random().toString()).duration(u):this.contextLine).attr("d",n).style("opacity",1)},i.prototype.updateAreaForSubchart=function(n){var a=this,u=a.d3,c=a.context.selectAll("."+b.areas).selectAll("."+b.area).data(a.lineData.bind(a)),g=c.enter().append("path").attr("class",a.classArea.bind(a)).style("fill",a.color).style("opacity",function(){return a.orgAreaOpacity=+u.select(this).style("opacity"),0});c.exit().transition().duration(n).style("opacity",0).remove(),a.contextArea=g.merge(c).style("opacity",0)},i.prototype.redrawAreaForSubchart=function(n,a,u){(a?this.contextArea.transition(Math.random().toString()).duration(u):this.contextArea).attr("d",n).style("fill",this.color).style("opacity",this.orgAreaOpacity)},i.prototype.redrawSubchart=function(n,a,u,c,g,m,v){var x,M,P,V=this,O=V.d3;O.event&&O.event.type==="zoom"&&V.brush.selectionAsValue(V.x.orgDomain()),n&&(V.brush.empty()||V.brush.selectionAsValue(V.x.orgDomain()),x=V.generateDrawArea(g,!0),M=V.generateDrawBar(m,!0),P=V.generateDrawLine(v,!0),V.updateBarForSubchart(u),V.updateLineForSubchart(u),V.updateAreaForSubchart(u),V.redrawBarForSubchart(M,u,u),V.redrawLineForSubchart(P,u,u),V.redrawAreaForSubchart(x,u,u))},i.prototype.redrawForBrush=function(){var n,a=this,u=a.x,c=a.d3;a.redraw({withTransition:!1,withY:a.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),n=c.event.selection||a.brush.scale.range(),a.main.select("."+b.eventRect).call(a.zoom.transform,c.zoomIdentity.scale(a.width/(n[1]-n[0])).translate(-n[0],0)),a.config.subchart_onbrush.call(a.api,u.orgDomain())},i.prototype.transformContext=function(n,a){var u;a&&a.axisSubX?u=a.axisSubX:(u=this.context.select("."+b.axisX),n&&(u=u.transition())),this.context.attr("transform",this.getTranslate("context")),u.attr("transform",this.getTranslate("subx"))},i.prototype.getDefaultSelection=function(){var n=this,a=n.config,u=_(a.axis_x_selection)?a.axis_x_selection(n.getXDomain(n.data.targets)):a.axis_x_selection;return n.isTimeSeries()&&(u=[n.parseDate(u[0]),n.parseDate(u[1])]),u},i.prototype.removeSubchart=function(){this.brush=null,this.context.remove(),this.context=null},i.prototype.initText=function(){this.main.select("."+b.chart).append("g").attr("class",b.chartTexts),this.mainText=this.d3.selectAll([])},i.prototype.updateTargetsForText=function(n){var a=this,u=a.classChartText.bind(a),c=a.classTexts.bind(a),g=a.classFocus.bind(a),m=a.main.select("."+b.chartTexts).selectAll("."+b.chartText).data(n),v=m.enter().append("g").attr("class",u).style("opacity",0).style("pointer-events","none");v.append("g").attr("class",c),v.merge(m).attr("class",function(x){return u(x)+g(x)})},i.prototype.updateText=function(n,a,u){var c=this,g=c.config,m=c.barOrLineData.bind(c),v=c.classText.bind(c),x=c.main.selectAll("."+b.texts).selectAll("."+b.text).data(m),M=x.enter().append("text").attr("class",v).attr("text-anchor",function(P){return g.axis_rotated?P.value<0?"end":"start":"middle"}).style("stroke","none").attr("x",n).attr("y",a).style("fill",function(P){return c.color(P)}).style("fill-opacity",0);c.mainText=M.merge(x).text(function(P,V,O){return c.dataLabelFormat(P.id)(P.value,P.id,V,O)}),x.exit().transition().duration(u).style("fill-opacity",0).remove()},i.prototype.redrawText=function(n,a,u,c,g){return[(c?this.mainText.transition(g):this.mainText).attr("x",n).attr("y",a).style("fill",this.color).style("fill-opacity",u?0:this.opacityForText.bind(this))]},i.prototype.getTextRect=function(n,a,u){var c,g=this.d3.select("body").append("div").classed("c3",!0),m=g.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),v=this.d3.select(u).style("font");return m.selectAll(".dummy").data([n]).enter().append("text").classed(a||"",!0).style("font",v).text(n).each(function(){c=k(this)}),g.remove(),c},i.prototype.generateXYForText=function(n,a,u,c){var g=this,m=g.generateGetAreaPoints(n,!1),v=g.generateGetBarPoints(a,!1),x=g.generateGetLinePoints(u,!1),M=c?g.getXForText:g.getYForText;return function(P,V){var O=g.isAreaType(P)?m:g.isBarType(P)?v:x;return M.call(g,O(P,V),P,this)}},i.prototype.getXForText=function(n,a,u){var c,g=this,m=k(u),v=g.config.axis_rotated?(c=g.isBarType(a)?4:6,n[2][1]+c*(a.value<0?-1:1)):g.hasType("bar")?(n[2][0]+n[0][0])/2:n[0][0];return a.value===null&&(v>g.width?v=g.width-m.width:v<0&&(v=4)),v},i.prototype.getYForText=function(n,a,u){var c,g=this,m=k(u);return g.config.axis_rotated?c=(n[0][0]+n[2][0]+.6*m.height)/2:(c=n[2][1],a.value<0||a.value===0&&!g.hasPositiveValue?(c+=m.height,g.isBarType(a)&&g.isSafari()?c-=3:!g.isBarType(a)&&g.isChrome()&&(c+=3)):c+=g.isBarType(a)?-3:-6),a.value!==null||g.config.axis_rotated||(c<m.height?c=m.height:c>this.height&&(c=this.height-4)),c},i.prototype.initTitle=function(){this.title=this.svg.append("text").text(this.config.title_text).attr("class",this.CLASS.title)},i.prototype.redrawTitle=function(){var n=this;n.title.attr("x",n.xForTitle.bind(n)).attr("y",n.yForTitle.bind(n))},i.prototype.xForTitle=function(){var n=this,a=n.config,u=a.title_position||"left",c=0<=u.indexOf("right")?n.currentWidth-n.getTextRect(n.title.node().textContent,n.CLASS.title,n.title.node()).width-a.title_padding.right:0<=u.indexOf("center")?Math.max((n.currentWidth-n.getTextRect(n.title.node().textContent,n.CLASS.title,n.title.node()).width)/2,0):a.title_padding.left;return c},i.prototype.yForTitle=function(){var n=this;return n.config.title_padding.top+n.getTextRect(n.title.node().textContent,n.CLASS.title,n.title.node()).height},i.prototype.getTitlePadding=function(){return this.yForTitle()+this.config.title_padding.bottom},i.prototype.drawColorScale=function(){var n,a,u,c,g,m,v=this,x=v.d3,M=v.config,P=v.data.targets[0],V=isNaN(M.stanford_scaleWidth)?20:M.stanford_scaleWidth;if(V<0)throw Error("Colorscale's barheight and barwidth must be greater than 0.");m=v.height-M.stanford_padding.bottom-M.stanford_padding.top,a=x.range(M.stanford_padding.bottom,m,5),g=x.scaleSequential(P.colors).domain([a[a.length-1],a[0]]),v.colorScale&&v.colorScale.remove(),v.colorScale=v.svg.append("g").attr("width",50).attr("height",m).attr("class",b.colorScale),v.colorScale.append("g").attr("transform","translate(0, "+M.stanford_padding.top+")").selectAll("bars").data(a).enter().append("rect").attr("y",function(O,H){return 5*H}).attr("x",0).attr("width",V).attr("height",5).attr("fill",function(O){return g(O)}),c=x.scaleLog().domain([P.minEpochs,P.maxEpochs]).range([a[0]+M.stanford_padding.top+a[a.length-1]+5-1,a[0]+M.stanford_padding.top]),u=x.axisRight(c),M.stanford_scaleFormat==="pow10"?u.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):_(M.stanford_scaleFormat)?u.tickFormat(M.stanford_scaleFormat):u.tickFormat(x.format("d")),_(M.stanford_scaleValues)&&u.tickValues(M.stanford_scaleValues(P.minEpochs,P.maxEpochs)),n=v.colorScale.append("g").attr("class","legend axis").attr("transform","translate("+V+",0)").call(u),M.stanford_scaleFormat==="pow10"&&n.selectAll(".tick text").text(null).filter(Y).text(10).append("tspan").attr("dy","-.7em").text(function(O){return Math.round(Math.log(O)/Math.LN10)}),v.colorScale.attr("transform","translate("+(v.currentWidth-v.xForColorScale())+", 0)")},i.prototype.xForColorScale=function(){return this.config.stanford_padding.right+k(this.colorScale.node()).width},i.prototype.getColorScalePadding=function(){return this.xForColorScale()+this.config.stanford_padding.left+20},i.prototype.isStanfordGraphType=function(){return this.config.data_type==="stanford"},i.prototype.initStanfordData=function(){var n,a,u,c=this.d3,g=this.config,m=this.data.targets[0];if(m.values.sort(Q),n=m.values.map(function(v){return v.epochs}),u=isNaN(g.stanford_scaleMin)?c.min(n):g.stanford_scaleMin,(a=isNaN(g.stanford_scaleMax)?c.max(n):g.stanford_scaleMax)<u)throw Error("Number of minEpochs has to be smaller than maxEpochs");m.colors=_(g.stanford_colors)?g.stanford_colors:c.interpolateHslLong(c.hsl(250,1,.5),c.hsl(0,1,.5)),m.colorscale=c.scaleSequentialLog(m.colors).domain([u,a]),m.minEpochs=u,m.maxEpochs=a},i.prototype.getStanfordPointColor=function(n){return this.data.targets[0].colorscale(n.epochs)},i.prototype.getCentroid=function(n){for(var a,u,c,g=R(n),m=0,v=0,x=0,M=n.length-1;x<n.length;M=x,x+=1)u=n[x],c=n[M],a=u.x*c.y-c.x*u.y,m+=(u.x+c.x)*a,v+=(u.y+c.y)*a;return{x:m/(a=6*g),y:v/a}},i.prototype.getStanfordTooltipTitle=function(n){var a=this.axis.getLabelText("x"),u=this.axis.getLabelText("y");return`
      <tr><th>`+(a?A(a):"x")+"</th><th class='value'>"+n.x+`</th></tr>
      <tr><th>`+(u?A(u):"y")+"</th><th class='value'>"+n.value+`</th></tr>
    `},i.prototype.countEpochsInRegion=function(n){var a=this.data.targets[0],u=a.values.reduce(function(g,m){return g+Number(m.epochs)},0),c=a.values.reduce(function(g,m){return X(m,n)?g+Number(m.epochs):g},0);return{value:c,percentage:c!==0?(c/u*100).toFixed(1):0}};var R=function(n){for(var a,u,c=0,g=0,m=n.length-1;g<n.length;m=g,g+=1)a=n[g],u=n[m],c+=a.x*u.y,c-=a.y*u.x;return c/=2},X=function(n,a){for(var u,c,g,m,v=n.x,x=n.value,M=!1,P=0,V=a.length-1;P<a.length;V=P++)u=a[P].x,c=a[P].y,m=a[V].x,x<c!=x<(g=a[V].y)&&v<(m-u)*(x-c)/(g-c)+u&&(M=!M);return M},Q=function(n,a){return n.epochs<a.epochs?-1:n.epochs>a.epochs?1:0};return i.prototype.initStanfordElements=function(){var n=this;n.stanfordElements=n.main.select("."+b.chart).append("g").attr("class",b.stanfordElements),n.stanfordElements.append("g").attr("class",b.stanfordLines),n.stanfordElements.append("g").attr("class",b.stanfordTexts),n.stanfordElements.append("g").attr("class",b.stanfordRegions)},i.prototype.updateStanfordElements=function(n){var a,u,c,g,m=this,v=m.main,x=m.config,M=m.xvCustom.bind(m),P=m.yvCustom.bind(m),V=m.countEpochsInRegion.bind(m),O=v.select("."+b.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+b.stanfordLine).data(x.stanford_lines),H=O.enter().append("g").attr("class",function(D){return b.stanfordLine+(D.class?" "+D.class:"")});H.append("line").attr("x1",function(D){return x.axis_rotated?P(D,"value_y1"):M(D,"value_x1")}).attr("x2",function(D){return x.axis_rotated?P(D,"value_y2"):M(D,"value_x2")}).attr("y1",function(D){return x.axis_rotated?M(D,"value_x1"):P(D,"value_y1")}).attr("y2",function(D){return x.axis_rotated?M(D,"value_x2"):P(D,"value_y2")}).style("opacity",0),m.stanfordLines=H.merge(O),m.stanfordLines.select("line").transition().duration(n).attr("x1",function(D){return x.axis_rotated?P(D,"value_y1"):M(D,"value_x1")}).attr("x2",function(D){return x.axis_rotated?P(D,"value_y2"):M(D,"value_x2")}).attr("y1",function(D){return x.axis_rotated?M(D,"value_x1"):P(D,"value_y1")}).attr("y2",function(D){return x.axis_rotated?M(D,"value_x2"):P(D,"value_y2")}).style("opacity",1),O.exit().transition().duration(n).style("opacity",0).remove(),(g=(c=v.select("."+b.stanfordTexts).selectAll("."+b.stanfordText).data(x.stanford_texts)).enter().append("g").attr("class",function(D){return b.stanfordText+(D.class?" "+D.class:"")})).append("text").attr("x",function(D){return x.axis_rotated?P(D,"y"):M(D,"x")}).attr("y",function(D){return x.axis_rotated?M(D,"x"):P(D,"y")}).style("opacity",0),m.stanfordTexts=g.merge(c),m.stanfordTexts.select("text").transition().duration(n).attr("x",function(D){return x.axis_rotated?P(D,"y"):M(D,"x")}).attr("y",function(D){return x.axis_rotated?M(D,"x"):P(D,"y")}).text(function(D){return D.content}).style("opacity",1),c.exit().transition().duration(n).style("opacity",0).remove(),(u=(a=v.select("."+b.stanfordRegions).selectAll("."+b.stanfordRegion).data(x.stanford_regions)).enter().append("g").attr("class",function(D){return b.stanfordRegion+(D.class?" "+D.class:"")})).append("polygon").attr("points",function(D){return D.points.map(function(N){return[x.axis_rotated?P(N,"y"):M(N,"x"),x.axis_rotated?M(N,"x"):P(N,"y")].join(",")}).join(" ")}).style("opacity",0),u.append("text").attr("x",function(D){return m.getCentroid(D.points).x}).attr("y",function(D){return m.getCentroid(D.points).y}).style("opacity",0),m.stanfordRegions=u.merge(a),m.stanfordRegions.select("polygon").transition().duration(n).attr("points",function(D){return D.points.map(function(N){return[x.axis_rotated?P(N,"y"):M(N,"x"),x.axis_rotated?M(N,"x"):P(N,"y")].join(",")}).join(" ")}).style("opacity",function(D){return D.opacity?D.opacity:.2}),m.stanfordRegions.select("text").transition().duration(n).attr("x",function(D){return x.axis_rotated?P(m.getCentroid(D.points),"y"):M(m.getCentroid(D.points),"x")}).attr("y",function(D){return x.axis_rotated?M(m.getCentroid(D.points),"x"):P(m.getCentroid(D.points),"y")}).text(function(D){var N,B,q;return D.text?(m.isStanfordGraphType()&&(N=(q=V(D.points)).value,B=q.percentage),D.text(N,B)):""}).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1),a.exit().transition().duration(n).style("opacity",0).remove()},i.prototype.initTooltip=function(){var n,a=this,u=a.config;if(a.tooltip=a.selectChart.style("position","relative").append("div").attr("class",b.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),u.tooltip_init_show){if(a.isTimeSeries()&&E(u.tooltip_init_x)){for(u.tooltip_init_x=a.parseDate(u.tooltip_init_x),n=0;n<a.data.targets[0].values.length&&a.data.targets[0].values[n].x-u.tooltip_init_x!=0;n++);u.tooltip_init_x=n}a.tooltip.html(u.tooltip_contents.call(a,a.data.targets.map(function(c){return a.addName(c.values[u.tooltip_init_x])}),a.axis.getXAxisTickFormat(),a.getYFormat(a.hasArcType()),a.color)),a.tooltip.style("top",u.tooltip_init_position.top).style("left",u.tooltip_init_position.left).style("display","block")}},i.prototype.getTooltipSortFunction=function(){var n=this,a=n.config;if(a.data_groups.length!==0&&a.tooltip_order===void 0){var u=n.orderTargets(n.data.targets).map(function(v){return v.id});return(n.isOrderAsc()||n.isOrderDesc())&&(u=u.reverse()),function(v,x){return u.indexOf(v.id)-u.indexOf(x.id)}}var c=a.tooltip_order;c===void 0&&(c=a.data_order);function g(v){return v?v.value:null}if(E(c)&&c.toLowerCase()==="asc")return function(v,x){return g(v)-g(x)};if(E(c)&&c.toLowerCase()==="desc")return function(v,x){return g(x)-g(v)};if(_(c)){var m=c;return a.tooltip_order===void 0&&(m=function(v,x){return c(v?{id:v.id,values:[v]}:null,x?{id:x.id,values:[x]}:null)}),m}return d(c)?function(v,x){return c.indexOf(v.id)-c.indexOf(x.id)}:void 0},i.prototype.getTooltipContent=function(n,a,u,c){var g,m,v,x,M,P,V=this,O=V.config,H=O.tooltip_format_title||a,D=O.tooltip_format_name||function(q){return q},N=(N=O.tooltip_format_value)||(V.isTargetNormalized(n.id)?function(q,G){return(100*G).toFixed(2)+"%"}:u),B=this.getTooltipSortFunction();for(B&&n.sort(B),m=0;m<n.length;m++)if(n[m]&&(n[m].value||n[m].value===0)){if(V.isStanfordGraphType())g||(v=V.getStanfordTooltipTitle(n[m]),g="<table class='"+V.CLASS.tooltip+"'>"+v),P=V.getStanfordPointColor(n[m]),M=A(O.data_epochs),x=n[m].epochs;else if(g||(v=A(H?H(n[m].x,n[m].index):n[m].x),g="<table class='"+V.CLASS.tooltip+"'>"+(v||v===0?"<tr><th colspan='2'>"+v+"</th></tr>":"")),(x=A(N(n[m].value,n[m].ratio,n[m].id,n[m].index,n)))!==void 0){if(n[m].name===null)continue;M=A(D(n[m].name,n[m].ratio,n[m].id,n[m].index)),P=V.levelColor?V.levelColor(n[m].value):c(n[m].id)}x!==void 0&&(g+="<tr class='"+V.CLASS.tooltipName+"-"+V.getTargetSelectorSuffix(n[m].id)+"'>",g+="<td class='name'><span style='background-color:"+P+"'></span>"+M+"</td>",g+="<td class='value'>"+x+"</td>",g+="</tr>")}return g+"</table>"},i.prototype.tooltipPosition=function(n,a,u,c){var g,m,v,x,M,P=this,V=P.config,O=P.d3,H=P.hasArcType(),D=O.mouse(c);return H?(m=(P.width-(P.isLegendRight?P.getLegendWidth():0))/2+D[0],x=(P.hasType("gauge")?P.height:P.height/2)+D[1]+20):(g=P.getSvgLeft(!0),x=V.axis_rotated?(v=(m=g+D[0]+100)+a,M=P.currentWidth-P.getCurrentPaddingRight(),P.x(n[0].x)+20):(v=(m=g+P.getCurrentPaddingLeft(!0)+P.x(n[0].x)+20)+a,M=g+P.currentWidth-P.getCurrentPaddingRight(),D[1]+15),M<v&&(m-=v-M+20),x+u>P.currentHeight&&(x-=u+30)),x<0&&(x=0),{top:x,left:m}},i.prototype.showTooltip=function(n,a){var u,c,g,m=this,v=m.config,x=m.hasArcType(),M=n.filter(function(V){return V&&S(V.value)}),P=v.tooltip_position||i.prototype.tooltipPosition;M.length!==0&&v.tooltip_show?(m.tooltip.html(v.tooltip_contents.call(m,n,m.axis.getXAxisTickFormat(),m.getYFormat(x),m.color)).style("display","block"),u=m.tooltip.property("offsetWidth"),c=m.tooltip.property("offsetHeight"),g=P.call(this,M,u,c,a),m.tooltip.style("top",g.top+"px").style("left",g.left+"px")):m.hideTooltip()},i.prototype.hideTooltip=function(){this.tooltip.style("display","none")},i.prototype.setTargetType=function(n,a){var u=this,c=u.config;u.mapToTargetIds(n).forEach(function(g){u.withoutFadeIn[g]=a===c.data_types[g],c.data_types[g]=a}),n||(c.data_type=a)},i.prototype.hasType=function(n,a){var u=this.config.data_types,c=!1;return(a=a||this.data.targets)&&a.length?a.forEach(function(g){var m=u[g.id];(m&&0<=m.indexOf(n)||!m&&n==="line")&&(c=!0)}):Object.keys(u).length?Object.keys(u).forEach(function(g){u[g]===n&&(c=!0)}):c=this.config.data_type===n,c},i.prototype.hasArcType=function(n){return this.hasType("pie",n)||this.hasType("donut",n)||this.hasType("gauge",n)},i.prototype.isLineType=function(n){var a=this.config,u=E(n)?n:n.id;return!a.data_types[u]||0<=["line","spline","area","area-spline","step","area-step"].indexOf(a.data_types[u])},i.prototype.isStepType=function(n){var a=E(n)?n:n.id;return 0<=["step","area-step"].indexOf(this.config.data_types[a])},i.prototype.isSplineType=function(n){var a=E(n)?n:n.id;return 0<=["spline","area-spline"].indexOf(this.config.data_types[a])},i.prototype.isAreaType=function(n){var a=E(n)?n:n.id;return 0<=["area","area-spline","area-step"].indexOf(this.config.data_types[a])},i.prototype.isBarType=function(n){var a=E(n)?n:n.id;return this.config.data_types[a]==="bar"},i.prototype.isScatterType=function(n){var a=E(n)?n:n.id;return this.config.data_types[a]==="scatter"},i.prototype.isStanfordType=function(n){var a=E(n)?n:n.id;return this.config.data_types[a]==="stanford"},i.prototype.isPieType=function(n){var a=E(n)?n:n.id;return this.config.data_types[a]==="pie"},i.prototype.isGaugeType=function(n){var a=E(n)?n:n.id;return this.config.data_types[a]==="gauge"},i.prototype.isDonutType=function(n){var a=E(n)?n:n.id;return this.config.data_types[a]==="donut"},i.prototype.isArcType=function(n){return this.isPieType(n)||this.isDonutType(n)||this.isGaugeType(n)},i.prototype.lineData=function(n){return this.isLineType(n)?[n]:[]},i.prototype.arcData=function(n){return this.isArcType(n.data)?[n]:[]},i.prototype.barData=function(n){return this.isBarType(n)?n.values:[]},i.prototype.lineOrScatterOrStanfordData=function(n){return this.isLineType(n)||this.isScatterType(n)||this.isStanfordType(n)?n.values:[]},i.prototype.barOrLineData=function(n){return this.isBarType(n)||this.isLineType(n)?n.values:[]},i.prototype.isSafari=function(){var n=window.navigator.userAgent;return 0<=n.indexOf("Safari")&&n.indexOf("Chrome")<0},i.prototype.isChrome=function(){return 0<=window.navigator.userAgent.indexOf("Chrome")},i.prototype.initZoom=function(){var n,a=this,u=a.d3,c=a.config;return a.zoom=u.zoom().on("start",function(){var g;c.zoom_type==="scroll"&&((g=u.event.sourceEvent)&&g.type==="brush"||(n=g,c.zoom_onzoomstart.call(a.api,g)))}).on("zoom",function(){var g;c.zoom_type==="scroll"&&((g=u.event.sourceEvent)&&g.type==="brush"||(a.redrawForZoom(),c.zoom_onzoom.call(a.api,a.x.orgDomain())))}).on("end",function(){var g;c.zoom_type==="scroll"&&((g=u.event.sourceEvent)&&g.type==="brush"||g&&n.clientX===g.clientX&&n.clientY===g.clientY||c.zoom_onzoomend.call(a.api,a.x.orgDomain()))}),a.zoom.updateDomain=function(){return u.event&&u.event.transform&&(c.axis_rotated&&c.zoom_type==="scroll"&&u.event.sourceEvent.type==="mousemove"?a.x.domain(u.event.transform.rescaleY(a.subX).domain()):a.x.domain(u.event.transform.rescaleX(a.subX).domain())),this},a.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[a.width,a.height]]).extent([[0,0],[a.width,a.height]]),this},a.zoom.update=function(){return this.updateExtent().updateDomain()},a.zoom.updateExtent()},i.prototype.zoomTransform=function(n){var a=[this.x(n[0]),this.x(n[1])];return this.d3.zoomIdentity.scale(this.width/(a[1]-a[0])).translate(-a[0],0)},i.prototype.initDragZoom=function(){var n,a,u=this,c=u.d3,g=u.config,m=u.context=u.svg,v=u.margin.left+20.5,x=u.margin.top+.5;g.zoom_type==="drag"&&g.zoom_enabled&&(n=function(M){return M&&M.map(function(P){return u.x.invert(P)})},a=u.dragZoomBrush=c.brushX().on("start",function(){u.api.unzoom(),u.svg.select("."+b.dragZoom).classed("disabled",!1),g.zoom_onzoomstart.call(u.api,c.event.sourceEvent)}).on("brush",function(){g.zoom_onzoom.call(u.api,n(c.event.selection))}).on("end",function(){var M;c.event.selection!=null&&(M=n(c.event.selection),g.zoom_disableDefaultBehavior||u.api.zoom(M),u.svg.select("."+b.dragZoom).classed("disabled",!0),g.zoom_onzoomend.call(u.api,M))}),m.append("g").classed(b.dragZoom,!0).attr("clip-path",u.clipPath).attr("transform","translate("+v+","+x+")").call(a))},i.prototype.getZoomDomain=function(){var n=this.config,a=this.d3;return[a.min([this.orgXDomain[0],n.zoom_x_min]),a.max([this.orgXDomain[1],n.zoom_x_max])]},i.prototype.redrawForZoom=function(){var n=this,a=n.d3,u=n.config,c=n.zoom,g=n.x;u.zoom_enabled&&n.filterTargetsToShow(n.data.targets).length!==0&&(c.update(),u.zoom_disableDefaultBehavior||(n.isCategorized()&&g.orgDomain()[0]===n.orgXDomain[0]&&g.domain([n.orgXDomain[0]-1e-10,g.orgDomain()[1]]),n.redraw({withTransition:!1,withY:u.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),a.event.sourceEvent&&a.event.sourceEvent.type==="mousemove"&&(n.cancelClick=!0)))},$})})(r0);const f3=ds;export{f3 as c};
