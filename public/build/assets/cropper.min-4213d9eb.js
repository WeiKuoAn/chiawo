import{c as pi}from"./_commonjsHelpers-042e6b4d.js";import{r as ui}from"./jquery-4e911315.js";/*!
 * Cropper v4.1.0
 * https://fengyuanchen.github.io/cropper
 *
 * Copyright 2014-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2019-10-12T07:43:51.850Z
 */(function(mi,gi){(function(O,ut){ut(ui())})(pi,function(O){function ut(t){return(ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(t)}function St(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function jt(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,n)}return e}function Pt(t){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{};i%2?jt(e,!0).forEach(function(n){var a,r,h;a=t,h=e[r=n],r in a?Object.defineProperty(a,r,{value:h,enumerable:!0,configurable:!0,writable:!0}):a[r]=h}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):jt(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function It(t){return function(i){if(Array.isArray(i)){for(var e=0,n=new Array(i.length);e<i.length;e++)n[e]=i[e];return n}}(t)||function(i){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]")return Array.from(i)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}O=O&&O.hasOwnProperty("default")?O.default:O;var mt=typeof window<"u"&&window.document!==void 0,S=mt?window:{},yt=mt&&"ontouchstart"in S.document.documentElement,xt=mt&&"PointerEvent"in S,y="cropper",Mt="all",Ut="crop",qt="move",$t="zoom",K="e",Z="w",_="s",I="n",rt="ne",ot="nw",ht="se",st="sw",Ct="".concat(y,"-crop"),Qt="".concat(y,"-disabled"),T="".concat(y,"-hidden"),Kt="".concat(y,"-hide"),He="".concat(y,"-invisible"),gt="".concat(y,"-modal"),Dt="".concat(y,"-move"),ct="".concat(y,"Action"),ft="".concat(y,"Preview"),Bt="crop",Zt="move",Gt="none",kt="crop",Ot="cropend",Tt="cropmove",Et="cropstart",Ft="dblclick",Jt=xt?"pointerdown":yt?"touchstart":"mousedown",Vt=xt?"pointermove":yt?"touchmove":"mousemove",_t=xt?"pointerup pointercancel":yt?"touchend touchcancel":"mouseup",Wt="zoom",te="image/jpeg",Le=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,ze=/^data:/,Ye=/^data:image\/jpeg;base64,/,Xe=/^img|canvas$/i,ee={viewMode:0,dragMode:Bt,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Re=Number.isNaN||S.isNaN;function m(t){return typeof t=="number"&&!Re(t)}var ie=function(t){return 0<t&&t<1/0};function Nt(t){return t===void 0}function G(t){return ut(t)==="object"&&t!==null}var Ae=Object.prototype.hasOwnProperty;function tt(t){if(!G(t))return!1;try{var i=t.constructor,e=i.prototype;return i&&e&&Ae.call(e,"isPrototypeOf")}catch{return!1}}function E(t){return typeof t=="function"}var Se=Array.prototype.slice;function ae(t){return Array.from?Array.from(t):Se.call(t)}function D(t,i){return t&&E(i)&&(Array.isArray(t)||m(t.length)?ae(t).forEach(function(e,n){i.call(t,e,n,t)}):G(t)&&Object.keys(t).forEach(function(e){i.call(t,t[e],e,t)})),t}var x=Object.assign||function(t){for(var i=arguments.length,e=new Array(1<i?i-1:0),n=1;n<i;n++)e[n-1]=arguments[n];return G(t)&&0<e.length&&e.forEach(function(a){G(a)&&Object.keys(a).forEach(function(r){t[r]=a[r]})}),t},je=/\.\d*(?:0|9){12}\d*$/;function et(t,i){var e=1<arguments.length&&i!==void 0?i:1e11;return je.test(t)?Math.round(t*e)/e:t}var Pe=/^width|height|left|top|marginLeft|marginTop$/;function U(t,i){var e=t.style;D(i,function(n,a){Pe.test(a)&&m(n)&&(n="".concat(n,"px")),e[a]=n})}function k(t,i){if(i)if(m(t.length))D(t,function(n){k(n,i)});else if(t.classList)t.classList.add(i);else{var e=t.className.trim();e?e.indexOf(i)<0&&(t.className="".concat(e," ").concat(i)):t.className=i}}function A(t,i){i&&(m(t.length)?D(t,function(e){A(e,i)}):t.classList?t.classList.remove(i):0<=t.className.indexOf(i)&&(t.className=t.className.replace(i,"")))}function it(t,i,e){i&&(m(t.length)?D(t,function(n){it(n,i,e)}):e?k(t,i):A(t,i))}var Ie=/([a-z\d])([A-Z])/g;function Ht(t){return t.replace(Ie,"$1-$2").toLowerCase()}function Lt(t,i){return G(t[i])?t[i]:t.dataset?t.dataset[i]:t.getAttribute("data-".concat(Ht(i)))}function dt(t,i,e){G(e)?t[i]=e:t.dataset?t.dataset[i]=e:t.setAttribute("data-".concat(Ht(i)),e)}var ne=/\s\s*/,re=function(){var t=!1;if(mt){var i=!1,e=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,i},set:function(a){i=a}});S.addEventListener("test",e,n),S.removeEventListener("test",e,n)}return t}();function X(t,i,e,n){var a=3<arguments.length&&n!==void 0?n:{},r=e;i.trim().split(ne).forEach(function(h){if(!re){var s=t.listeners;s&&s[h]&&s[h][e]&&(r=s[h][e],delete s[h][e],Object.keys(s[h]).length===0&&delete s[h],Object.keys(s).length===0&&delete t.listeners)}t.removeEventListener(h,r,a)})}function L(t,i,e,n){var a=3<arguments.length&&n!==void 0?n:{},r=e;i.trim().split(ne).forEach(function(h){if(a.once&&!re){var s=t.listeners,d=s===void 0?{}:s;r=function(){delete d[h][e],t.removeEventListener(h,r,a);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];e.apply(t,l)},d[h]||(d[h]={}),d[h][e]&&t.removeEventListener(h,d[h][e],a),d[h][e]=r,t.listeners=d}t.addEventListener(h,r,a)})}function at(t,i,e){var n;return E(Event)&&E(CustomEvent)?n=new CustomEvent(i,{detail:e,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(i,!0,!0,e),t.dispatchEvent(n)}function oe(t){var i=t.getBoundingClientRect();return{left:i.left+(window.pageXOffset-document.documentElement.clientLeft),top:i.top+(window.pageYOffset-document.documentElement.clientTop)}}var zt=S.location,Ue=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function he(t){var i=t.match(Ue);return i!==null&&(i[1]!==zt.protocol||i[2]!==zt.hostname||i[3]!==zt.port)}function se(t){var i="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+i}function lt(t){var i=t.rotate,e=t.scaleX,n=t.scaleY,a=t.translateX,r=t.translateY,h=[];m(a)&&a!==0&&h.push("translateX(".concat(a,"px)")),m(r)&&r!==0&&h.push("translateY(".concat(r,"px)")),m(i)&&i!==0&&h.push("rotate(".concat(i,"deg)")),m(e)&&e!==1&&h.push("scaleX(".concat(e,")")),m(n)&&n!==1&&h.push("scaleY(".concat(n,")"));var s=h.length?h.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function vt(t,i){var e=t.pageX,n=t.pageY,a={endX:e,endY:n};return i?a:Pt({startX:e,startY:n},a)}function q(t,i){var e=t.aspectRatio,n=t.height,a=t.width,r=1<arguments.length&&i!==void 0?i:"contain",h=ie(a),s=ie(n);if(h&&s){var d=n*e;r==="contain"&&a<d||r==="cover"&&d<a?n=a/e:a=n*e}else h?n=a/e:s&&(a=n*e);return{width:a,height:n}}var ce=String.fromCharCode,qe=/^data:.*,/;function $e(t){var i,e=new DataView(t);try{var n,a,r;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var h=e.byteLength,s=2;s+1<h;){if(e.getUint8(s)===255&&e.getUint8(s+1)===225){a=s;break}s+=1}if(a){var d=a+10;if(function(v,g,w){var b="";w+=g;for(var M=g;M<w;M+=1)b+=ce(v.getUint8(M));return b}(e,a+4,4)==="Exif"){var o=e.getUint16(d);if(((n=o===18761)||o===19789)&&e.getUint16(d+2,n)===42){var l=e.getUint32(d+4,n);8<=l&&(r=d+l)}}}if(r){var c,p,f=e.getUint16(r,n);for(p=0;p<f;p+=1)if(c=r+12*p+2,e.getUint16(c,n)===274){c+=8,i=e.getUint16(c,n),e.setUint16(c,1,n);break}}}catch{i=1}return i}var Qe={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,i=this.options,e=this.container,n=this.cropper;k(n,T),A(t,T);var a={width:Math.max(e.offsetWidth,Number(i.minContainerWidth)||200),height:Math.max(e.offsetHeight,Number(i.minContainerHeight)||100)};U(n,{width:(this.containerData=a).width,height:a.height}),k(t,T),A(n,T)},initCanvas:function(){var t=this.containerData,i=this.imageData,e=this.options.viewMode,n=Math.abs(i.rotate)%180==90,a=n?i.naturalHeight:i.naturalWidth,r=n?i.naturalWidth:i.naturalHeight,h=a/r,s=t.width,d=t.height;t.height*h>t.width?e===3?s=t.height*h:d=t.width/h:e===3?d=t.width/h:s=t.height*h;var o={aspectRatio:h,naturalWidth:a,naturalHeight:r,width:s,height:d};o.left=(t.width-s)/2,o.top=(t.height-d)/2,o.oldLeft=o.left,o.oldTop=o.top,this.canvasData=o,this.limited=e===1||e===2,this.limitCanvas(!0,!0),this.initialImageData=x({},i),this.initialCanvasData=x({},o)},limitCanvas:function(t,i){var e=this.options,n=this.containerData,a=this.canvasData,r=this.cropBoxData,h=e.viewMode,s=a.aspectRatio,d=this.cropped&&r;if(t){var o=Number(e.minCanvasWidth)||0,l=Number(e.minCanvasHeight)||0;1<h?(o=Math.max(o,n.width),l=Math.max(l,n.height),h===3&&(o<l*s?o=l*s:l=o/s)):0<h&&(o?o=Math.max(o,d?r.width:0):l?l=Math.max(l,d?r.height:0):d&&((o=r.width)<(l=r.height)*s?o=l*s:l=o/s));var c=q({aspectRatio:s,width:o,height:l});o=c.width,l=c.height,a.minWidth=o,a.minHeight=l,a.maxWidth=1/0,a.maxHeight=1/0}if(i)if((d?0:1)<h){var p=n.width-a.width,f=n.height-a.height;a.minLeft=Math.min(0,p),a.minTop=Math.min(0,f),a.maxLeft=Math.max(0,p),a.maxTop=Math.max(0,f),d&&this.limited&&(a.minLeft=Math.min(r.left,r.left+(r.width-a.width)),a.minTop=Math.min(r.top,r.top+(r.height-a.height)),a.maxLeft=r.left,a.maxTop=r.top,h===2&&(a.width>=n.width&&(a.minLeft=Math.min(0,p),a.maxLeft=Math.max(0,p)),a.height>=n.height&&(a.minTop=Math.min(0,f),a.maxTop=Math.max(0,f))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=n.width,a.maxTop=n.height},renderCanvas:function(t,i){var e=this.canvasData,n=this.imageData;if(i){var a=function(o){var l=o.width,c=o.height,p=o.degree;if((p=Math.abs(p)%180)===90)return{width:c,height:l};var f=p%90*Math.PI/180,v=Math.sin(f),g=Math.cos(f),w=l*g+c*v,b=l*v+c*g;return 90<p?{width:b,height:w}:{width:w,height:b}}({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),r=a.width,h=a.height,s=e.width*(r/e.naturalWidth),d=e.height*(h/e.naturalHeight);e.left-=(s-e.width)/2,e.top-=(d-e.height)/2,e.width=s,e.height=d,e.aspectRatio=r/h,e.naturalWidth=r,e.naturalHeight=h,this.limitCanvas(!0,!1)}(e.width>e.maxWidth||e.width<e.minWidth)&&(e.left=e.oldLeft),(e.height>e.maxHeight||e.height<e.minHeight)&&(e.top=e.oldTop),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),this.limitCanvas(!1,!0),e.left=Math.min(Math.max(e.left,e.minLeft),e.maxLeft),e.top=Math.min(Math.max(e.top,e.minTop),e.maxTop),e.oldLeft=e.left,e.oldTop=e.top,U(this.canvas,x({width:e.width,height:e.height},lt({translateX:e.left,translateY:e.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var i=this.canvasData,e=this.imageData,n=e.naturalWidth*(i.width/i.naturalWidth),a=e.naturalHeight*(i.height/i.naturalHeight);x(e,{width:n,height:a,left:(i.width-n)/2,top:(i.height-a)/2}),U(this.image,x({width:e.width,height:e.height},lt(x({translateX:e.left,translateY:e.top},e)))),t&&this.output()},initCropBox:function(){var t=this.options,i=this.canvasData,e=t.aspectRatio||t.initialAspectRatio,n=Number(t.autoCropArea)||.8,a={width:i.width,height:i.height};e&&(i.height*e>i.width?a.height=a.width/e:a.width=a.height*e),this.cropBoxData=a,this.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*n),a.height=Math.max(a.minHeight,a.height*n),a.left=i.left+(i.width-a.width)/2,a.top=i.top+(i.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCropBoxData=x({},a)},limitCropBox:function(t,i){var e=this.options,n=this.containerData,a=this.canvasData,r=this.cropBoxData,h=this.limited,s=e.aspectRatio;if(t){var d=Number(e.minCropBoxWidth)||0,o=Number(e.minCropBoxHeight)||0,l=h?Math.min(n.width,a.width,a.width+a.left,n.width-a.left):n.width,c=h?Math.min(n.height,a.height,a.height+a.top,n.height-a.top):n.height;d=Math.min(d,n.width),o=Math.min(o,n.height),s&&(d&&o?d<o*s?o=d/s:d=o*s:d?o=d/s:o&&(d=o*s),l<c*s?c=l/s:l=c*s),r.minWidth=Math.min(d,l),r.minHeight=Math.min(o,c),r.maxWidth=l,r.maxHeight=c}i&&(h?(r.minLeft=Math.max(0,a.left),r.minTop=Math.max(0,a.top),r.maxLeft=Math.min(n.width,a.left+a.width)-r.width,r.maxTop=Math.min(n.height,a.top+a.height)-r.height):(r.minLeft=0,r.minTop=0,r.maxLeft=n.width-r.width,r.maxTop=n.height-r.height))},renderCropBox:function(){var t=this.options,i=this.containerData,e=this.cropBoxData;(e.width>e.maxWidth||e.width<e.minWidth)&&(e.left=e.oldLeft),(e.height>e.maxHeight||e.height<e.minHeight)&&(e.top=e.oldTop),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),this.limitCropBox(!1,!0),e.left=Math.min(Math.max(e.left,e.minLeft),e.maxLeft),e.top=Math.min(Math.max(e.top,e.minTop),e.maxTop),e.oldLeft=e.left,e.oldTop=e.top,t.movable&&t.cropBoxMovable&&dt(this.face,ct,e.width>=i.width&&e.height>=i.height?qt:Mt),U(this.cropBox,x({width:e.width,height:e.height},lt({translateX:e.left,translateY:e.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),at(this.element,kt,this.getData())}},Ke={initPreview:function(){var t=this.element,i=this.crossOrigin,e=this.options.preview,n=i?this.crossOriginUrl:this.url,a=t.alt||"The image to preview",r=document.createElement("img");if(i&&(r.crossOrigin=i),r.src=n,r.alt=a,this.viewBox.appendChild(r),this.viewBoxImage=r,e){var h=e;typeof e=="string"?h=t.ownerDocument.querySelectorAll(e):e.querySelector&&(h=[e]),D(this.previews=h,function(s){var d=document.createElement("img");dt(s,ft,{width:s.offsetWidth,height:s.offsetHeight,html:s.innerHTML}),i&&(d.crossOrigin=i),d.src=n,d.alt=a,d.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',s.innerHTML="",s.appendChild(d)})}},resetPreview:function(){D(this.previews,function(t){var i=Lt(t,ft);U(t,{width:i.width,height:i.height}),t.innerHTML=i.html,function(e,n){if(G(e[n]))try{delete e[n]}catch{e[n]=void 0}else if(e.dataset)try{delete e.dataset[n]}catch{e.dataset[n]=void 0}else e.removeAttribute("data-".concat(Ht(n)))}(t,ft)})},preview:function(){var t=this.imageData,i=this.canvasData,e=this.cropBoxData,n=e.width,a=e.height,r=t.width,h=t.height,s=e.left-i.left-t.left,d=e.top-i.top-t.top;this.cropped&&!this.disabled&&(U(this.viewBoxImage,x({width:r,height:h},lt(x({translateX:-s,translateY:-d},t)))),D(this.previews,function(o){var l=Lt(o,ft),c=l.width,p=l.height,f=c,v=p,g=1;n&&(v=a*(g=c/n)),a&&p<v&&(f=n*(g=p/a),v=p),U(o,{width:f,height:v}),U(o.getElementsByTagName("img")[0],x({width:r*g,height:h*g},lt(x({translateX:-s*g,translateY:-d*g},t))))}))}},Ze={bind:function(){var t=this.element,i=this.options,e=this.cropper;E(i.cropstart)&&L(t,Et,i.cropstart),E(i.cropmove)&&L(t,Tt,i.cropmove),E(i.cropend)&&L(t,Ot,i.cropend),E(i.crop)&&L(t,kt,i.crop),E(i.zoom)&&L(t,Wt,i.zoom),L(e,Jt,this.onCropStart=this.cropStart.bind(this)),i.zoomable&&i.zoomOnWheel&&L(e,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),i.toggleDragModeOnDblclick&&L(e,Ft,this.onDblclick=this.dblclick.bind(this)),L(t.ownerDocument,Vt,this.onCropMove=this.cropMove.bind(this)),L(t.ownerDocument,_t,this.onCropEnd=this.cropEnd.bind(this)),i.responsive&&L(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,i=this.options,e=this.cropper;E(i.cropstart)&&X(t,Et,i.cropstart),E(i.cropmove)&&X(t,Tt,i.cropmove),E(i.cropend)&&X(t,Ot,i.cropend),E(i.crop)&&X(t,kt,i.crop),E(i.zoom)&&X(t,Wt,i.zoom),X(e,Jt,this.onCropStart),i.zoomable&&i.zoomOnWheel&&X(e,"wheel",this.onWheel,{passive:!1,capture:!0}),i.toggleDragModeOnDblclick&&X(e,Ft,this.onDblclick),X(t.ownerDocument,Vt,this.onCropMove),X(t.ownerDocument,_t,this.onCropEnd),i.responsive&&X(window,"resize",this.onResize)}},Ge={resize:function(){var t=this.options,i=this.container,e=this.containerData,n=Number(t.minContainerWidth)||200,a=Number(t.minContainerHeight)||100;if(!(this.disabled||e.width<=n||e.height<=a)){var r,h,s=i.offsetWidth/e.width;(s!=1||i.offsetHeight!==e.height)&&(t.restore&&(r=this.getCanvasData(),h=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(D(r,function(d,o){r[o]=d*s})),this.setCropBoxData(D(h,function(d,o){h[o]=d*s}))))}},dblclick:function(){this.disabled||this.options.dragMode===Gt||this.setDragMode(function(t,i){return t.classList?t.classList.contains(i):-1<t.className.indexOf(i)}(this.dragBox,Ct)?Zt:Bt)},wheel:function(t){var i=this,e=Number(this.options.wheelZoomRatio)||.1,n=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){i.wheeling=!1},50),t.deltaY?n=0<t.deltaY?1:-1:t.wheelDelta?n=-t.wheelDelta/120:t.detail&&(n=0<t.detail?1:-1),this.zoom(-n*e,t)))},cropStart:function(t){var i=t.buttons,e=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(m(i)&&i!==1||m(e)&&e!==0||t.ctrlKey))){var n,a=this.options,r=this.pointers;t.changedTouches?D(t.changedTouches,function(h){r[h.identifier]=vt(h)}):r[t.pointerId||0]=vt(t),n=1<Object.keys(r).length&&a.zoomable&&a.zoomOnTouch?$t:Lt(t.target,ct),Le.test(n)&&at(this.element,Et,{originalEvent:t,action:n})!==!1&&(t.preventDefault(),this.action=n,this.cropping=!1,n===Ut&&(this.cropping=!0,k(this.dragBox,gt)))}},cropMove:function(t){var i=this.action;if(!this.disabled&&i){var e=this.pointers;t.preventDefault(),at(this.element,Tt,{originalEvent:t,action:i})!==!1&&(t.changedTouches?D(t.changedTouches,function(n){x(e[n.identifier]||{},vt(n,!0))}):x(e[t.pointerId||0]||{},vt(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var i=this.action,e=this.pointers;t.changedTouches?D(t.changedTouches,function(n){delete e[n.identifier]}):delete e[t.pointerId||0],i&&(t.preventDefault(),Object.keys(e).length||(this.action=""),this.cropping&&(this.cropping=!1,it(this.dragBox,gt,this.cropped&&this.options.modal)),at(this.element,Ot,{originalEvent:t,action:i}))}}},Fe={change:function(t){var i,e=this.options,n=this.canvasData,a=this.containerData,r=this.cropBoxData,h=this.pointers,s=this.action,d=e.aspectRatio,o=r.left,l=r.top,c=r.width,p=r.height,f=o+c,v=l+p,g=0,w=0,b=a.width,M=a.height,B=!0;!d&&t.shiftKey&&(d=c&&p?c/p:1),this.limited&&(g=r.minLeft,w=r.minTop,b=g+Math.min(a.width,n.width,n.left+n.width),M=w+Math.min(a.height,n.height,n.top+n.height));function C(W){switch(W){case K:f+u.x>b&&(u.x=b-f);break;case Z:o+u.x<g&&(u.x=g-o);break;case I:l+u.y<w&&(u.y=w-l);break;case _:v+u.y>M&&(u.y=M-v)}}var z=h[Object.keys(h)[0]],u={x:z.endX-z.startX,y:z.endY-z.startY};switch(s){case Mt:o+=u.x,l+=u.y;break;case K:if(0<=u.x&&(b<=f||d&&(l<=w||M<=v))){B=!1;break}C(K),(c+=u.x)<0&&(s=Z,o-=c=-c),d&&(p=c/d,l+=(r.height-p)/2);break;case I:if(u.y<=0&&(l<=w||d&&(o<=g||b<=f))){B=!1;break}C(I),p-=u.y,l+=u.y,p<0&&(s=_,l-=p=-p),d&&(c=p*d,o+=(r.width-c)/2);break;case Z:if(u.x<=0&&(o<=g||d&&(l<=w||M<=v))){B=!1;break}C(Z),c-=u.x,o+=u.x,c<0&&(s=K,o-=c=-c),d&&(p=c/d,l+=(r.height-p)/2);break;case _:if(0<=u.y&&(M<=v||d&&(o<=g||b<=f))){B=!1;break}C(_),(p+=u.y)<0&&(s=I,l-=p=-p),d&&(c=p*d,o+=(r.width-c)/2);break;case rt:if(d){if(u.y<=0&&(l<=w||b<=f)){B=!1;break}C(I),p-=u.y,l+=u.y,c=p*d}else C(I),C(K),0<=u.x?f<b?c+=u.x:u.y<=0&&l<=w&&(B=!1):c+=u.x,u.y<=0?w<l&&(p-=u.y,l+=u.y):(p-=u.y,l+=u.y);c<0&&p<0?(s=st,l-=p=-p,o-=c=-c):c<0?(s=ot,o-=c=-c):p<0&&(s=ht,l-=p=-p);break;case ot:if(d){if(u.y<=0&&(l<=w||o<=g)){B=!1;break}C(I),p-=u.y,l+=u.y,c=p*d,o+=r.width-c}else C(I),C(Z),u.x<=0?g<o?(c-=u.x,o+=u.x):u.y<=0&&l<=w&&(B=!1):(c-=u.x,o+=u.x),u.y<=0?w<l&&(p-=u.y,l+=u.y):(p-=u.y,l+=u.y);c<0&&p<0?(s=ht,l-=p=-p,o-=c=-c):c<0?(s=rt,o-=c=-c):p<0&&(s=st,l-=p=-p);break;case st:if(d){if(u.x<=0&&(o<=g||M<=v)){B=!1;break}C(Z),c-=u.x,o+=u.x,p=c/d}else C(_),C(Z),u.x<=0?g<o?(c-=u.x,o+=u.x):0<=u.y&&M<=v&&(B=!1):(c-=u.x,o+=u.x),0<=u.y?v<M&&(p+=u.y):p+=u.y;c<0&&p<0?(s=rt,l-=p=-p,o-=c=-c):c<0?(s=ht,o-=c=-c):p<0&&(s=ot,l-=p=-p);break;case ht:if(d){if(0<=u.x&&(b<=f||M<=v)){B=!1;break}C(K),p=(c+=u.x)/d}else C(_),C(K),0<=u.x?f<b?c+=u.x:0<=u.y&&M<=v&&(B=!1):c+=u.x,0<=u.y?v<M&&(p+=u.y):p+=u.y;c<0&&p<0?(s=ot,l-=p=-p,o-=c=-c):c<0?(s=st,o-=c=-c):p<0&&(s=rt,l-=p=-p);break;case qt:this.move(u.x,u.y),B=!1;break;case $t:this.zoom(function(W){var F=Pt({},W),j=[];return D(W,function(Y,$){delete F[$],D(F,function(P){var N=Math.abs(Y.startX-P.startX),H=Math.abs(Y.startY-P.startY),pt=Math.abs(Y.endX-P.endX),J=Math.abs(Y.endY-P.endY),nt=Math.sqrt(N*N+H*H),Q=(Math.sqrt(pt*pt+J*J)-nt)/nt;j.push(Q)})}),j.sort(function(Y,$){return Math.abs(Y)<Math.abs($)}),j[0]}(h),t),B=!1;break;case Ut:if(!u.x||!u.y){B=!1;break}i=oe(this.cropper),o=z.startX-i.left,l=z.startY-i.top,c=r.minWidth,p=r.minHeight,0<u.x?s=0<u.y?ht:rt:u.x<0&&(o-=c,s=0<u.y?st:ot),u.y<0&&(l-=p),this.cropped||(A(this.cropBox,T),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}B&&(r.width=c,r.height=p,r.left=o,r.top=l,this.action=s,this.renderCropBox()),D(h,function(W){W.startX=W.endX,W.startY=W.endY})}},Je={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&k(this.dragBox,gt),A(this.cropBox,T),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=x({},this.initialImageData),this.canvasData=x({},this.initialCanvasData),this.cropBoxData=x({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(x(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),A(this.dragBox,gt),k(this.cropBox,T)),this},replace:function(t,i){var e=1<arguments.length&&i!==void 0&&i;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,D(this.previews,function(n){n.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,A(this.cropper,Qt)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,k(this.cropper,Qt)),this},destroy:function(){var t=this.element;return t[y]&&(t[y]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate()),this},move:function(t,i){var e=1<arguments.length&&i!==void 0?i:t,n=this.canvasData,a=n.left,r=n.top;return this.moveTo(Nt(t)?t:a+Number(t),Nt(e)?e:r+Number(e))},moveTo:function(t,i){var e=1<arguments.length&&i!==void 0?i:t,n=this.canvasData,a=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(m(t)&&(n.left=t,a=!0),m(e)&&(n.top=e,a=!0),a&&this.renderCanvas(!0)),this},zoom:function(t,i){var e=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(e.width*t/e.naturalWidth,null,i)},zoomTo:function(t,i,e){var n=this.options,a=this.canvasData,r=a.width,h=a.height,s=a.naturalWidth,d=a.naturalHeight;if(0<=(t=Number(t))&&this.ready&&!this.disabled&&n.zoomable){var o=s*t,l=d*t;if(at(this.element,Wt,{ratio:t,oldRatio:r/s,originalEvent:e})===!1)return this;if(e){var c=this.pointers,p=oe(this.cropper),f=c&&Object.keys(c).length?function(v){var g=0,w=0,b=0;return D(v,function(M){var B=M.startX,C=M.startY;g+=B,w+=C,b+=1}),{pageX:g/=b,pageY:w/=b}}(c):{pageX:e.pageX,pageY:e.pageY};a.left-=(o-r)*((f.pageX-p.left-a.left)/r),a.top-=(l-h)*((f.pageY-p.top-a.top)/h)}else tt(i)&&m(i.x)&&m(i.y)?(a.left-=(o-r)*((i.x-a.left)/r),a.top-=(l-h)*((i.y-a.top)/h)):(a.left-=(o-r)/2,a.top-=(l-h)/2);a.width=o,a.height=l,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return m(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var i=this.imageData.scaleY;return this.scale(t,m(i)?i:1)},scaleY:function(t){var i=this.imageData.scaleX;return this.scale(m(i)?i:1,t)},scale:function(t,i){var e=1<arguments.length&&i!==void 0?i:t,n=this.imageData,a=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(m(t)&&(n.scaleX=t,a=!0),m(e)&&(n.scaleY=e,a=!0),a&&this.renderCanvas(!0,!0)),this},getData:function(t){var i,e=0<arguments.length&&t!==void 0&&t,n=this.options,a=this.imageData,r=this.canvasData,h=this.cropBoxData;if(this.ready&&this.cropped){i={x:h.left-r.left,y:h.top-r.top,width:h.width,height:h.height};var s=a.width/a.naturalWidth;if(D(i,function(l,c){i[c]=l/s}),e){var d=Math.round(i.y+i.height),o=Math.round(i.x+i.width);i.x=Math.round(i.x),i.y=Math.round(i.y),i.width=o-i.x,i.height=d-i.y}}else i={x:0,y:0,width:0,height:0};return n.rotatable&&(i.rotate=a.rotate||0),n.scalable&&(i.scaleX=a.scaleX||1,i.scaleY=a.scaleY||1),i},setData:function(t){var i=this.options,e=this.imageData,n=this.canvasData,a={};if(this.ready&&!this.disabled&&tt(t)){var r=!1;i.rotatable&&m(t.rotate)&&t.rotate!==e.rotate&&(e.rotate=t.rotate,r=!0),i.scalable&&(m(t.scaleX)&&t.scaleX!==e.scaleX&&(e.scaleX=t.scaleX,r=!0),m(t.scaleY)&&t.scaleY!==e.scaleY&&(e.scaleY=t.scaleY,r=!0)),r&&this.renderCanvas(!0,!0);var h=e.width/e.naturalWidth;m(t.x)&&(a.left=t.x*h+n.left),m(t.y)&&(a.top=t.y*h+n.top),m(t.width)&&(a.width=t.width*h),m(t.height)&&(a.height=t.height*h),this.setCropBoxData(a)}return this},getContainerData:function(){return this.ready?x({},this.containerData):{}},getImageData:function(){return this.sized?x({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,i={};return this.ready&&D(["left","top","width","height","naturalWidth","naturalHeight"],function(e){i[e]=t[e]}),i},setCanvasData:function(t){var i=this.canvasData,e=i.aspectRatio;return this.ready&&!this.disabled&&tt(t)&&(m(t.left)&&(i.left=t.left),m(t.top)&&(i.top=t.top),m(t.width)?(i.width=t.width,i.height=t.width/e):m(t.height)&&(i.height=t.height,i.width=t.height*e),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,i=this.cropBoxData;return this.ready&&this.cropped&&(t={left:i.left,top:i.top,width:i.width,height:i.height}),t||{}},setCropBoxData:function(t){var i,e,n=this.cropBoxData,a=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&tt(t)&&(m(t.left)&&(n.left=t.left),m(t.top)&&(n.top=t.top),m(t.width)&&t.width!==n.width&&(i=!0,n.width=t.width),m(t.height)&&t.height!==n.height&&(e=!0,n.height=t.height),a&&(i?n.height=n.width/a:e&&(n.width=n.height*a)),this.renderCropBox()),this},getCroppedCanvas:function(t){var i=0<arguments.length&&t!==void 0?t:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,n=function(nt,Q,Xt,V){var de=Q.aspectRatio,ti=Q.naturalWidth,ei=Q.naturalHeight,le=Q.rotate,ii=le===void 0?0:le,pe=Q.scaleX,ai=pe===void 0?1:pe,ue=Q.scaleY,ni=ue===void 0?1:ue,me=Xt.aspectRatio,ri=Xt.naturalWidth,oi=Xt.naturalHeight,ge=V.fillColor,hi=ge===void 0?"transparent":ge,fe=V.imageSmoothingEnabled,si=fe===void 0||fe,ve=V.imageSmoothingQuality,ci=ve===void 0?"low":ve,we=V.maxWidth,be=we===void 0?1/0:we,ye=V.maxHeight,xe=ye===void 0?1/0:ye,Me=V.minWidth,Ce=Me===void 0?0:Me,De=V.minHeight,Be=De===void 0?0:De,bt=document.createElement("canvas"),R=bt.getContext("2d"),ke=q({aspectRatio:me,width:be,height:xe}),Oe=q({aspectRatio:me,width:Ce,height:Be},"cover"),Rt=Math.min(ke.width,Math.max(Oe.width,ri)),At=Math.min(ke.height,Math.max(Oe.height,oi)),Te=q({aspectRatio:de,width:be,height:xe}),Ee=q({aspectRatio:de,width:Ce,height:Be},"cover"),We=Math.min(Te.width,Math.max(Ee.width,ti)),Ne=Math.min(Te.height,Math.max(Ee.height,ei)),di=[-We/2,-Ne/2,We,Ne];return bt.width=et(Rt),bt.height=et(At),R.fillStyle=hi,R.fillRect(0,0,Rt,At),R.save(),R.translate(Rt/2,At/2),R.rotate(ii*Math.PI/180),R.scale(ai,ni),R.imageSmoothingEnabled=si,R.imageSmoothingQuality=ci,R.drawImage.apply(R,[nt].concat(It(di.map(function(li){return Math.floor(et(li))})))),R.restore(),bt}(this.image,this.imageData,e,i);if(!this.cropped)return n;var a=this.getData(),r=a.x,h=a.y,s=a.width,d=a.height,o=n.width/Math.floor(e.naturalWidth);o!=1&&(r*=o,h*=o,s*=o,d*=o);var l=s/d,c=q({aspectRatio:l,width:i.maxWidth||1/0,height:i.maxHeight||1/0}),p=q({aspectRatio:l,width:i.minWidth||0,height:i.minHeight||0},"cover"),f=q({aspectRatio:l,width:i.width||(o!=1?n.width:s),height:i.height||(o!=1?n.height:d)}),v=f.width,g=f.height;v=Math.min(c.width,Math.max(p.width,v)),g=Math.min(c.height,Math.max(p.height,g));var w=document.createElement("canvas"),b=w.getContext("2d");w.width=et(v),w.height=et(g),b.fillStyle=i.fillColor||"transparent",b.fillRect(0,0,v,g);var M=i.imageSmoothingEnabled,B=M===void 0||M,C=i.imageSmoothingQuality;b.imageSmoothingEnabled=B,C&&(b.imageSmoothingQuality=C);var z,u,W,F,j,Y,$=n.width,P=n.height,N=r,H=h;N<=-s||$<N?j=W=z=N=0:N<=0?(W=-N,N=0,j=z=Math.min($,s+N)):N<=$&&(W=0,j=z=Math.min(s,$-N)),z<=0||H<=-d||P<H?Y=F=u=H=0:H<=0?(F=-H,H=0,Y=u=Math.min(P,d+H)):H<=P&&(F=0,Y=u=Math.min(d,P-H));var pt=[N,H,z,u];if(0<j&&0<Y){var J=v/s;pt.push(W*J,F*J,j*J,Y*J)}return b.drawImage.apply(b,[n].concat(It(pt.map(function(nt){return Math.floor(et(nt))})))),w},setAspectRatio:function(t){var i=this.options;return this.disabled||Nt(t)||(i.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var i=this.options,e=this.dragBox,n=this.face;if(this.ready&&!this.disabled){var a=t===Bt,r=i.movable&&t===Zt;t=a||r?t:Gt,i.dragMode=t,dt(e,ct,t),it(e,Ct,a),it(e,Dt,r),i.cropBoxMovable||(dt(n,ct,t),it(n,Ct,a),it(n,Dt,r))}return this}},Ve=S.Cropper,wt=function(){function t(i){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};if(function(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}(this,t),!i||!Xe.test(i.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=i,this.options=x({},ee,tt(e)&&e),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return function(i,e,n){e&&St(i.prototype,e),n&&St(i,n)}(t,[{key:"init",value:function(){var i,e=this.element,n=e.tagName.toLowerCase();if(!e[y]){if(e[y]=this,n==="img"){if(this.isImg=!0,i=e.getAttribute("src")||"",!(this.originalUrl=i))return;i=e.src}else n==="canvas"&&window.HTMLCanvasElement&&(i=e.toDataURL());this.load(i)}}},{key:"load",value:function(i){var e=this;if(i){this.url=i,this.imageData={};var n=this.element,a=this.options;if(a.rotatable||a.scalable||(a.checkOrientation=!1),a.checkOrientation&&window.ArrayBuffer)if(ze.test(i))Ye.test(i)?this.read(function(s){var d=s.replace(qe,""),o=atob(d),l=new ArrayBuffer(o.length),c=new Uint8Array(l);return D(c,function(p,f){c[f]=o.charCodeAt(f)}),l}(i)):this.clone();else{var r=new XMLHttpRequest,h=this.clone.bind(this);this.reloading=!0,(this.xhr=r).onabort=h,r.onerror=h,r.ontimeout=h,r.onprogress=function(){r.getResponseHeader("content-type")!==te&&r.abort()},r.onload=function(){e.read(r.response)},r.onloadend=function(){e.reloading=!1,e.xhr=null},a.checkCrossOrigin&&he(i)&&n.crossOrigin&&(i=se(i)),r.open("GET",i),r.responseType="arraybuffer",r.withCredentials=n.crossOrigin==="use-credentials",r.send()}else this.clone()}}},{key:"read",value:function(i){var e=this.options,n=this.imageData,a=$e(i),r=0,h=1,s=1;if(1<a){this.url=function(o,l){for(var c=[],p=new Uint8Array(o);0<p.length;)c.push(ce.apply(null,ae(p.subarray(0,8192)))),p=p.subarray(8192);return"data:".concat(l,";base64,").concat(btoa(c.join("")))}(i,te);var d=function(o){var l=0,c=1,p=1;switch(o){case 2:c=-1;break;case 3:l=-180;break;case 4:p=-1;break;case 5:l=90,p=-1;break;case 6:l=90;break;case 7:l=90,c=-1;break;case 8:l=-90}return{rotate:l,scaleX:c,scaleY:p}}(a);r=d.rotate,h=d.scaleX,s=d.scaleY}e.rotatable&&(n.rotate=r),e.scalable&&(n.scaleX=h,n.scaleY=s),this.clone()}},{key:"clone",value:function(){var i=this.element,e=this.url,n=i.crossOrigin,a=e;this.options.checkCrossOrigin&&he(e)&&(n=n||"anonymous",a=se(e)),this.crossOrigin=n,this.crossOriginUrl=a;var r=document.createElement("img");n&&(r.crossOrigin=n),r.src=a||e,r.alt=i.alt||"The image to crop",(this.image=r).onload=this.start.bind(this),r.onerror=this.stop.bind(this),k(r,Kt),i.parentNode.insertBefore(r,i.nextSibling)}},{key:"start",value:function(){var i=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;function n(s,d){x(i.imageData,{naturalWidth:s,naturalHeight:d,aspectRatio:s/d}),i.sizing=!1,i.sized=!0,i.build()}var a=S.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(S.navigator.userAgent);if(!e.naturalWidth||a){var r=document.createElement("img"),h=document.body||document.documentElement;(this.sizingImage=r).onload=function(){n(r.width,r.height),a||h.removeChild(r)},r.src=e.src,a||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",h.appendChild(r))}else n(e.naturalWidth,e.naturalHeight)}},{key:"stop",value:function(){var i=this.image;i.onload=null,i.onerror=null,i.parentNode.removeChild(i),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var i=this.element,e=this.options,n=this.image,a=i.parentNode,r=document.createElement("div");r.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var h=r.querySelector(".".concat(y,"-container")),s=h.querySelector(".".concat(y,"-canvas")),d=h.querySelector(".".concat(y,"-drag-box")),o=h.querySelector(".".concat(y,"-crop-box")),l=o.querySelector(".".concat(y,"-face"));this.container=a,this.cropper=h,this.canvas=s,this.dragBox=d,this.cropBox=o,this.viewBox=h.querySelector(".".concat(y,"-view-box")),this.face=l,s.appendChild(n),k(i,T),a.insertBefore(h,i.nextSibling),this.isImg||A(n,Kt),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,k(o,T),e.guides||k(o.getElementsByClassName("".concat(y,"-dashed")),T),e.center||k(o.getElementsByClassName("".concat(y,"-center")),T),e.background&&k(h,"".concat(y,"-bg")),e.highlight||k(l,He),e.cropBoxMovable&&(k(l,Dt),dt(l,ct,Mt)),e.cropBoxResizable||(k(o.getElementsByClassName("".concat(y,"-line")),T),k(o.getElementsByClassName("".concat(y,"-point")),T)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),E(e.ready)&&L(i,"ready",e.ready,{once:!0}),at(i,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),A(this.element,T))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Ve,t}},{key:"setDefaults",value:function(i){x(ee,tt(i)&&i)}}]),t}();if(x(wt.prototype,Qe,Ke,Ze,Ge,Fe,Je),O.fn){var _e=O.fn.cropper,Yt="cropper";O.fn.cropper=function(t){for(var i=arguments.length,e=new Array(1<i?i-1:0),n=1;n<i;n++)e[n-1]=arguments[n];var a;return this.each(function(r,h){var s=O(h),d=t==="destroy",o=s.data(Yt);if(!o){if(d)return;var l=O.extend({},s.data(),O.isPlainObject(t)&&t);o=new wt(h,l),s.data(Yt,o)}if(typeof t=="string"){var c=o[t];O.isFunction(c)&&((a=c.apply(o,e))===o&&(a=void 0),d&&s.removeData(Yt))}}),a!==void 0?a:this},O.fn.cropper.Constructor=wt,O.fn.cropper.setDefaults=wt.setDefaults,O.fn.cropper.noConflict=function(){return O.fn.cropper=_e,this}}})})();
